<!DOCTYPE html>
<html lang="pt-BR" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portal Auto Arremate® & Arremaq - Trilha de Aprendizado</title>

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Sora:wght@400;600;700;800&family=Manrope:wght@400;500;600;700;800&family=IBM+Plex+Sans:wght@400;500;600;700;900&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Font Awesome para ícones -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <!-- Biblioteca Animate On Scroll -->
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <!-- Tailwind CSS (Script para carregar as classes, mesmo que o CSS seja unificado) -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Tone.js para efeitos sonoros (necessário para o quiz/jogo) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.49/Tone.js"></script>
    <!-- Three.js e Addons para o jogo 3D -->
    <script async src="https://unpkg.com/es-module-shims@1.6.3/dist/es-module-shims.js"></script>
    <script type="importmap">
    {
        "imports": {
            "three": "https://cdn.jsdelivr.net/npm/three@0.128.0/build/three.module.js",
            "three/addons/": "https://cdn.jsdelivr.net/npm/three@0.128.0/examples/jsm/"
        }
    }
    </script>
    <!-- Firebase JS SDK (apenas módulos necessários) -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getAuth, signInAnonymously, signInWithCustomToken, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        import { getFirestore, collection, addDoc, query, orderBy, limit, getDocs, setLogLevel, serverTimestamp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";
        
        // As variáveis globais __firebase_config e __initial_auth_token são injetadas pelo ambiente Canvas.
        // Se estiver executando fora do ambiente Canvas, pode fornecer valores de fallback ou tratar o erro.
        const firebaseConfigFromHost = typeof __firebase_config !== 'undefined' ? __firebase_config : null;
        const firebaseConfig = firebaseConfigFromHost ? JSON.parse(firebaseConfigFromHost) : {
            apiKey: "YOUR_FALLBACK_API_KEY",
            authDomain: "YOUR_FALLBACK_AUTH_DOMAIN",
            projectId: "YOUR_FALLBACK_PROJECT_ID",
            storageBucket: "YOUR_FALLBACK_STORAGE_BUCKET",
            messagingSenderId: "YOUR_FALLBACK_MESSAGING_SENDER_ID",
            appId: "YOUR_FALLBACK_APP_ID"
        };
        
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getFirestore(app);
        // setLogLevel('debug'); // Descomente para logs de depuração do Firebase
        
        // Exporta instâncias para serem acessíveis no escopo global do script principal
        window.firebaseApp = app;
        window.firebaseAuth = auth;
        window.firebaseDb = db;
        window.firebaseAddDoc = addDoc;
        window.firebaseCollection = collection;
        window.firebaseQuery = query;
        window.firebaseOrderBy = orderBy;
        window.firebaseLimit = limit;
        window.firebaseGetDocs = getDocs;
        window.firebaseServerTimestamp = serverTimestamp;

        let currentUserId = null;
        let isAuthReady = false; // Flag para indicar que o estado de autenticação foi verificado

        onAuthStateChanged(auth, async (user) => {
            if (user) {
                currentUserId = user.uid;
                // console.log("Usuário autenticado:", currentUserId);
            } else {
                // console.log("Nenhum usuário autenticado. Realizando login anônimo...");
                const customToken = typeof __initial_auth_token !== 'undefined' ? __initial_auth_token : null;
                if (customToken) {
                    try {
                        await signInWithCustomToken(auth, customToken);
                    } catch (err) {
                        console.error("Erro no login com token customizado, tentando anônimo:", err);
                        await signInAnonymously(auth).catch(e => console.error("Erro no login anônimo:", e));
                    }
                } else {
                    await signInAnonymously(auth).catch(e => console.error("Erro no login anônimo:", e));
                }
            }
            isAuthReady = true;
            // console.log("Firebase Auth Ready:", isAuthReady);
            // Se houver funções que dependem da autenticação, chame-as aqui após isAuthReady = true
            // Por exemplo, checkCertificateEligibility();
        });
        window.getCurrentUserId = () => currentUserId;
        window.isAuthReady = () => isAuthReady;
    </script>
    
    <style>
        /*
         * =====================================================================
         * Variáveis CSS (Paleta de Cores & Fontes)
         *
         * Esta seção define a paleta de cores principal, cores de feedback,
         * famílias de fontes e tamanhos de raio de borda para todo o portal.
         * As cores foram aprimoradas para serem mais vibrantes e dinâmicas,
         * permitindo transições suaves entre temas claro e escuro.
         * =====================================================================
         */
        :root {
            /* Cores Principais da Marca: Auto Arremate (Verde) */
            --aa-green: #16B097; /* Verde vibrante */
            --aa-green-darker: #0F8A7E; /* Verde mais escuro para hover/ativos */
            --aa-green-lighter: #D2F3EC; /* Verde claro para fundos/destaques */
            --aa-green-pastel: #f0fdfa; /* Verde muito claro, quase branco para seções */
            --aa-green-darkest: #0B4A43; /* Verde bem escuro para tema dark */
            --aa-green-text-dark-theme: #2DD4BF; /* Verde para texto em tema dark */

            /* Cores Principais da Marca: Arremaq (Laranja) */
            --arremaq-orange: #FF8C00; /* Laranja vibrante */
            --arremaq-orange-darker: #D97706; /* Laranja mais escuro para hover/ativos */
            --arremaq-orange-lighter: #FFD073; /* Laranja claro para fundos/destaques */
            --arremaq-orange-pastel: #fffbeb; /* Laranja muito claro para seções */
            --arremaq-orange-darkest: #4D2A00; /* Laranja bem escuro para tema dark */
            --arremaq-orange-text-dark-theme: #FDBA74; /* Laranja para texto em tema dark */

            /* Cores Neutras e de Destaque */
            --aa-dark-blue: #1C2E42; /* Azul escuro predominante */
            --aa-dark-blue-lighter: #2C4A6B; /* Azul mais claro para elementos interativos */
            --aa-light-gray: #AEB0B2; /* Cinza claro para elementos muted */
            --aa-medium-gray: #6c7a89; /* Cinza médio */
            --aa-white: #FFFFFF; /* Branco puro */
            --aa-black: #000000; /* Preto puro */
            --aa-shiny-gray-light: #E5E7EB; /* Cinza brilhante (fundo capa) */
            --aa-shiny-gray-dark: #374151; /* Cinza escuro (fundo capa dark) */

            /* Cores de Feedback e Alerta */
            --color-success: #28a745;   /* Verde para sucesso */
            --color-error: #dc3545;     /* Vermelho para erro */
            --color-warning: #ffc107;   /* Amarelo para aviso */

            /* Fontes: Mais vibrantes e profissionais */
            --font-headings-cover: 'Manrope', sans-serif;    /* Fontes para títulos de capa */
            --font-body-cover: 'Inter', sans-serif;          /* Fonte principal para corpo e texto geral */
            --font-primary-portal: 'Inter', sans-serif;      /* Fonte primária para o portal */
            --font-headings-portal: 'Sora', sans-serif;      /* Fontes para títulos dentro do portal */

            /* Fundos: Definidos para alternância suave de tema */
            --bg-main-light: var(--aa-green-pastel);         /* Fundo principal (tema claro) */
            --bg-main-dark: #0a121c;                         /* Fundo principal (tema escuro) */
            --bg-content-light-portal: var(--aa-white);        /* Fundo de cards/conteúdo (tema claro) */
            --bg-content-dark-portal: #1e293b;                 /* Fundo de cards/conteúdo (tema escuro) */
            --bg-cards-section-light: #f0f4f8;                 /* Fundo de seções com cards (tema claro) */
            --bg-cards-section-dark: #111827;                  /* Fundo de seções com cards (tema escuro) */

            /* Textos: Definidos para alternância suave de tema */
            --text-headings-light-portal: var(--aa-dark-blue); /* Cor de títulos (tema claro) */
            --text-headings-dark-portal: var(--aa-green-lighter); /* Cor de títulos (tema escuro) */
            --text-body-light-portal: #334155;                 /* Cor do corpo do texto (tema claro) */
            --text-body-dark-portal: #cbd5e1;                  /* Cor do corpo do texto (tema escuro) */
            --text-muted-light-portal: #616161;                 /* Cor de texto secundário (tema claro) */
            --text-muted-dark-portal: #94a3b8;                 /* Cor de texto secundário (tema escuro) */

            /* Bordas: Definidos para alternância suave de tema */
            --border-color-light-portal: #e2e8f0;             /* Cor de bordas (tema claro) */
            --border-color-dark-portal: #334155;              /* Cor de bordas (tema escuro) */

            /* Sombras: Utilizam RGBA para opacidade e transições */
            --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.08);
            --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.15), 0 2px 4px -2px rgba(0, 0, 0, 0.08);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.2), 0 4px 6px -4px rgba(0, 0, 0, 0.1);
            --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.25), 0 8px 10px -6px rgba(0, 0, 0, 0.15);
            /* Sombras especiais para tema escuro */
            --shadow-dark-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.2);
            --shadow-dark-md: 0 4px 6px -1px rgba(0, 0, 0, 0.3), 0 2px 4px -2px rgba(0, 0, 0, 0.2);
            --shadow-dark-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.4), 0 4px 6px -4px rgba(0, 0, 0, 0.25);
            --shadow-dark-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.5), 0 8px 10px -6px rgba(0, 0, 0, 0.3);


            /* Raio da Borda: Consistência visual */
            --radius-sm: 0.25rem;
            --radius-md: 0.5rem;
            --radius-lg: 0.75rem;
            --radius-xl: 1rem;
            --radius-2xl: 1.5rem;
            --radius-card-portal: 1.25rem;
            --radius-button-portal: 0.75rem;
            --radius-full: 9999px; /* Para elementos circulares */

            /* Transições: Para animações suaves e coesas */
            --transition-fast: .15s ease-out;
            --transition-main: .3s cubic-bezier(.4,0,.2,1);
            --transition-slow: .5s cubic-bezier(.4,0,.2,1);

            /* Animações: Nomes das animações globais */
            --animation-background-gradient: backgroundGradientAnimation 25s ease infinite alternate;
            --animation-logo-float: logo-float 3.5s ease-in-out infinite alternate;
            --animation-logo-pulse: logo-pulse 2s linear infinite;
            --animation-title-glow: fun-title-glow-animation 5s ease-in-out infinite alternate;
            --animation-frase-pulse: fun-frase-pulse 3.5s ease-in-out infinite;
            --animation-created-by-pulse: created-by-pulse 6s infinite alternate;
        }

        /*
         * =====================================================================
         * Estilos Globais e Tema Escuro (Aplicação)
         *
         * Configurações base para o HTML e BODY, e as regras para alternância
         * de tema escuro, garantindo transições de cores em todo o layout.
         * =====================================================================
         */
        html {
            scroll-behavior: smooth; /* Rolagem suave para âncoras */
            font-family: var(--font-primary-portal); /* Aplica a fonte principal */
            font-size: 91%; /* Tamanho base da fonte (ajustável para acessibilidade) */
            background-color: var(--bg-main-light); /* Cor de fundo principal (claro) */
            color: var(--text-body-light-portal); /* Cor do texto principal (claro) */
            /* Transições para propriedades que mudam com o tema */
            transition: background-color var(--transition-main), color var(--transition-main);
        }

        /* Regras para o Tema Escuro (ativado por data-theme='dark' no HTML) */
        html[data-theme='dark'] {
            background-color: var(--bg-main-dark); /* Cor de fundo principal (escuro) */
            color: var(--text-body-dark-portal); /* Cor do texto principal (escuro) */
        }

        /* Estilo para o corpo do documento */
        body {
            margin: 0;
            font-family: var(--font-primary-portal); /* Garante a fonte para o body */
            overflow-x: hidden; /* Previne rolagem horizontal indesejada */
            display: flex;
            flex-direction: column;
            min-height: 100vh; /* Garante que o body ocupe a altura total da viewport */
            line-height: 1.7; /* Espaçamento entre linhas para melhor legibilidade */
        }

        /* Utilitário para ocultar elementos */
        .hidden { display: none !important; }

        /* Estilo de foco para acessibilidade (melhora a usabilidade para navegação por teclado) */
        *:focus-visible {
            outline: 3px solid var(--arremaq-orange-lighter); /* Foco vibrante */
            outline-offset: 2px; /* Afasta o outline da borda do elemento */
            border-radius: var(--radius-md); /* Suaviza as bordas do outline */
        }

        /* Estilo para elementos desabilitados */
        .disabled {
            opacity: 0.6; /* Reduz a opacidade */
            pointer-events: none; /* Desativa eventos de mouse */
            cursor: not-allowed; /* Altera o cursor */
            filter: grayscale(80%); /* Aplica um filtro de tons de cinza */
        }

        /*
         * =====================================================================
         * Seção 1: Página de Capa
         *
         * Estilização da tela de entrada do portal, com logos, títulos,
         * botões de interação e links sociais, todos com animações e efeitos
         * visuais para uma primeira impressão marcante.
         * =====================================================================
         */
        .capa-section {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 100vh; /* Ocupa a altura total da tela */
            padding: clamp(1.2rem, 4.8vw, 2.4rem) clamp(0.8rem, 4vw, 1.6rem); /* Padding responsivo */
            text-align: center;
            position: relative;
            /* Gradiente de fundo animado que se move e alterna */
            background: linear-gradient(60deg, var(--arremaq-orange-pastel) 0%, var(--arremaq-orange-lighter) 15%, var(--aa-shiny-gray-light) 35%, var(--aa-green-lighter) 55%, var(--aa-shiny-gray-light) 75%, var(--aa-green-pastel) 90%, var(--arremaq-orange-pastel) 100%);
            background-size: 300% 300%; /* Tamanho do gradiente para permitir movimento */
            animation: var(--animation-background-gradient); /* Animação definida nas variáveis */
            overflow: hidden; /* Esconde conteúdo que transborda */
        }
        /* Tema escuro para a seção de capa */
        html[data-theme='dark'] .capa-section {
            background: linear-gradient(60deg, var(--arremaq-orange-darkest) 0%, var(--arremaq-orange-darker) 15%, var(--aa-shiny-gray-dark) 35%, var(--aa-dark-blue) 55%, var(--aa-shiny-gray-dark) 75%, var(--aa-green-darkest) 90%, var(--arremaq-orange-darkest) 100%);
            background-size: 300% 300%;
            animation: var(--animation-background-gradient);
        }
        /* Keyframes para a animação do gradiente de fundo */
        @keyframes backgroundGradientAnimation {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* Container dos logotipos */
        .logos-container {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 1.6rem; /* Espaçamento entre os logos */
            margin-bottom: 1.8rem;
        }
        .playbook-logo {
            width: 200px;
            max-width: 48%; /* Garante que não transborde em telas pequenas */
            height: auto;
            /* Sombra e animações de flutuação e pulso */
            filter: drop-shadow(0 0.6rem 1.2rem rgba(0,0,0,0.15));
            animation: var(--animation-logo-float), var(--animation-logo-pulse);
        }
        /* Ajuste de sombra para tema escuro */
        html[data-theme='dark'] .playbook-logo {
            filter: drop-shadow(0 0.6rem 1.2rem rgba(0,0,0,0.4));
        }
        /* Keyframes para a animação de flutuação dos logos */
        @keyframes logo-float {
            0% { transform: translateY(0px); }
            100% { transform: translateY(-8px); }
        }
        /* Keyframes para a animação de pulso dos logos */
        @keyframes logo-pulse {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.8; transform: scale(1.02); }
            100% { opacity: 1; transform: scale(1); }
        }

        /* Título principal da capa */
        .capa-title {
            font-family: var(--font-headings-cover);
            font-weight: 800;
            text-align: center;
            margin-top: 0.6em;
            margin-bottom: 1em;
            font-size: clamp(1.2rem, 2.8vw, 1.6rem); /* Tamanho de fonte responsivo */
            line-height: 1.4;
            text-transform: uppercase;
            letter-spacing: 0.08em;
            color: var(--aa-dark-blue);
            text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
        }
        /* Tema escuro para o título */
        html[data-theme='dark'] .capa-title {
            color: var(--aa-green-lighter);
            text-shadow: 1px 1px 3px rgba(0,0,0,0.3);
        }
        .capa-title .capa-title-line { display: block; margin-bottom: 0.2em; }
        .capa-title .capa-title-line:last-child { margin-bottom: 0; }
        /* Efeito de brilho animado para o título */
        .capa-title.fun-title-effect {
            animation: var(--animation-title-glow);
            position: relative;
        }
        /* Keyframes para a animação de brilho do título */
        @keyframes fun-title-glow-animation {
            0%, 100% { text-shadow: 0 0 8px var(--aa-green), 0 0 12px var(--arremaq-orange); }
            50% { text-shadow: 0 0 15px var(--aa-green-lighter), 0 0 20px var(--arremaq-orange-lighter); }
            100% { text-shadow: 0 0 8px var(--aa-green), 0 0 12px var(--arremaq-orange); }
        }

        /* Estilo para emojis que devem manter sua cor original e não herdar a cor do texto */
        .emoji-original-color {
            -webkit-text-fill-color: initial; /* Para Webkit */
            text-fill-color: initial;          /* Padrão */
            background: none;
            display: inline-block;
            text-shadow: none;
        }
        /* Classe para emojis com fundo arredondado e sombra */
        .rounded-emoji-icon {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 1.5em; /* Tamanho do círculo */
            height: 1.5em; /* Tamanho do círculo */
            border-radius: var(--radius-full);
            background-color: var(--aa-green-lighter); /* Cor de fundo padrão */
            color: var(--aa-dark-blue); /* Cor do emoji dentro do círculo */
            font-size: 0.9em; /* Ajusta o tamanho do emoji dentro do círculo */
            box-shadow: var(--shadow-sm);
            transition: all var(--transition-fast);
        }
        html[data-theme='dark'] .rounded-emoji-icon {
            background-color: var(--aa-dark-blue-lighter);
            color: var(--aa-green-lighter);
        }
        /* Efeito no hover para emojis dentro de elementos interativos */
        .interactive-summary-obj:hover .rounded-emoji-icon,
        .menu-card:hover .rounded-emoji-icon,
        .arena-game-card:hover .rounded-emoji-icon {
            transform: scale(1.1) rotate(5deg);
            box-shadow: var(--shadow-md);
        }
        /* Especificamente para ícones Font Awesome dentro de rounded-emoji-icon */
        .rounded-emoji-icon.fas, .rounded-emoji-icon.fab {
            background-color: transparent; /* Remove o fundo se for apenas um ícone */
            box-shadow: none;
            font-size: 1em; /* Garante que o ícone preencha o espaço */
            width: auto;
            height: auto;
        }

        /* Classes para cores de texto específicas da marca */
        .text-aa-green-darker { color: var(--aa-green-darker) !important; }
        html[data-theme='dark'] .text-aa-green-darker { color: var(--aa-green-text-dark-theme) !important; }
        .text-arremaq-orange-darker { color: var(--arremaq-orange-darker) !important; }
        html[data-theme='dark'] .text-arremaq-orange-darker { color: var(--arremaq-orange-text-dark-theme) !important; }

        /* Frase de destaque na capa */
        .frase-destaque {
            font-family: var(--font-headings-cover);
            font-size: clamp(0.9rem, 1.8vw, 1.25rem);
            font-weight: 700;
            background: rgba(255,255,255,0.2); /* Fundo semitransparente */
            border-radius: var(--radius-lg);
            padding: 0.5em 1em;
            margin-bottom: 1rem;
            margin-top: 0.8em;
            display: block;
            max-width: 90%;
            margin-left: auto;
            margin-right: auto;
            text-shadow: 0 1px 4px rgba(0,0,0,0.2);
            backdrop-filter: blur(2px); /* Efeito de desfoque de fundo */
            -webkit-backdrop-filter: blur(2px); /* Para navegadores Webkit */
            transition: all var(--transition-main);
            border: 1px solid rgba(255,255,255,0.3);
        }
        /* Tema escuro para a frase de destaque */
        html[data-theme='dark'] .frase-destaque {
            background: rgba(0,0,0,0.3);
            text-shadow: 0 1px 4px rgba(0,0,0,0.4);
            border: 1px solid rgba(255,255,255,0.1);
        }
        .frase-destaque-verde { color: var(--aa-green-darker); }
        html[data-theme='dark'] .frase-destaque-verde { color: var(--aa-green-text-dark-theme); }
        .frase-destaque-laranja { color: var(--arremaq-orange-darker); }
        html[data-theme='dark'] .frase-destaque-laranja { color: var(--arremaq-orange-text-dark-theme); }
        .frase-destaque .rounded-emoji-icon {
            width: 1.2em; height: 1.2em;
            font-size: 1em;
            vertical-align: middle;
            background: none; /* Remove o fundo do span se o emoji for transparente ou usar cor padrão */
            box-shadow: none;
        }
        /* Animação de pulso para a frase de destaque */
        .frase-destaque.fun-frase-effect {
            animation: var(--animation-frase-pulse);
        }
        /* Keyframes para a animação de pulso da frase */
        @keyframes fun-frase-pulse {
            0%, 100% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.015); opacity: 0.95; }
            100% { transform: scale(1); opacity: 1; }
        }

        /* Texto de "Criado por" na capa */
        .capa-criado {
            font-family: var(--font-body-cover);
            font-size: 0.85rem;
            color: var(--aa-dark-blue);
            opacity: 0.95;
            margin-top: 1.5rem;
            margin-bottom: 1.5rem;
            font-weight: 500;
            animation: var(--animation-created-by-pulse); /* Animação definida nas variáveis */
            text-align: center;
            text-shadow: 0 1px 2px rgba(0,0,0,0.1);
        }
        /* Tema escuro para o texto "Criado por" */
        html[data-theme='dark'] .capa-criado {
            color: #E2E8F0;
            opacity: 0.9;
            text-shadow: 0 1px 2px rgba(0,0,0,0.2);
        }
        /* Keyframes para a animação de pulso do texto "Criado por" */
        @keyframes created-by-pulse {
            0% { text-shadow: 0 0 5px rgba(22, 176, 151, 0.3), 0 0 2px rgba(255, 140, 0, 0.2); transform: scale(1); }
            50% { text-shadow: 0 0 10px rgba(22, 176, 151, 0.5), 0 0 6px rgba(255, 140, 0, 0.4); transform: scale(1.02); }
            100% { text-shadow: 0 0 5px rgba(22, 176, 151, 0.3), 0 0 2px rgba(255, 140, 0, 0.2); transform: scale(1); }
        }
        .capa-criado .rounded-emoji-icon { font-size: 1.1em; vertical-align: baseline; margin: 0 0.2em; background: none; box-shadow: none;}
        /* Nome do criador com gradiente animado */
        .capa-criado .creator-name {
            font-weight: 700;
            background: linear-gradient(45deg, var(--aa-green-darker) 20%, var(--aa-green) 50%, var(--arremaq-orange) 80%);
            -webkit-background-clip: text; /* Recorta o fundo para o texto */
            background-clip: text;
            -webkit-text-fill-color: transparent; /* Torna o texto transparente para mostrar o fundo */
            text-fill-color: transparent;
            padding: 0 0.2em;
            display: inline-block;
        }
        /* Tema escuro para o nome do criador */
        html[data-theme='dark'] .capa-criado .creator-name {
            background: linear-gradient(45deg, var(--aa-green-lighter) 20%, var(--aa-green) 50%, var(--arremaq-orange-lighter) 80%);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            text-fill-color: transparent;
        }

        /* Botão "Iniciar Trilha" */
        .btn-iniciar {
            display: inline-flex;
            align-items: center;
            gap: 0.8em;
            font-family: var(--font-headings-cover);
            font-size: 1rem;
            font-weight: bold;
            padding: 0.8em 2em;
            /* Gradiente animado para o fundo */
            background-image: linear-gradient(45deg, var(--aa-green-darker) 0%, var(--aa-green) 50%, var(--aa-green-darker) 100%);
            background-size: 250% auto; /* Tamanho do fundo para animação de movimento */
            color: var(--aa-white);
            border: none;
            border-radius: var(--radius-full); /* Botão totalmente arredondado */
            cursor: pointer;
            /* Sombra e transições com foco em beleza e interação */
            box-shadow: 0 6px 18px rgba(22, 176, 151, 0.4), 0 2px 4px -2px var(--aa-green-darker) inset;
            transition: all 0.5s ease-out, background-position 0.6s ease-out;
            outline: none;
            margin-top: 1.5em;
            margin-bottom: 1.5em;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            position: relative;
            overflow: hidden;
            will-change: transform, box-shadow, background-position;
        }
        .btn-iniciar:hover {
            background-position: right center; /* Move o gradiente para a direita */
            transform: scale(1.1) translateY(-5px); /* Aumenta e levanta o botão */
            box-shadow: 0 8px 22px rgba(22, 176, 151, 0.5), 0 2px 4px -2px var(--aa-green) inset, 0 0 18px var(--aa-green-lighter); /* Sombra mais intensa e brilho */
        }
        /* Tema escuro para o botão */
        html[data-theme='dark'] .btn-iniciar {
            background-image: linear-gradient(45deg, var(--aa-green) 0%, var(--aa-green-lighter) 50%, var(--aa-green) 100%);
            color: var(--aa-dark-blue);
            box-shadow: 0 6px 18px rgba(22, 176, 151, 0.5), 0 2px 4px -2px var(--aa-green) inset;
        }
        html[data-theme='dark'] .btn-iniciar:hover {
            color: var(--aa-dark-blue);
            box-shadow: 0 8px 22px rgba(22, 176, 151, 0.6), 0 2px 4px -2px var(--aa-green-darker) inset, 0 0 20px var(--aa-green);
        }
        .btn-iniciar svg {
            width: 1.4em;
            height: 1.4em;
            transition: transform 0.5s ease; /* Transição para o ícone SVG */
        }
        .btn-iniciar:hover svg {
            transform: rotate(20deg) scale(1.2) translateX(4px); /* Animação do ícone ao passar o mouse */
        }

        /* Links sociais da capa */
        .capa-social-links {
            margin-top: 1.5rem;
            display: flex;
            gap: 1.2rem;
            justify-content: center;
            align-items: center;
        }
        .capa-social-links a {
            color: var(--aa-white);
            font-size: 1.25rem;
            transition: all var(--transition-main);
            width: 50px;
            height: 50px;
            border-radius: var(--radius-full);
            display: inline-flex;
            align-items: center;
            justify-content: center;
            background-image: linear-gradient(45deg, var(--aa-green), var(--aa-green-darker));
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
            position: relative;
            overflow: hidden;
            z-index: 1;
        }
        /* Efeito de brilho ao passar o mouse sobre os links sociais */
        .capa-social-links a::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 120%;
            height: 120%;
            background: rgba(255, 255, 255, 0.2);
            transform: translate(-50%, -50%) rotate(45deg);
            transition: all 0.3s ease-out;
            opacity: 0;
        }
        .capa-social-links a:hover::before {
            opacity: 1;
            width: 0;
            height: 0;
        }
        .capa-social-links a:hover {
            background-image: linear-gradient(45deg, var(--arremaq-orange), var(--arremaq-orange-darker));
            transform: scale(1.2) rotate(-15deg); /* Aumenta e gira o ícone */
            box-shadow: 0 6px 15px rgba(0,0,0,0.3);
        }
        /* Tema escuro para os links sociais */
        html[data-theme='dark'] .capa-social-links a {
            background-image: linear-gradient(45deg, var(--aa-green-text-dark-theme), var(--aa-green));
            color: var(--aa-dark-blue);
        }
        html[data-theme='dark'] .capa-social-links a:hover {
            background-image: linear-gradient(45deg, var(--arremaq-orange-text-dark-theme), var(--arremaq-orange-darker));
            color: var(--aa-white);
        }

        /*
         * =====================================================================
         * Seção 2: Menu Principal (Central de Comando)
         *
         * O hub central do portal, com cards de navegação que levam a diferentes
         * seções da trilha de aprendizado e funcionalidades.
         * =====================================================================
         */
        .menu-principal-section {
            min-height: 100vh;
            padding: clamp(2rem, 8vw, 4rem) clamp(1rem, 5vw, 2rem);
            text-align: center;
            background-color: var(--bg-cards-section-light);
            transition: background-color var(--transition-main), color var(--transition-main);
            padding-top: 60px; /* Espaço para a barra de progresso */
        }
        html[data-theme='dark'] .menu-principal-section {
            background-color: var(--bg-cards-section-dark);
        }
        .menu-principal-title {
            font-family: var(--font-headings-cover);
            font-size: clamp(1.8rem, 4vw, 2.5rem);
            font-weight: 800;
            color: var(--text-headings-light-portal);
            margin-bottom: 3rem;
            line-height: 1.2;
            text-transform: uppercase;
            text-shadow: 1px 1px 3px rgba(0,0,0,0.1);
        }
        html[data-theme='dark'] .menu-principal-title {
            color: var(--text-headings-dark-portal);
            text-shadow: 1px 1px 4px rgba(0,0,0,0.3);
        }

        /* Estilo para os cards do menu principal */
        .menu-card {
            background-color: var(--bg-content-light-portal);
            border-radius: var(--radius-xl);
            padding: 2.2rem 1.8rem;
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
            transition: all 0.4s cubic-bezier(.2,0,.2,1); /* Transição de hover mais complexa */
            border: 1px solid var(--border-color-light-portal);
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            cursor: pointer;
            height: 100%;
            min-height: 300px; /* Altura mínima para consistência */
            justify-content: center;
            position: relative;
            overflow: hidden;
            will-change: transform, box-shadow; /* Otimização de performance para animações */
        }
        /* Efeito de gradiente sutil no hover */
        .menu-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, rgba(22,176,151,0.1) 0%, rgba(255,140,0,0.1) 100%);
            opacity: 0;
            transition: opacity 0.3s ease-out;
        }
        .menu-card:hover::before {
            opacity: 1;
        }
        .menu-card:hover {
            transform: translateY(-12px) scale(1.05); /* Levanta e aumenta o card */
            box-shadow: 0 15px 40px rgba(0,0,0,0.25); /* Sombra mais profunda */
            border-color: var(--aa-green); /* Borda destaca em verde */
        }
        /* Tema escuro para os cards do menu */
        html[data-theme='dark'] .menu-card {
            background-color: var(--bg-content-dark-portal);
            border-color: var(--border-color-dark-portal);
            box-shadow: var(--shadow-dark-lg);
        }
        html[data-theme='dark'] .menu-card:hover {
            border-color: var(--aa-green-lighter);
        }

        /* Ícone do card */
        .menu-card-icon {
            font-size: 3rem;
            margin-bottom: 1.2rem;
            line-height: 1;
            transition: transform 0.3s ease-out; /* Animação do ícone */
        }
        .menu-card:hover .menu-card-icon {
            transform: scale(1.1) rotate(5deg); /* Aumenta e gira o ícone */
        }
        /* Título do card */
        .menu-card-title {
            font-family: var(--font-headings-cover);
            font-size: 1.1rem;
            font-weight: 700;
            margin-bottom: 0.8rem;
            color: var(--text-headings-light-portal);
            line-height: 1.4;
            text-transform: uppercase;
        }
        html[data-theme='dark'] .menu-card-title {
            color: var(--text-headings-dark-portal);
        }

        /*
         * =============================================
         * Seção 3: Índice da Trilha (Manual do Pit Stop)
         *
         * Apresenta a lista de módulos da trilha, com cards interativos
         * indicando o progresso de cada um.
         * =====================================================================
         */
        .manual-pitstop-detalhes-section {
            background-color: var(--bg-main-light);
            color: var(--text-body-light-portal);
            padding: clamp(2rem, 8vw, 4rem) clamp(1rem, 5vw, 2rem);
            min-height: 100vh;
            transition: background-color var(--transition-main), color var(--transition-main);
            padding-top: 60px; /* Espaço para a barra de progresso */
        }
        html[data-theme='dark'] .manual-pitstop-detalhes-section {
            background-color: var(--bg-main-dark);
            color: var(--text-body-dark-portal);
        }
        .manual-pitstop-main-title {
            font-family: var(--font-headings-portal);
            font-size: clamp(2rem, 4.5vw, 3rem);
            font-weight: 800;
            color: var(--text-headings-light-portal);
            text-align: center;
            margin-bottom: 2.5rem;
            text-transform: uppercase;
            text-shadow: 1px 1px 3px rgba(0,0,0,0.1);
        }
        html[data-theme='dark'] .manual-pitstop-main-title {
            color: var(--text-headings-dark-portal);
            text-shadow: 1px 1px 4px rgba(0,0,0,0.3);
        }

        /* Estilo para os cards de item do índice */
        #playbookIndexContainer .index-item-card {
            background-color: var(--bg-content-light-portal);
            border: 2px solid var(--border-color-light-portal);
            border-left: 6px solid var(--aa-green); /* Borda lateral verde */
            border-radius: var(--radius-lg);
            padding: 1.8rem;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: all 0.35s cubic-bezier(.2,0,.2,1);
            cursor: pointer;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            min-height: 240px;
            justify-content: flex-start;
            position: relative;
            overflow: hidden;
            will-change: transform, box-shadow, border-color;
        }
        #playbookIndexContainer .index-item-card:hover {
            transform: translateY(-7px) scale(1.03); /* Levanta e aumenta */
            box-shadow: 0 10px 25px rgba(0,0,0,0.2); /* Sombra mais intensa */
            border-left-color: var(--arremaq-orange); /* Borda lateral muda para laranja */
            border-color: var(--arremaq-orange); /* Bordas normais também mudam */
        }
        /* Tema escuro para os cards do índice */
        html[data-theme='dark'] #playbookIndexContainer .index-item-card {
            background-color: var(--bg-content-dark-portal);
            border-color: var(--border-color-dark-portal);
            border-left-color: var(--aa-green-lighter);
        }
        html[data-theme='dark'] #playbookIndexContainer .index-item-card:hover {
            border-left-color: var(--arremaq-orange-lighter);
            border-color: var(--arremaq-orange-lighter);
        }

        /* Emoji do item do índice */
        #playbookIndexContainer .index-item-emoji {
            font-size: 2.8rem;
            margin-bottom: 1.2rem;
            line-height: 1;
            transition: transform 0.3s ease-out;
        }
        #playbookIndexContainer .index-item-card:hover .index-item-emoji {
            transform: rotate(10deg) scale(1.1); /* Gira e aumenta o emoji no hover */
        }
        /* Cores específicas para emojis de Auto Arremate e Arremaq */
        .emoji-autoarremate-color { color: var(--aa-green-darker) !important; }
        html[data-theme='dark'] .emoji-autoarremate-color { color: var(--aa-green-text-dark-theme) !important; }
        .emoji-arremaq-color { color: var(--arremaq-orange-darker) !important; }
        html[data-theme='dark'] .emoji-arremaq-color { color: var(--arremaq-orange-text-dark-theme) !important; }

        /* Título do item do índice */
        #playbookIndexContainer .index-item-title {
            font-family: var(--font-headings-portal);
            font-weight: 700;
            font-size: 1rem;
            margin-bottom: 0.8rem;
            color: var(--text-headings-light-portal);
            line-height: 1.4;
        }
        #playbookIndexContainer .index-item-title strong { text-transform: uppercase; font-weight: 800; display: block; }
        html[data-theme='dark'] .index-item-title { color: var(--text-headings-dark-portal); }

        /* Subtítulo do item do índice */
        #playbookIndexContainer .index-item-sub {
            font-family: var(--font-primary-portal);
            font-size: 0.75rem;
            color: var(--text-muted-light-portal);
            line-height: 1.6;
            margin-top: auto; /* Empurra para a parte inferior do card */
            padding-top: 0.6rem;
        }
        html[data-theme='dark'] .index-item-sub { color: var(--text-muted-dark-portal); }
        #playbookIndexContainer .index-item-sub .rounded-emoji-icon { margin-right: 0.4em; background: none; box-shadow: none; }
        html[data-theme='dark'] .index-item-sub .rounded-emoji-icon { color: var(--aa-green-lighter); }
        #playbookIndexContainer .index-item-card .completion-icon {
            position: absolute;
            top: 0.8rem;
            right: 0.8rem;
            font-size: 1.8rem;
            color: var(--aa-green-darker);
            filter: drop-shadow(0 2px 2px rgba(0,0,0,0.1));
        }
        html[data-theme='dark'] .index-item-card .completion-icon {
            color: var(--aa-green-text-dark-theme);
        }
        /* Estilo para cards de módulos completos */
        #playbookIndexContainer .index-item-card.completed {
            border-left-color: var(--aa-green) !important; /* Borda esquerda verde forte */
            box-shadow: 0 0 15px rgba(22, 176, 151, 0.4); /* Sombra verde sutil */
        }
        html[data-theme='dark'] #playbookIndexContainer .index-item-card.completed {
            border-left-color: var(--aa-green-lighter) !important;
            box-shadow: 0 0 15px rgba(45, 212, 191, 0.5);
        }


        /*
         * =====================================================================
         * Seção de Conteúdo Geral dos Módulos
         *
         * Estilos para as páginas de conteúdo de cada módulo da trilha.
         * =====================================================================
         */
        .playbook-sub-section {
            padding: clamp(2rem, 8vw, 4rem) clamp(1rem, 5vw, 2rem);
            background-color: var(--bg-main-light);
            min-height: 100vh;
            transition: background-color var(--transition-main), color var(--transition-main);
            padding-top: 60px; /* Espaço para a barra de progresso no topo */
        }
        html[data-theme='dark'] .playbook-sub-section {
            background-color: var(--bg-main-dark);
        }

        /* Título principal dentro das seções de conteúdo */
        .playbook-content-title {
            font-family: var(--font-headings-portal);
            font-size: clamp(1.8rem, 4vw, 2.5rem);
            font-weight: 800;
            color: var(--text-headings-light-portal);
            text-align: center;
            margin-bottom: 2rem;
            text-transform: uppercase;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
        }
        html[data-theme='dark'] .playbook-content-title {
            color: var(--text-headings-dark-portal);
            text-shadow: 1px 1px 3px rgba(0,0,0,0.3);
        }
        /* Títulos de sub-seções dentro do conteúdo */
        .playbook-section-title {
            font-family: var(--font-headings-portal);
            font-size: clamp(1.3rem, 2.8vw, 1.8rem);
            font-weight: 700;
            color: var(--text-headings-light-portal);
            margin-bottom: 1.5rem;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.08);
            line-height: 1.4;
            text-align: center; /* Centralizado para subtítulos principais */
        }
        html[data-theme='dark'] .playbook-section-title {
            color: var(--text-headings-dark-portal);
            text-shadow: 1px 1px 3px rgba(0,0,0,0.2);
        }
        .playbook-section-title .rounded-emoji-icon { margin-right: 0.5rem; color: var(--aa-green); }
        html[data-theme='dark'] .playbook-section-title .rounded-emoji-icon { color: var(--aa-green-lighter); }

        /* Estilo para parágrafos de texto */
        .text-content-container p, .playbook-text p {
            font-size: 0.95rem;
            line-height: 1.8;
            margin-bottom: 1rem;
            color: var(--text-body-light-portal);
        }
        html[data-theme='dark'] .text-content-container p, html[data-theme='dark'] .playbook-text p {
            color: var(--text-body-dark-portal);
        }
        /* Emoji para início de frase */
        .sentence-emoji {
            margin-right: 0.3em;
            font-size: 1em;
        }

        /* Container principal de texto/conteúdo dentro dos módulos */
        .text-content-container {
            padding: 1rem;
            background-color: var(--bg-content-light-portal);
            border-radius: var(--radius-xl);
            box-shadow: var(--shadow-lg);
            margin-bottom: 2rem;
            transition: background-color var(--transition-main), box-shadow var(--transition-main);
        }
        html[data-theme='dark'] .text-content-container {
            background-color: var(--bg-content-dark-portal);
            box-shadow: var(--shadow-dark-lg);
        }

        /* Bloco de destaque de informação */
        .highlight {
            background-color: var(--aa-green-pastel);
            border-left: 8px solid var(--aa-green);
            padding: 2rem;
            border-radius: 0 var(--radius-xl) var(--radius-xl) 0; /* Apenas lado direito arredondado */
            margin: 2.5rem 0;
            box-shadow: var(--shadow-lg);
            transition: all var(--transition-main);
        }
        html[data-theme='dark'] .highlight {
            background-color: var(--aa-green-darkest);
            border-color: var(--aa-green-lighter);
            box-shadow: var(--shadow-dark-lg);
        }
        .highlight p {
            color: var(--aa-green-darker);
            font-size: 1.1rem;
            line-height: 1.7;
        }
        html[data-theme='dark'] .highlight p {
            color: var(--aa-green-lighter);
        }
        .highlight strong {
            display: block;
            font-size: 1.5rem;
            margin-bottom: 1rem;
            color: var(--aa-green-darker);
        }
        html[data-theme='dark'] .highlight strong {
            color: var(--aa-green-text-dark-theme);
        }
        .brand-logo { max-height: 60px; margin: 1.5rem auto; display: block; }
        html[data-theme='dark'] .brand-logo { filter: brightness(0) invert(1); } /* Inverte a cor para visibilidade em dark mode */

        /* Card para seções de "Valores" (do MODULO 1) */
        .valor-card {
            background-color: var(--bg-content-light-portal);
            border-radius: var(--radius-2xl);
            padding: 2rem;
            text-align: center;
            box-shadow: var(--shadow-lg);
            transition: transform var(--transition-main), box-shadow var(--transition-main), border-color var(--transition-main);
            border-top: 4px solid var(--aa-green); /* Borda superior colorida */
        }
        .valor-card:hover {
            transform: translateY(-10px); /* Levanta mais no hover */
            box-shadow: var(--shadow-xl); /* Sombra mais profunda */
            border-color: var(--arremaq-orange); /* Borda muda para laranja no hover */
        }
        html[data-theme='dark'] .valor-card {
            background-color: var(--bg-content-dark-portal);
            border-color: var(--aa-green-darker);
            box-shadow: var(--shadow-dark-lg);
        }
        html[data-theme='dark'] .valor-card:hover {
            border-color: var(--arremaq-orange-lighter);
            box-shadow: var(--shadow-dark-xl);
        }
        .valor-card-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
            line-height: 1;
        }
        .valor-card-title {
            font-family: var(--font-headings-portal);
            font-size: 1.1rem;
            font-weight: 700;
            color: var(--text-headings-light-portal);
            margin-bottom: 0.5rem;
        }
        html[data-theme='dark'] .valor-card-title {
            color: var(--text-headings-dark-portal);
        }
        .valor-card-text {
            font-size: 0.9rem;
            line-height: 1.6;
            color: var(--text-body-light-portal);
        }
        html[data-theme='dark'] .valor-card-text {
            color: var(--text-body-dark-portal);
        }

        /* Card Styles (PDGC & Superpower do MODULO 2) */
        .pdgc-card, .superpower-card {
            background-color: var(--bg-content-light-portal);
            border: 1px solid var(--border-color-light-portal);
            border-radius: var(--radius-lg);
            padding: 1.5rem;
            box-shadow: var(--shadow-md);
            transition: all var(--transition-main);
            display: flex;
            flex-direction: column;
            text-align: center;
        }
        html[data-theme='dark'] .pdgc-card,
        html[data-theme='dark'] .superpower-card {
            background-color: var(--bg-content-dark-portal);
            border-color: var(--border-color-dark-portal);
            box-shadow: var(--shadow-dark-md);
        }
        .pdgc-card:hover, .superpower-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-xl);
            border-color: var(--aa-green);
        }
        html[data-theme='dark'] .pdgc-card:hover,
        html[data-theme='dark'] .superpower-card:hover {
            border-color: var(--aa-green-lighter);
            box-shadow: var(--shadow-dark-xl);
        }
        .pdgc-emoji, .superpower-emoji {
            font-size: 2.2rem;
            margin-bottom: 1rem;
            color: var(--aa-green);
            line-height: 1;
        }
        html[data-theme='dark'] .pdgc-emoji,
        html[data-theme='dark'] .superpower-emoji {
            color: var(--aa-green-lighter);
        }
        .pdgc-title, .superpower-title {
            font-family: var(--font-headings-portal);
            font-weight: 700;
            font-size: 0.95rem;
            margin-bottom: 0.75rem;
            color: var(--text-headings-light-portal);
            line-height: 1.4;
        }
        html[data-theme='dark'] .pdgc-title,
        html[data-theme='dark'] .superpower-title {
            color: var(--text-headings-dark-portal);
        }
        .pdgc-description, .superpower-description {
            font-size: 0.78rem;
            line-height: 1.6;
            color: var(--text-body-light-portal);
            margin-top: auto;
        }
        html[data-theme='dark'] .pdgc-description,
        html[data-theme='dark'] .superpower-description {
            color: var(--text-body-dark-portal);
        }

        /* Super Power Card Styles (do MODULO 3 - Arremaq) */
        .super-power-card {
            background-color: var(--bg-content-light-portal);
            border: 1px solid var(--border-color-light-portal);
            border-radius: var(--radius-xl);
            padding: 1.5rem;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            box-shadow: var(--shadow-md);
            transition: all var(--transition-main);
            height: 100%;
        }
        .super-power-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-lg);
            border-color: var(--arremaq-orange);
        }
        html[data-theme='dark'] .super-power-card {
            background-color: var(--bg-content-dark-portal);
            border-color: var(--border-color-dark-portal);
            box-shadow: var(--shadow-dark-md);
        }
        html[data-theme='dark'] .super-power-card:hover {
            border-color: var(--arremaq-orange-text-dark-theme);
            box-shadow: var(--shadow-dark-lg);
        }
        .super-power-icon {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            color: var(--arremaq-orange);
            line-height: 1;
        }
        .super-power-title {
            font-family: var(--font-headings-portal);
            font-weight: 700;
            font-size: 1rem;
            margin-bottom: 0.75rem;
            color: var(--text-headings-light-portal);
        }
        html[data-theme='dark'] .super-power-title {
            color: var(--text-headings-dark-portal);
        }
        .super-power-text {
            font-size: 0.9rem;
            line-height: 1.6;
        }

        /* Highlight Box para Arremaq (do MODULO 3) */
        .highlight-arremaq {
            background-image: linear-gradient(45deg, var(--arremaq-orange-pastel), var(--arremaq-orange-lighter));
            border-radius: var(--radius-xl);
            padding: 2.5rem;
            margin-top: 3rem;
            text-align: center;
            box-shadow: var(--shadow-lg);
            border: 2px solid var(--arremaq-orange-darker);
            transition: all var(--transition-main);
        }
        html[data-theme='dark'] .highlight-arremaq {
            background-image: linear-gradient(45deg, var(--arremaq-orange-darkest), #4b2a00);
            border-color: var(--arremaq-orange-text-dark-theme);
            box-shadow: var(--shadow-dark-lg);
        }
        .highlight-arremaq .highlight-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
            color: var(--arremaq-orange-darker);
        }
        html[data-theme='dark'] .highlight-arremaq .highlight-icon {
            color: var(--arremaq-orange-text-dark-theme);
        }
        .highlight-arremaq .highlight-title {
            font-family: var(--font-headings-portal);
            font-size: 1.75rem;
            font-weight: 800;
            margin-bottom: 1rem;
            color: var(--arremaq-orange-darkest);
        }
        html[data-theme='dark'] .highlight-arremaq .highlight-title {
            color: var(--arremaq-orange-lighter);
        }
        .highlight-arremaq .highlight-text {
            font-size: 1.1rem;
            line-height: 1.7;
            color: var(--arremaq-orange-darkest);
            text-align: left;
            max-width: 70ch;
            margin-left: auto;
            margin-right: auto;
        }
        html[data-theme='dark'] .highlight-arremaq .highlight-text {
            color: var(--arremaq-orange-lighter);
        }

        /* Estilos para cards de ICP e Personas (do MODULO 4) */
        .icp-features-card {
            display: flex;
            align-items: flex-start;
            margin-bottom: 0.75rem;
            padding-left: 0;
            background-color: var(--bg-content-light-portal);
            border: 1px solid var(--border-color-light-portal);
            border-radius: var(--radius-card-portal);
            padding: 1.5rem;
            box-shadow: var(--shadow-sm);
            transition: all 0.3s ease-in-out;
        }
        .icp-features-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-lg);
        }
        html[data-theme='dark'] .icp-features-card {
            background-color: var(--bg-content-dark-portal);
            border-color: var(--border-color-dark-portal);
            box-shadow: var(--shadow-dark-sm);
        }
        html[data-theme='dark'] .icp-features-card:hover {
            box-shadow: var(--shadow-dark-lg);
        }
        .icp-features-card .rounded-emoji-icon {
            font-size: 1.8rem;
            margin-right: 1rem;
            flex-shrink: 0;
        }
        .icp-features-card div {
            flex-grow: 1;
        }
        .icp-features-card strong {
            display: block;
            margin-bottom: 0.5rem;
            font-size: 1.1rem;
            color: var(--text-headings-light-portal);
        }
        html[data-theme='dark'] .icp-features-card strong {
            color: var(--text-headings-dark-portal);
        }
        .icp-features-card span {
            font-size: 0.95rem;
            line-height: 1.5;
            color: var(--text-body-light-portal);
        }
        html[data-theme='dark'] .icp-features-card span {
            color: var(--text-body-dark-portal);
        }

        .persona-clickable-card {
            cursor: pointer;
            transition: all 0.3s ease-in-out;
            box-shadow: var(--shadow-md);
            border-radius: var(--radius-card-portal);
            background-color: var(--bg-content-light-portal);
            border: 1px solid var(--border-color-light-portal);
        }
        .persona-clickable-card:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 15px 30px rgba(0,0,0,0.15);
        }
        html[data-theme='dark'] .persona-clickable-card {
            background-color: var(--bg-content-dark-portal);
            border-color: var(--border-color-dark-portal);
            box-shadow: var(--shadow-dark-md);
        }
        html[data-theme='dark'] .persona-clickable-card:hover {
            box-shadow: var(--shadow-dark-xl);
        }
        /* Estilo para a persona ativa (selecionada) */
        .persona-clickable-card.active-persona {
            border-color: #0284c7; /* sky-600 (azul vibrante) */
            box-shadow: 0 0 0 4px rgba(2, 132, 199, 0.5), 0 15px 30px rgba(0,0,0,0.2); /* Borda de destaque e sombra */
        }

        .persona-profile-card {
            background-color: var(--bg-cards-section-light);
            border: 1px solid var(--border-color-light-portal);
            border-radius: var(--radius-xl);
            padding: 1.5rem;
            box-shadow: var(--shadow-md);
        }
        html[data-theme='dark'] .persona-profile-card {
            background-color: var(--bg-cards-section-dark);
            border-color: var(--border-color-dark-portal);
            box-shadow: var(--shadow-dark-md);
        }
        .persona-profile-card ul li {
            display: flex;
            align-items: flex-start;
            margin-bottom: 0.75rem;
            padding-left: 0;
        }
        .persona-profile-card ul li .rounded-emoji-icon { /* Aplica o estilo ao emoji dentro da lista */
            width: 1.1em; height: 1.1em;
            font-size: 1.1rem;
            margin-right: 0.75rem;
            margin-top: 0.125rem;
            flex-shrink: 0;
        }

        .cadencia-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.8rem;
            margin-top: 1rem;
        }
        .cadencia-table th, .cadencia-table td {
            border: 1px solid var(--border-color-light-portal);
            padding: 0.75rem;
            text-align: left;
            vertical-align: top;
        }
        html[data-theme='dark'] .cadencia-table th, html[data-theme='dark'] .cadencia-table td {
            border-color: var(--border-color-dark-portal);
        }
        .cadencia-table th {
            background-color: var(--bg-cards-section-light);
            font-weight: bold;
        }
        html[data-theme='dark'] .cadencia-table th {
            background-color: var(--bg-cards-section-dark);
        }
        .cadencia-table td pre {
            white-space: pre-wrap;
            word-wrap: break-word;
            background-color: var(--bg-main-light);
            padding: 0.5rem;
            border-radius: 0.5rem;
            font-size: 0.75rem;
        }
        html[data-theme='dark'] .cadencia-table td pre {
            background-color: var(--bg-main-dark);
        }

        /* Seções interativas de detalhes/sumário (do MODULO 7) */
        .interactive-section {
            background-color: var(--bg-content-light-portal);
            border: 1px solid var(--border-color-light-portal);
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow-sm);
            margin-bottom: 0.8rem;
            transition: all var(--transition-main);
        }
        html[data-theme='dark'] .interactive-section {
            background-color: var(--bg-content-dark-portal);
            border-color: var(--border-color-dark-portal);
            box-shadow: var(--shadow-dark-sm);
        }
        .interactive-section:hover {
            box-shadow: var(--shadow-md);
            transform: translateY(-2px);
        }
        /* Estilo do sumário (cabeçalho clicável) */
        .interactive-summary-obj {
            padding: 1rem 1.5rem;
            font-family: var(--font-headings-portal);
            font-weight: 700;
            font-size: 1rem;
            color: var(--text-headings-light-portal);
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            user-select: none;
            transition: all var(--transition-main);
            border-bottom: 1px solid transparent; /* Para evitar linha dupla quando o details abre */
        }
        html[data-theme='dark'] .interactive-summary-obj {
            color: var(--text-headings-dark-portal);
        }
        .interactive-summary-obj:hover {
            background-color: var(--aa-green-lighter);
            border-radius: var(--radius-lg);
            color: var(--aa-dark-blue);
        }
        html[data-theme='dark'] .interactive-summary-obj:hover {
            background-color: var(--aa-dark-blue-lighter);
            color: var(--aa-white);
        }
        .interactive-summary-obj strong {
            color: var(--text-headings-light-portal);
        }
        html[data-theme='dark'] .interactive-summary-obj strong {
            color: var(--text-headings-dark-portal);
        }
        .interactive-summary-obj .rounded-emoji-icon {
            margin-right: 0.75rem;
            font-size: 1.2em;
            color: var(--aa-green); /* Cor para os emojis dentro do strong do summary */
        }
        html[data-theme='dark'] .interactive-summary-obj .rounded-emoji-icon {
            color: var(--aa-green-lighter);
        }
        /* Conteúdo expandido do details */
        .interactive-content {
            padding: 0.5rem 1.5rem 1.5rem;
            font-size: 0.9rem;
            line-height: 1.7;
            color: var(--text-body-light-portal);
        }
        html[data-theme='dark'] .interactive-content {
            color: var(--text-body-dark-portal);
        }
        .interactive-content strong {
            color: var(--text-headings-light-portal);
        }
        html[data-theme='dark'] .interactive-content strong {
            color: var(--text-headings-dark-portal);
        }
        .interactive-content .rounded-emoji-icon { /* Aplica o estilo ao emoji dentro do conteúdo */
            width: 1em; height: 1em;
            font-size: 1em;
            vertical-align: middle;
            margin-right: 0.3em;
        }

        /* Jornada do Cliente (do MODULO 5) */
        .jornada-card-playbook {
            background-color: var(--bg-content-light-portal);
            border: 1px solid var(--border-color-light-portal);
            border-radius: var(--radius-xl);
            padding: 1.5rem;
            box-shadow: var(--shadow-lg);
            transition: all var(--transition-main);
            text-decoration: none;
            display: block;
            color: inherit;
        }
        .jornada-card-playbook:hover {
            transform: translateY(-5px) scale(1.02);
            box-shadow: var(--shadow-xl);
            border-color: var(--aa-green);
        }
        html[data-theme='dark'] .jornada-card-playbook {
            background-color: var(--bg-content-dark-portal);
            border-color: var(--border-color-dark-portal);
            box-shadow: var(--shadow-dark-lg);
        }
        html[data-theme='dark'] .jornada-card-playbook:hover {
            border-color: var(--aa-green-lighter);
            box-shadow: var(--shadow-dark-xl);
        }
        .jornada-card-playbook h3 {
            font-family: var(--font-headings-portal);
            color: var(--aa-green-darker);
            font-size: 1.1rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }
        html[data-theme='dark'] .jornada-card-playbook h3 {
            color: var(--aa-green-text-dark-theme);
        }
        .jornada-card-playbook p {
            font-size: 0.8rem;
            color: var(--text-body-light-portal);
            margin-bottom: 0.75rem;
            line-height: 1.5;
        }
        html[data-theme='dark'] .jornada-card-playbook p {
            color: var(--text-body-dark-portal);
        }
        .jornada-card-playbook .details-prompt-playbook {
            font-size: 0.75rem;
            color: var(--arremaq-orange-darker);
            font-weight: 600;
            display: inline-block;
            margin-top: 0.5rem;
        }
        html[data-theme='dark'] .jornada-card-playbook .details-prompt-playbook {
            color: var(--arremaq-orange-lighter);
        }

        /* Wrapper para organogramas de jornada */
        .organograma-wrapper {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 2rem;
            margin-top: 2rem;
            padding: 1.5rem;
            background-color: var(--bg-content-light-portal);
            border-radius: var(--radius-xl);
            box-shadow: var(--shadow-lg);
        }
        html[data-theme='dark'] .organograma-wrapper {
            background-color: var(--bg-content-dark-portal);
            box-shadow: var(--shadow-dark-lg);
        }

        /* Nós do fluxo do organograma */
        .flow-node {
            background-color: var(--aa-white);
            padding: 1rem 1.5rem;
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow-md);
            text-align: center;
            font-weight: 600;
            color: var(--aa-dark-blue);
            border: 1px solid var(--border-color-light-portal);
            transition: all var(--transition-main);
        }
        html[data-theme='dark'] .flow-node {
            background-color: var(--aa-dark-blue-lighter);
            color: var(--aa-green-lighter);
            border-color: var(--border-color-dark-portal);
            box-shadow: var(--shadow-dark-md);
        }
        .flow-node.start-node, .flow-node.end-node {
            font-size: 1.1rem;
            padding: 1.2rem 2rem;
            border-width: 2px;
        }
        .flow-node.start-node {
            border-color: var(--aa-green);
            color: var(--aa-green-darker);
            background-color: var(--aa-green-lighter);
        }
        html[data-theme='dark'] .flow-node.start-node {
            border-color: var(--aa-green-text-dark-theme);
            color: var(--aa-green-text-dark-theme);
            background-color: var(--aa-green-darkest);
        }
        .flow-node.end-node {
            border-color: var(--arremaq-orange);
            color: var(--arremaq-orange-darker);
            background-color: var(--arremaq-orange-lighter);
        }
        html[data-theme='dark'] .flow-node.end-node {
            border-color: var(--arremaq-orange-text-dark-theme);
            color: var(--arremaq-orange-text-dark-theme);
            background-color: var(--arremaq-orange-darkest);
        }

        /* Conectores do fluxo */
        .flow-connector-stage {
            font-size: 1.5rem;
            color: var(--aa-medium-gray);
            margin: 0.5rem 0;
        }
        html[data-theme='dark'] .flow-connector-stage {
            color: var(--text-muted-dark-portal);
        }

        /* Grupo de estágios no organograma */
        .stage-group {
            border: 2px solid var(--border-color-light-portal);
            border-radius: var(--radius-xl);
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            width: 100%;
            max-width: 800px;
            box-shadow: var(--shadow-md);
            background-color: var(--bg-cards-section-light);
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 1rem;
        }
        html[data-theme='dark'] .stage-group {
            background-color: var(--bg-cards-section-dark);
            border-color: var(--border-color-dark-portal);
            box-shadow: var(--shadow-dark-md);
        }

        /* Título do estágio */
        .stage-title-node {
            font-family: var(--font-headings-portal);
            font-size: 1.3rem;
            font-weight: 700;
            color: var(--aa-dark-blue);
            text-align: center;
            margin-bottom: 1rem;
        }
        html[data-theme='dark'] .stage-title-node {
            color: var(--aa-green-lighter);
        }

        /* Objetivo do estágio */
        .stage-objective {
            font-size: 0.9rem;
            color: var(--text-body-light-portal);
            text-align: center;
            margin-bottom: 1rem;
            line-height: 1.6;
        }
        html[data-theme='dark'] .stage-objective {
            color: var(--text-body-dark-portal);
        }
        .stage-objective .rounded-emoji-icon {
            margin-right: 0.5em;
        }

        /* Conector vertical no organograma */
        .flow-connector-vertical {
            width: 2px;
            height: 1.5rem;
            background-color: var(--aa-light-gray);
            margin: 0.5rem 0;
        }
        html[data-theme='dark'] .flow-connector-vertical {
            background-color: var(--aa-medium-gray);
        }

        /* Nó de interação no organograma */
        .interaction-node {
            background-color: var(--aa-white);
            padding: 1rem;
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow-sm);
            border: 1px solid var(--border-color-light-portal);
            width: 90%;
            max-width: 450px;
            text-align: center;
            cursor: pointer;
            transition: all var(--transition-main);
        }
        .interaction-node:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-md);
            border-color: var(--aa-green);
        }
        html[data-theme='dark'] .interaction-node {
            background-color: var(--aa-dark-blue-lighter);
            border-color: var(--border-color-dark-portal);
            box-shadow: var(--shadow-dark-sm);
        }
        html[data-theme='dark'] .interaction-node:hover {
            border-color: var(--aa-green-lighter);
            box-shadow: var(--shadow-dark-md);
        }
        .interaction-node h4 {
            font-family: var(--font-primary-portal);
            font-size: 1rem;
            font-weight: 600;
            color: var(--aa-dark-blue);
            margin-bottom: 0.5rem;
        }
        html[data-theme='dark'] .interaction-node h4 {
            color: var(--aa-green-lighter);
        }

        .interaction-subtitle {
            font-size: 0.8rem;
            color: var(--text-muted-light-portal);
            margin-bottom: 0.5rem;
        }
        html[data-theme='dark'] .interaction-subtitle {
            color: var(--text-muted-dark-portal);
        }

        .interaction-details-prompt {
            font-size: 0.7rem;
            color: var(--arremaq-orange-darker);
            font-style: italic;
        }
        html[data-theme='dark'] .interaction-details-prompt {
            color: var(--arremaq-orange-lighter);
        }

        /* Seção de explicação da jornada */
        .jornada-explicacao {
            background-color: var(--aa-white);
            border-radius: var(--radius-xl);
            box-shadow: var(--shadow-lg);
            padding: 2rem;
            margin-bottom: 3rem;
            text-align: center;
            max-width: 900px;
            margin-left: auto;
            margin-right: auto;
            line-height: 1.7;
        }
        html[data-theme='dark'] .jornada-explicacao {
            background-color: var(--bg-content-dark-portal);
            box-shadow: var(--shadow-dark-lg);
        }
        .jornada-explicacao p {
            font-size: 0.95rem;
            margin-bottom: 1rem;
        }
        .jornada-explicacao p:last-child {
            margin-bottom: 0;
        }

        /* Estilos dos Cards para Termos a Evitar/Sugerir (do MODULO 7) */
        .communication-card {
            background-color: var(--bg-content-light-portal);
            border: 1px solid var(--border-color-light-portal);
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow-md);
            padding: 1.5rem;
            display: flex;
            flex-direction: column;
            gap: 0.8rem;
            transition: all var(--transition-main);
            height: 100%;
        }
        html[data-theme='dark'] .communication-card {
            background-color: var(--bg-content-dark-portal);
            border-color: var(--border-color-dark-portal);
            box-shadow: var(--shadow-dark-md);
        }
        .communication-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-xl);
            border-color: var(--aa-green);
        }
        html[data-theme='dark'] .communication-card:hover {
            border-color: var(--aa-green-lighter);
            box-shadow: var(--shadow-dark-xl);
        }
        .communication-card .card-title {
            font-family: var(--font-headings-portal);
            font-weight: 700;
            font-size: 1rem;
            color: var(--text-headings-light-portal);
            line-height: 1.4;
            margin-bottom: 0.5rem;
        }
        html[data-theme='dark'] .communication-card .card-title {
            color: var(--text-headings-dark-portal);
        }
        .communication-card .card-reason,
        .communication-card .card-suggestion {
            font-size: 0.85rem;
            color: var(--text-body-light-portal);
            line-height: 1.6;
        }
        html[data-theme='dark'] .communication-card .card-reason,
        html[data-theme='dark'] .communication-card .card-suggestion {
            color: var(--text-body-dark-portal);
        }
        /* Cores dos emojis nos cards (vermelho, amarelo, verde) */
        .communication-card .emoji-avoid { color: #DC2626; }
        .communication-card .emoji-why { color: #F59E0B; }
        .communication-card .emoji-suggest { color: var(--aa-green); }
        html[data-theme='dark'] .communication-card .emoji-avoid { color: #F87171; }
        html[data-theme='dark'] .communication-card .emoji-why { color: #FCD34D; }
        html[data-theme='dark'] .communication-card .emoji-suggest { color: var(--aa-green-lighter); }

        /* Estilos do Glossário (do MODULO 8) */
        .glossary-container { display: flex; flex-direction: column; gap: 1rem; }
        .glossary-term {
            padding: 1rem 1.5rem;
            font-family: var(--font-headings-portal);
            font-weight: 700;
            font-size: 0.95rem;
            color: var(--text-headings-light-portal);
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            user-select: none;
            transition: all var(--transition-main);
        }
        html[data-theme='dark'] .glossary-term { color: var(--text-headings-dark-portal); }
        .glossary-term:hover {
            background-color: var(--aa-green-lighter);
            border-radius: var(--radius-lg);
            color: var(--aa-dark-blue);
        }
        html[data-theme='dark'] .glossary-term:hover {
            background-color: var(--aa-dark-blue-lighter);
            color: var(--aa-white);
        }
        .glossary-term .rounded-emoji-icon { margin-right: 0.75rem; font-size: 1.2em; color: var(--arremaq-orange); }
        html[data-theme='dark'] .glossary-term .rounded-emoji-icon { color: var(--arremaq-orange-lighter); }
        .glossary-definition {
            padding: 0.5rem 1.5rem 1.5rem;
            font-size: 0.85rem;
            line-height: 1.7;
            color: var(--text-body-light-portal);
        }
        html[data-theme='dark'] .glossary-definition { color: var(--text-body-dark-portal); }
        .glossary-definition strong { color: var(--text-headings-light-portal); }
        html[data-theme='dark'] .glossary-definition strong { color: var(--text-headings-dark-portal); }

        /* Estilos para lista com data-emoji (do MODULO 9) */
        ul.playbook-list {
            list-style: none;
            padding: 0;
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }
        .icp-list-item {
            position: relative;
            padding-left: 2.8rem;
            line-height: 1.6;
            font-size: 0.9rem;
            color: var(--text-body-light-portal);
            display: flex;
            align-items: flex-start;
        }
        html[data-theme='dark'] .icp-list-item {
            color: var(--text-body-dark-portal);
        }
        .icp-list-item::before {
            content: attr(data-emoji);
            position: absolute;
            left: 0;
            top: 0.1rem;
            font-size: 1.4rem;
            line-height: 1;
            -webkit-text-fill-color: initial;
            text-fill-color: initial;
            background: none;
            text-shadow: none;
        }

        /* Estilos para interação Gemini (do MODULO 9) */
        .gemini-interaction-box { border: 1px solid var(--border-color-light-portal); }
        html[data-theme='dark'] .gemini-interaction-box { border-color: var(--border-color-dark-portal); }
        .gemini-feature-title { color: var(--aa-dark-blue); }
        html[data-theme='dark'] .gemini-feature-title { color: var(--aa-green-lighter); }
        .gemini-sparkle { color: var(--aa-green); }
        html[data-theme='dark'] .gemini-sparkle { color: var(--aa-green-lighter); }
        .gemini-textarea { resize: vertical; }
        .btn-gemini-action {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            font-family: var(--font-primary-portal);
            font-weight: 600;
            padding: 0.75rem 1.5rem;
            border-radius: var(--radius-button-portal);
            background-color: var(--aa-green);
            color: var(--aa-white);
            border: none;
            cursor: pointer;
            transition: all var(--transition-main);
            box-shadow: var(--shadow-md);
        }
        .btn-gemini-action:hover {
            background-color: var(--aa-green-darker);
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }
        html[data-theme='dark'] .btn-gemini-action {
            background-color: var(--aa-green-lighter);
            color: var(--aa-dark-blue);
        }
        html[data-theme='dark'] .btn-gemini-action:hover {
            background-color: var(--aa-green);
            color: var(--aa-white);
        }
        .gemini-result-box { border: 1px solid var(--aa-green-darker); }
        html[data-theme='dark'] .gemini-result-box { border-color: var(--aa-green-text-dark-theme); }
        .gemini-error-box {
            background-color: rgba(220,53,69,0.1);
            border: 1px solid var(--color-error);
            color: var(--color-error);
            padding: 0.75rem;
            border-radius: var(--radius-md);
        }

        /* Estilos para cards de canais de contato (do MODULO 10) */
        .contact-card {
            background-color: var(--bg-content-light-portal);
            border: 1px solid var(--border-color-light-portal);
            border-radius: var(--radius-xl);
            padding: 1.5rem;
            box-shadow: var(--shadow-lg);
            transition: all var(--transition-main);
            display: flex;
            flex-direction: column;
            align-items: flex-start;
            text-align: left;
            height: 100%;
        }
        .contact-card:hover {
            transform: translateY(-5px) scale(1.02);
            box-shadow: var(--shadow-xl);
            border-color: var(--aa-green);
        }
        html[data-theme='dark'] .contact-card {
            background-color: var(--bg-content-dark-portal);
            border-color: var(--border-color-dark-portal);
            box-shadow: var(--shadow-dark-lg);
        }
        html[data-theme='dark'] .contact-card:hover {
            border-color: var(--aa-green-lighter);
            box-shadow: var(--shadow-dark-xl);
        }
        .contact-card-icon {
            font-size: 2.2rem;
            margin-bottom: 0.75rem;
            line-height: 1;
            color: var(--aa-green-darker);
        }
        html[data-theme='dark'] .contact-card-icon {
            color: var(--aa-green-text-dark-theme);
        }
        .contact-card-title {
            font-family: var(--font-headings-portal);
            font-size: 1rem;
            font-weight: 700;
            color: var(--text-headings-light-portal);
            margin-bottom: 0.5rem;
            line-height: 1.4;
        }
        html[data-theme='dark'] .contact-card-title {
            color: var(--text-headings-dark-portal);
        }
        .contact-card-detail {
            font-size: 0.9rem;
            color: var(--text-body-light-portal);
            margin-bottom: 0.5rem;
        }
        html[data-theme='dark'] .contact-card-detail {
            color: var(--text-body-dark-portal);
        }
        .contact-card-description {
            font-size: 0.75rem;
            color: var(--text-muted-light-portal);
            line-height: 1.5;
            margin-top: auto;
        }
        html[data-theme='dark'] .contact-card-description {
            color: var(--text-muted-dark-portal);
        }

        /* Estilos Brand Book (do MODULO 12) */
        #box-identidade-content-section h1,
        #box-identidade-content-section h2,
        #box-identidade-content-section h3,
        #box-identidade-content-section h4,
        #box-identidade-content-section h5,
        #box-identidade-content-section h6 {
            font-family: 'IBM Plex Sans', sans-serif;
            color: var(--aa-dark-blue);
        }
        html[data-theme='dark'] #box-identidade-content-section h1,
        html[data-theme='dark'] #box-identidade-content-section h2,
        html[data-theme='dark'] #box-identidade-content-section h3,
        html[data-theme='dark'] #box-identidade-content-section h4,
        html[data-theme='dark'] #box-identidade-content-section h5,
        html[data-theme='dark'] #box-identidade-content-section h6 {
            color: var(--text-headings-dark-portal);
        }
        #box-identidade-content-section p {
            color: var(--text-body-light-portal);
        }
        html[data-theme='dark'] #box-identidade-content-section p {
            color: var(--text-body-dark-portal);
        }
        #box-identidade-content-section .section-icon {
            font-size: 2rem;
            line-height: 1;
            margin-bottom: 0.75rem;
            color: var(--aa-green);
        }
        .color-swatch {
            cursor: pointer;
            transition: transform 0.2s ease-in-out;
        }
        .color-swatch:hover {
            transform: scale(1.05);
        }
        #copy-notification {
            position: fixed;
            bottom: 1.25rem;
            right: 1.25rem;
            background-color: var(--aa-green);
            color: var(--aa-white);
            padding: 0.5rem 1rem;
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow-lg);
            z-index: 2000;
        }

        /* Estilos Academia de Repassadores (do MODULO 13) */
        .section-title-main {
            font-family: var(--font-headings-portal);
            font-size: clamp(1.8rem, 4vw, 2.5rem);
            margin-top: 1.5rem;
            margin-bottom: 2rem;
            padding-bottom: 0.6rem;
            border-bottom: 2px solid var(--border-color-light-portal);
            color: var(--text-headings-light-portal);
        }
        html[data-theme='dark'] .section-title-main {
            border-bottom-color: var(--border-color-dark-portal);
            color: var(--text-headings-dark-portal);
        }
        .section-title-main .rounded-emoji-icon {
            margin-right: 0.6rem;
            font-size: 0.85em;
        }
        .group-title {
            font-family: var(--font-headings-portal);
            color: var(--text-headings-light-portal);
            padding-bottom: 0.75rem;
            border-bottom: 3px solid;
            border-image-slice: 1;
        }
        html[data-theme='dark'] .group-title {
            color: var(--text-headings-dark-portal);
        }
        .group-title i {
            transition: color 0.3s ease;
        }
        #training-center-content-section .section-title-main .rounded-emoji-icon { color: var(--aa-green); }
        html[data-theme='dark'] #training-center-content-section .section-title-main .rounded-emoji-icon { color: var(--aa-green-lighter); }
        .portal-card, .service-card {
            background-color: var(--bg-content-light-portal);
            border-radius: var(--radius-button-portal); /* Ajustado para ser mais arredondado, mas não full */
            padding: 2rem 1.5rem;
            box-shadow: var(--shadow-lg);
            transition: all var(--transition-main);
            border: 2px solid transparent;
            cursor: pointer;
            animation: sway 7s ease-in-out infinite;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
        }
        .portal-card:nth-child(odd), .service-card:nth-child(odd) { animation-delay: -3.5s; }
        .portal-card:hover, .service-card:hover {
            transform: translateY(-7px) scale(1.02);
            box-shadow: var(--shadow-xl);
            border-color: var(--aa-green);
            animation-play-state: paused;
        }
        html[data-theme='dark'] .portal-card, html[data-theme='dark'] .service-card {
            background-color: var(--bg-content-dark-portal);
        }
        html[data-theme='dark'] .portal-card:hover, html[data-theme='dark'] .service-card:hover {
            border-color: var(--aa-green-lighter);
        }
        @keyframes sway {
            0% { transform: rotate(0deg); }
            25% { transform: rotate(1deg); }
            75% { transform: rotate(-1deg); }
            100% { transform: rotate(0deg); }
        }
        .portal-card-icon, .service-card-icon {
            font-size: 3.8rem;
            margin-bottom: 1.2rem;
        }
        #openPlaybookBtn .portal-card-icon { color: var(--arremaq-orange); }
        #openTrainingCenterBtn .portal-card-icon { color: var(--aa-green); }
        html[data-theme='dark'] #openPlaybookBtn .portal-card-icon { color: var(--arremaq-orange-lighter); }
        html[data-theme='dark'] #openTrainingCenterBtn .portal-card-icon { color: var(--aa-green-lighter); }
        .portal-card-title, .service-card-title {
            font-family: var(--font-headings-portal);
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 0.6rem;
            color: var(--text-headings-light-portal);
        }
        html[data-theme='dark'] .portal-card-title, html[data-theme='dark'] .service-card-title {
            color: var(--text-headings-dark-portal);
        }
        .portal-card-description, .service-card-description {
            font-family: var(--font-primary-portal);
            font-size: 0.9rem;
            color: var(--text-body-light-portal);
            line-height: 1.5;
        }
        html[data-theme='dark'] .portal-card-description, html[data-theme='dark'] .service-card-description {
            color: var(--text-body-dark-portal);
        }
        .training-card {
            background-color: var(--bg-content-light-portal);
            border-radius: var(--radius-button-portal);
            box-shadow: var(--shadow-lg);
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            cursor: pointer;
            transition: all var(--transition-main);
            border: 2px solid transparent;
        }
        html[data-theme='dark'] .training-card { background-color: var(--bg-content-dark-portal); }
        .training-card:hover {
            transform: translateY(-5px);
            border-color: var(--aa-green);
        }
        html[data-theme='dark'] .training-card:hover { border-color: var(--aa-green-lighter); }
        .card-icon-wrapper {
            color: var(--aa-white);
            width: 6rem; height: 6rem;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            background-color: var(--aa-green);
            transition: transform .3s ease;
        }
        .training-card:hover .card-icon-wrapper {
            transform: scale(1.1) rotate(-10deg);
        }
        .card-icon-wrapper i {
            font-size: 3rem;
        }
        html[data-theme='dark'] .card-icon-wrapper {
            background-color: var(--aa-dark-blue-lighter);
            color: var(--aa-green-lighter);
        }
        .training-card .card-title {
            font-family: var(--font-headings-portal);
            font-size: 1.4rem;
            color: var(--aa-green);
            margin-bottom: 0.5rem;
        }
        html[data-theme='dark'] .training-card .card-title { color: var(--aa-green-lighter); }
        .training-card .card-description {
            font-family: var(--font-primary-portal);
            color: var(--text-body-light-portal);
            font-size: 0.9rem;
            line-height: 1.5;
            margin-bottom: 1rem;
            flex-grow: 1;
        }
        html[data-theme='dark'] .training-card .card-description { color: var(--text-body-dark-portal); }
        .training-card .card-button {
            font-family: var(--font-primary-portal);
            font-weight: 600;
            color: var(--arremaq-orange);
            margin-top: auto;
            padding: 0.6rem 1.2rem;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            transition: all var(--transition-main);
        }
        .training-card:hover .card-button {
            color: var(--arremaq-orange-darker);
            transform: translateX(3px);
        }
        html[data-theme='dark'] .training-card .card-button {
            color: var(--arremaq-orange-lighter);
        }
        html[data-theme='dark'] .training-card:hover .card-button {
            color: var(--aa-white);
        }

        /* Estilos específicos para a Arena dos Campeões (NOVA SEÇÃO DE JOGOS/QUIZ) */
        .arena-campeoes-section {
            background: linear-gradient(100deg, var(--arremaq-orange-pastel) 0%, var(--arremaq-orange-lighter) 48%, var(--aa-green-lighter) 52%, var(--aa-green-pastel) 100%);
            padding-top: 60px; /* Espaço para a barra de progresso */
            min-height: 100vh;
            padding-bottom: 4rem; /* Garante espaço no final */
            transition: background-color var(--transition-main);
        }
        html[data-theme='dark'] .arena-campeoes-section {
            background: linear-gradient(100deg, var(--arremaq-orange-darkest) 0%, var(--arremaq-orange-darker) 48%, var(--aa-dark-blue) 52%, var(--aa-green-darkest) 100%);
        }
        .arena-campeoes-title {
            font-family: var(--font-headings-portal);
            font-size: clamp(2rem, 4.5vw, 3rem);
            font-weight: 800;
            color: var(--arremaq-orange-darker);
            text-align: center;
            margin-bottom: 2.5rem;
            text-transform: uppercase;
            text-shadow: 1px 1px 3px rgba(0,0,0,0.1);
        }
        html[data-theme='dark'] .arena-campeoes-title {
            color: var(--arremaq-orange-text-dark-theme);
            text-shadow: 1px 1px 4px rgba(0,0,0,0.3);
        }
        /* Card para cada jogo/quiz dentro da Arena */
        .arena-game-card {
            background-color: var(--bg-content-light-portal);
            border: 2px solid var(--border-color-light-portal);
            border-radius: var(--radius-xl);
            padding: 2rem;
            box-shadow: var(--shadow-lg);
            transition: all 0.35s cubic-bezier(.2,0,.2,1);
            cursor: pointer;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            min-height: 280px;
            justify-content: center;
        }
        .arena-game-card:hover {
            transform: translateY(-7px) scale(1.03);
            box-shadow: var(--shadow-xl);
            border-color: var(--arremaq-orange);
        }
        html[data-theme='dark'] .arena-game-card {
            background-color: var(--bg-content-dark-portal);
            border-color: var(--border-color-dark-portal);
            box-shadow: var(--shadow-dark-lg);
        }
        html[data-theme='dark'] .arena-game-card:hover {
            border-color: var(--arremaq-orange-lighter);
            box-shadow: var(--shadow-dark-xl);
        }
        .arena-game-card-icon {
            font-size: 4rem;
            margin-bottom: 1.5rem;
            line-height: 1;
            color: var(--aa-dark-blue);
            transition: transform 0.3s ease-out;
        }
        .arena-game-card:hover .arena-game-card-icon {
            transform: scale(1.1) rotate(-5deg);
        }
        html[data-theme='dark'] .arena-game-card-icon {
            color: var(--aa-green-lighter);
        }
        .arena-game-card-title {
            font-family: var(--font-headings-portal);
            font-weight: 700;
            font-size: 1.5rem;
            margin-bottom: 0.8rem;
            color: var(--text-headings-light-portal);
            line-height: 1.4;
            text-transform: uppercase;
        }
        html[data-theme='dark'] .arena-game-card-title {
            color: var(--text-headings-dark-portal);
        }
        .arena-game-card-description {
            font-family: var(--font-primary-portal);
            font-size: 0.9rem;
            color: var(--text-body-light-portal);
            line-height: 1.6;
            margin-top: auto;
        }
        html[data-theme='dark'] .arena-game-card-description {
            color: var(--text-body-dark-portal);
        }
        .arena-game-card-button {
            font-family: var(--font-primary-portal);
            font-weight: 600;
            color: var(--arremaq-orange);
            margin-top: 1.5rem;
            padding: 0.6rem 1.2rem;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            transition: all var(--transition-main);
            border: 1px solid var(--arremaq-orange-lighter);
            border-radius: var(--radius-button-portal);
        }
        .arena-game-card-button:hover {
            background-color: var(--arremaq-orange);
            color: var(--aa-white);
            transform: translateX(3px);
            box-shadow: var(--shadow-md);
        }
        html[data-theme='dark'] .arena-game-card-button {
            color: var(--arremaq-orange-lighter);
            border-color: var(--arremaq-orange-darker);
        }
        html[data-theme='dark'] .arena-game-card-button:hover {
            background-color: var(--arremaq-orange-darker);
            color: var(--aa-white);
        }

        /* Estilos de QuizScreen (do MODULO 11 React - Integrados aqui) */
        .quiz-section-container {
            padding: clamp(2rem, 8vw, 4rem) clamp(1rem, 5vw, 2rem);
            background-color: var(--bg-main-light);
            min-height: 100vh;
            transition: background-color var(--transition-main), color var(--transition-main);
            padding-top: 60px; /* Espaço para a barra de progresso */
        }
        html[data-theme='dark'] .quiz-section-container {
            background-color: var(--bg-main-dark);
        }

        .quiz-main-title-container {
            text-align: center;
            margin-bottom: 2rem;
        }
        .quiz-main-title-container h2 {
            font-family: var(--font-headings-portal);
            font-weight: 800;
            font-size: clamp(2rem, 4.5vw, 3rem);
            color: var(--aa-dark-blue);
            text-shadow: 1px 1px 3px rgba(0,0,0,0.1);
        }
        html[data-theme='dark'] .quiz-main-title-container h2 {
            color: var(--aa-green-lighter);
            text-shadow: 1px 1px 4px rgba(0,0,0,0.3);
        }
        .quiz-main-title-container h3 {
            font-family: var(--font-headings-portal);
            font-size: clamp(1.2rem, 2.8vw, 1.8rem);
            font-weight: 700;
            color: var(--text-headings-light-portal);
            margin-top: 0.5rem;
        }
        html[data-theme='dark'] .quiz-main-title-container h3 {
            color: var(--text-headings-dark-portal);
        }
        .quiz-main-title-container p {
            font-family: var(--font-primary-portal);
            font-size: 1rem;
            color: var(--text-muted-light-portal);
            margin-top: 0.5rem;
        }
        html[data-theme='dark'] .quiz-main-title-container p {
            color: var(--text-muted-dark-portal);
        }

        /* Card de configuração de jogadores do quiz */
        .quiz-player-setup-card {
            width: 100%;
            max-width: 550px;
            margin: 0 auto;
            padding: 2rem;
            background-color: var(--bg-content-light-portal);
            border-radius: var(--radius-xl);
            box-shadow: var(--shadow-xl);
            border: 1px solid var(--border-color-light-portal);
            animation: fade-in 0.6s ease-out forwards;
        }
        html[data-theme='dark'] .quiz-player-setup-card {
            background-color: var(--bg-content-dark-portal);
            border-color: var(--border-color-dark-portal);
            box-shadow: var(--shadow-dark-xl);
        }
        .quiz-player-setup-card h2 { /* Título dentro do card de setup */
            font-family: var(--font-headings-portal);
            font-size: 1.8rem;
            font-weight: 800;
            color: var(--aa-dark-blue);
            margin-bottom: 1rem;
        }
        html[data-theme='dark'] .quiz-player-setup-card h2 {
            color: var(--aa-green-lighter);
        }
        .quiz-player-setup-card h3 { /* Subtítulo dentro do card de setup */
            font-family: var(--font-headings-portal);
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--arremaq-orange-darker);
            margin-bottom: 1.5rem;
        }
        html[data-theme='dark'] .quiz-player-setup-card h3 {
            color: var(--arremaq-orange-text-dark-theme);
        }
        .quiz-player-setup-card p {
            font-family: var(--font-primary-portal);
            font-size: 0.95rem;
            color: var(--text-body-light-portal);
            margin-bottom: 1.5rem;
        }
        html[data-theme='dark'] .quiz-player-setup-card p {
            color: var(--text-body-dark-portal);
        }

        /* Campos de input para nomes de jogadores */
        .quiz-input-field {
            width: 100%;
            padding: 0.75rem 1rem;
            background-color: var(--bg-cards-section-light);
            border: 1px solid var(--border-color-light-portal);
            border-radius: var(--radius-md);
            font-family: var(--font-primary-portal);
            color: var(--text-body-light-portal);
            transition: all var(--transition-main);
        }
        html[data-theme='dark'] .quiz-input-field {
            background-color: var(--bg-cards-section-dark);
            border-color: var(--border-color-dark-portal);
            color: var(--text-body-dark-portal);
        }
        .quiz-input-field:focus {
            outline: none;
            border-color: var(--aa-green);
            box-shadow: 0 0 0 3px rgba(22, 176, 151, 0.3);
        }
        html[data-theme='dark'] .quiz-input-field:focus {
            border-color: var(--aa-green-lighter);
            box-shadow: 0 0 0 3px rgba(45, 212, 191, 0.4);
        }

        /* Botões primários do quiz */
        .quiz-btn-primary {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 0.8rem 1.8rem;
            border-radius: var(--radius-button-portal);
            font-weight: 700;
            background-color: var(--aa-green);
            color: var(--aa-white);
            border: none;
            cursor: pointer;
            transition: all var(--transition-main);
            box-shadow: var(--shadow-md);
        }
        .quiz-btn-primary:hover {
            background-color: var(--aa-green-darker);
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }
        html[data-theme='dark'] .quiz-btn-primary {
            background-color: var(--aa-green-lighter);
            color: var(--aa-dark-blue);
        }
        html[data-theme='dark'] .quiz-btn-primary:hover {
            background-color: var(--aa-green);
            color: var(--aa-white);
        }
        /* Botões secundários do quiz */
        .quiz-btn-secondary {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 0.8rem 1.8rem;
            border-radius: var(--radius-button-portal);
            font-weight: 700;
            background-color: var(--aa-medium-gray);
            color: var(--aa-white);
            border: none;
            cursor: pointer;
            transition: all var(--transition-main);
            box-shadow: var(--shadow-md);
        }
        .quiz-btn-secondary:hover {
            background-color: var(--aa-dark-blue);
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }
        html[data-theme='dark'] .quiz-btn-secondary {
            background-color: var(--text-muted-dark-portal);
            color: var(--bg-main-dark);
        }
        html[data-theme='dark'] .quiz-btn-secondary:hover {
            background-color: var(--aa-green-lighter);
            color: var(--aa-dark-blue);
        }
        /* Botões de perigo/erro */
        .quiz-btn-danger {
            background-color: var(--color-error);
            color: var(--aa-white);
        }
        .quiz-btn-danger:hover {
            background-color: #c82333;
        }

        /* Mensagem de erro do quiz */
        .quiz-error-message {
            color: var(--color-error);
            font-size: 0.9rem;
            margin-top: 0.5rem;
            text-align: center;
        }

        /* Estilos da tela de quiz (perguntas, opções, feedback) */
        .quiz-screen-content {
            background-color: var(--bg-content-light-portal);
            border-radius: var(--radius-xl);
            box-shadow: var(--shadow-lg);
            padding: 2rem;
            border: 1px solid var(--border-color-light-portal);
            animation: fade-in 0.6s ease-out forwards;
        }
        html[data-theme='dark'] .quiz-screen-content {
            background-color: var(--bg-content-dark-portal);
            border-color: var(--border-color-dark-portal);
            box-shadow: var(--shadow-dark-lg);
        }

        /* Informações do cabeçalho do quiz (nível, pergunta) */
        .quiz-header-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            padding-bottom: 0.8rem;
            border-bottom: 1px solid var(--border-color-light-portal);
        }
        html[data-theme='dark'] .quiz-header-info {
            border-color: var(--border-color-dark-portal);
        }
        .quiz-header-info span {
            font-family: var(--font-primary-portal);
            font-weight: 600;
            color: var(--text-headings-light-portal);
        }
        html[data-theme='dark'] .quiz-header-info span {
            color: var(--text-headings-dark-portal);
        }

        /* Container do timer do quiz */
        .quiz-timer-container {
            position: relative;
            width: 80px;
            height: 80px;
            flex-shrink: 0;
        }
        .quiz-timer-svg circle {
            fill: none;
            stroke-width: 4;
        }
        .quiz-timer-track {
            stroke: var(--border-color-light-portal);
        }
        html[data-theme='dark'] .quiz-timer-track {
            stroke: var(--border-color-dark-portal);
        }
        .quiz-timer-fill {
            stroke: var(--aa-green);
            transition: stroke-dasharray 1s linear;
        }
        html[data-theme='dark'] .quiz-timer-fill {
            stroke: var(--aa-green-lighter);
        }
        .quiz-timer-text {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-family: var(--font-headings-portal);
            font-size: 1.8rem;
            font-weight: bold;
            color: var(--aa-dark-blue);
        }
        html[data-theme='dark'] .quiz-timer-text {
            color: var(--aa-green-lighter);
        }
        .quiz-timer-text.warning {
            color: var(--arremaq-orange-darker);
            animation: pulse-fast 0.5s ease-in-out infinite;
        }
        html[data-theme='dark'] .quiz-timer-text.warning {
            color: var(--arremaq-orange-text-dark-theme);
        }

        /* Display da pergunta */
        .quiz-question-display {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 1.5rem;
            margin-top: 1.5rem;
        }
        .quiz-question-display h2 {
            font-family: var(--font-headings-portal);
            font-size: clamp(1.5rem, 3vw, 2.2rem);
            font-weight: 700;
            color: var(--text-headings-light-portal);
            text-align: center;
            line-height: 1.3;
        }
        html[data-theme='dark'] .quiz-question-display h2 {
            color: var(--text-headings-dark-portal);
        }

        /* Grid de opções de resposta */
        .quiz-options-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
            margin-top: 2rem;
        }
        .quiz-option-button {
            background-color: var(--bg-cards-section-light);
            border: 2px solid var(--border-color-light-portal);
            border-radius: var(--radius-md);
            padding: 1rem;
            font-family: var(--font-primary-portal);
            font-size: 1rem;
            text-align: left;
            cursor: pointer;
            transition: all var(--transition-main);
            box-shadow: var(--shadow-sm);
            color: var(--text-body-light-portal);
        }
        html[data-theme='dark'] .quiz-option-button {
            background-color: var(--bg-cards-section-dark);
            border-color: var(--border-color-dark-portal);
            box-shadow: var(--shadow-dark-sm);
        }
        .quiz-option-button:hover:not(:disabled) {
            transform: translateY(-3px);
            box-shadow: var(--shadow-md);
            border-color: var(--aa-green);
        }
        html[data-theme='dark'] .quiz-option-button:hover:not(:disabled) {
            border-color: var(--aa-green-lighter);
            box-shadow: var(--shadow-dark-md);
        }
        .quiz-option-button.selected {
            border-color: var(--aa-dark-blue);
            background-color: var(--aa-green-lighter);
            box-shadow: var(--shadow-md);
        }
        html[data-theme='dark'] .quiz-option-button.selected {
            border-color: var(--aa-green-lighter);
            background-color: var(--aa-dark-blue-lighter);
        }
        .quiz-option-button.correct-answer {
            background-color: var(--color-success);
            color: var(--aa-white);
            border-color: var(--color-success);
        }
        .quiz-option-button.incorrect-answer {
            background-color: var(--color-error);
            color: var(--aa-white);
            border-color: var(--color-error);
        }
        .quiz-option-button:disabled {
            opacity: 0.7;
            cursor: not-allowed;
            border-color: #cbd5e1;
        }
        html[data-theme='dark'] .quiz-option-button:disabled {
            background-color: #334155;
            color: #64748b;
            border-color: #475569;
        }

        /* Mensagens de feedback do quiz */
        .quiz-feedback-message {
            text-align: center;
            font-family: var(--font-headings-portal);
            font-size: 1.1rem;
            font-weight: 600;
            margin-top: 1.5rem;
            min-height: 25px;
        }
        .quiz-feedback-message.correct { color: var(--color-success); }
        .quiz-feedback-message.incorrect { color: var(--color-error); }
        .quiz-feedback-message.neutral { color: var(--text-headings-light-portal); }
        html[data-theme='dark'] .quiz-feedback-message.neutral { color: var(--text-headings-dark-portal); }

        .quiz-next-button {
            margin-top: 2rem;
            text-align: center;
        }
        .quiz-score-display {
            background-color: var(--bg-cards-section-light);
            border-radius: var(--radius-lg);
            padding: 1.5rem;
            margin-top: 2rem;
            box-shadow: var(--shadow-md);
            border: 1px solid var(--border-color-light-portal);
        }
        html[data-theme='dark'] .quiz-score-display {
            background-color: var(--bg-cards-section-dark);
            border-color: var(--border-color-dark-portal);
            box-shadow: var(--shadow-dark-md);
        }
        .quiz-score-display h3 {
            font-family: var(--font-headings-portal);
            font-size: 1.3rem;
            font-weight: 700;
            color: var(--text-headings-light-portal);
            margin-bottom: 1rem;
        }
        html[data-theme='dark'] .quiz-score-display h3 {
            color: var(--text-headings-dark-portal);
        }
        .quiz-score-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.5rem 0;
            font-family: var(--font-primary-portal);
            font-size: 1rem;
            color: var(--text-body-light-portal);
        }
        html[data-theme='dark'] .quiz-score-item {
            color: var(--text-body-dark-portal);
        }
        .quiz-score-item span:first-child { font-weight: 600; }
        .quiz-score-item span:last-child { font-weight: bold; color: var(--aa-green-darker); }
        html[data-theme='dark'] .quiz-score-item span:last-child { color: var(--aa-green-text-dark-theme); }

        /* Tela de Fim de Jogo (Game Over) */
        .quiz-gameover-card {
            width: 100%;
            max-width: 550px;
            margin: 0 auto;
            padding: 2.5rem;
            background-color: var(--bg-content-light-portal);
            border-radius: var(--radius-xl);
            box-shadow: var(--shadow-xl);
            border: 2px solid var(--aa-green);
            text-align: center;
            position: relative;
            overflow: hidden;
            animation: pop-in 0.6s ease-out forwards;
        }
        html[data-theme='dark'] .quiz-gameover-card {
            background-color: var(--bg-content-dark-portal);
            border-color: var(--aa-green-lighter);
            box-shadow: var(--shadow-dark-xl);
        }
        .quiz-gameover-card .trophy-icon {
            color: var(--arremaq-orange);
            font-size: 4rem;
            margin-bottom: 1rem;
        }
        html[data-theme='dark'] .quiz-gameover-card .trophy-icon {
            color: var(--arremaq-orange-text-dark-theme);
        }
        .quiz-gameover-card h2 {
            font-family: var(--font-headings-portal);
            font-size: 2.5rem;
            font-weight: 800;
            color: var(--aa-dark-blue);
            margin-bottom: 0.5rem;
        }
        html[data-theme='dark'] .quiz-gameover-card h2 {
            color: var(--aa-green-lighter);
        }
        .quiz-gameover-card p {
            font-family: var(--font-primary-portal);
            font-size: 1.1rem;
            color: var(--text-body-light-portal);
            margin-bottom: 1.5rem;
        }
        html[data-theme='dark'] .quiz-gameover-card p {
            color: var(--text-body-dark-portal);
        }
        .quiz-winner-name {
            font-family: var(--font-headings-portal);
            font-size: 2.8rem;
            font-weight: 800;
            color: var(--arremaq-orange-darker);
            margin: 1rem 0;
            text-shadow: 0 0 5px rgba(255,140,0,0.3);
        }
        html[data-theme='dark'] .quiz-winner-name {
            color: var(--arremaq-orange-text-dark-theme);
            text-shadow: 0 0 5px rgba(255,208,115,0.4);
        }
        .quiz-final-score {
            font-family: var(--font-primary-portal);
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--text-headings-light-portal);
            margin-bottom: 2rem;
        }
        html[data-theme='dark'] .quiz-final-score {
            color: var(--text-headings-dark-portal);
        }

        /* Leaderboard final do quiz */
        .quiz-leaderboard-final {
            background-color: var(--bg-cards-section-light);
            border-radius: var(--radius-lg);
            padding: 1.5rem;
            margin-top: 2rem;
            box-shadow: var(--shadow-md);
            border: 1px solid var(--border-color-light-portal);
        }
        html[data-theme='dark'] .quiz-leaderboard-final {
            background-color: var(--bg-cards-section-dark);
            border-color: var(--border-color-dark-portal);
            box-shadow: var(--shadow-dark-md);
        }
        .quiz-leaderboard-final h4 {
            font-family: var(--font-headings-portal);
            font-size: 1.3rem;
            font-weight: 700;
            color: var(--text-headings-light-portal);
            margin-bottom: 1rem;
        }
        html[data-theme='dark'] .quiz-leaderboard-final h4 {
            color: var(--text-headings-dark-portal);
        }
        .quiz-leaderboard-list {
            list-style: none;
            padding: 0;
        }
        .quiz-leaderboard-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.6rem 0;
            border-bottom: 1px dashed var(--border-color-light-portal);
            font-family: var(--font-primary-portal);
            font-size: 1rem;
            color: var(--text-body-light-portal);
        }
        html[data-theme='dark'] .quiz-leaderboard-item {
            border-color: var(--border-color-dark-portal);
            color: var(--text-body-dark-portal);
        }
        .quiz-leaderboard-item:last-child {
            border-bottom: none;
        }
        .quiz-leaderboard-item .player-rank {
            font-weight: bold;
            color: var(--aa-dark-blue);
            margin-right: 0.5rem;
        }
        html[data-theme='dark'] .quiz-leaderboard-item .player-rank {
            color: var(--aa-green-lighter);
        }
        .quiz-leaderboard-item .player-name {
            flex-grow: 1;
            font-weight: 600;
        }
        .quiz-leaderboard-item .player-score {
            font-weight: bold;
            color: var(--arremaq-orange-darker);
        }
        html[data-theme='dark'] .quiz-leaderboard-item .player-score {
            color: var(--arremaq-orange-text-dark-theme);
        }

        .quiz-restart-game-btn {
            margin-top: 2.5rem;
            display: inline-block;
        }

        /* Confetti animations (do MODULO 11 React - Integrados aqui) */
        @keyframes fade-in { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        .animate-fade-in { animation: fade-in 0.6s ease-out forwards; }

        @keyframes slide-in-left { from { opacity: 0; transform: translateX(-30px); } to { opacity: 1; transform: translateX(0); } }
        .animate-slide-in-left { animation: slide-in-left 0.6s ease-out forwards; }

        @keyframes slide-in-right { from { opacity: 0; transform: translateX(30px); } to { opacity: 1; transform: translateX(0); } }
        .animate-slide-in-right { animation: slide-in-right 0.6s ease-out forwards; }

        @keyframes score-pop { 0% { transform: scale(1); opacity: 1; } 50% { transform: scale(1.15); opacity: 1; text-shadow: 0 0 15px currentColor; } 100% { transform: scale(1); opacity: 1; } }
        .animate-score-pop { animation: score-pop 0.6s ease-in-out; }

        @keyframes score-pop-individual { 0% { transform: scale(1); } 50% { transform: scale(1.1); color: var(--aa-green-text-dark-theme); } 100% { transform: scale(1); } }
        .animate-score-pop-individual { animation: score-pop-individual 0.4s ease-in-out; }

        @keyframes bounce-subtle { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-5px); } }
        .animate-bounce-subtle { animation: bounce-subtle 1.8s ease-in-out infinite; }

        @keyframes pulse-fast { 0%, 100% { opacity: 1; } 50% { opacity: 0.6; } }
        .animate-pulse-fast { animation: pulse-fast 0.5s ease-in-out infinite; }

        @keyframes pulse-subtle { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.02); } }
        .animate-pulse-subtle { animation: pulse-subtle 1.5s ease-in-out infinite; }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
            20%, 40%, 60%, 80% { transform: translateX(5px); }
        }
        .animate-shake { animation: shake 0.5s cubic-bezier(.36,.07,.19,.97) both; }

        @keyframes float-up {
            0% { transform: translateY(0) scale(1); opacity: 1; }
            100% { transform: translateY(-50px) scale(1.2); opacity: 0; }
        }
        .animate-float-up { animation: float-up 1s ease-out forwards; }

        @keyframes pop-in {
            0% { transform: scale(0.8); opacity: 0; }
            80% { transform: scale(1.05); opacity: 1; }
            100% { transform: scale(1); opacity: 1; }
        }
        .animate-pop-in { animation: pop-in 0.5s cubic-bezier(0.68, -0.55, 0.27, 1.55) forwards; }

        /* Scrollbar personalizada para elementos com overflow */
        .custom-scrollbar {
            scrollbar-width: thin; /* Para Firefox */
            scrollbar-color: var(--aa-medium-gray) var(--bg-cards-section-light);
        }
        /* Para navegadores Webkit (Chrome, Safari) */
        .custom-scrollbar::-webkit-scrollbar {
            width: 8px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
            background: var(--bg-cards-section-light);
            border-radius: 10px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
            background: var(--aa-medium-gray);
            border-radius: 10px;
            border: 2px solid var(--bg-cards-section-light);
        }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
            background: var(--aa-dark-blue);
        }
        /* Tema escuro para a scrollbar */
        html[data-theme='dark'] .custom-scrollbar {
            scrollbar-color: var(--aa-light-gray) var(--bg-cards-section-dark);
        }
        html[data-theme='dark'] .custom-scrollbar::-webkit-scrollbar-track {
            background: var(--bg-cards-section-dark);
        }
        html[data-theme='dark'] .custom-scrollbar::-webkit-scrollbar-thumb {
            background: var(--aa-light-gray);
            border-color: var(--bg-cards-section-dark);
        }
        html[data-theme='dark'] .custom-scrollbar::-webkit-scrollbar-thumb:hover {
            background: var(--aa-white);
        }

        /* Estilos para o Jogo de Corrida SVG (do JOGO E QUIZ.txt) */
        .race-game-section {
            padding: clamp(2rem, 8vw, 4rem) clamp(1rem, 5vw, 2rem);
            background-color: var(--bg-main-light);
            min-height: 100vh;
            transition: background-color var(--transition-main), color var(--transition-main);
            padding-top: 60px; /* Espaço para a barra de progresso */
        }
        html[data-theme='dark'] .race-game-section {
            background-color: var(--bg-main-dark);
        }

        /* Container do SVG do jogo de corrida */
        #corrida-svg-container {
            text-align: center;
            margin-bottom: 1rem;
            background-color: var(--bg-content-light-portal);
            border-radius: var(--radius-xl);
            box-shadow: var(--shadow-lg);
            padding: 1.5rem;
            border: 1px solid var(--border-color-light-portal);
            transition: background-color var(--transition-main), box-shadow var(--transition-main);
        }
        html[data-theme='dark'] #corrida-svg-container {
            background-color: var(--bg-content-dark-portal);
            border-color: var(--border-color-dark-portal);
            box-shadow: var(--shadow-dark-lg);
        }

        /* Estilo para teclas KBD no jogo de corrida */
        #corrida-svg-container kbd {
            background-color: var(--bg-cards-section-light);
            border-radius: var(--radius-sm);
            border: 1px solid var(--border-color-light-portal);
            box-shadow: var(--shadow-sm);
            color: var(--text-body-light-portal);
            display: inline-block;
            font-size: 0.9em;
            font-weight: 600;
            line-height: 1;
            padding: 0.6rem 1rem;
            white-space: nowrap;
            margin: 0.25rem;
        }
        html[data-theme="dark"] #corrida-svg-container kbd {
            background-color: var(--bg-cards-section-dark);
            border-color: var(--border-color-dark-portal);
            color: var(--text-body-dark-portal);
            box-shadow: var(--shadow-dark-sm);
        }

        /* Estilo para o elemento SVG da corrida (a pista) */
        #corridaSvg {
            display: block;
            margin: 1rem auto;
            background-color: #9ca3af; /* Cor base da pista */
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow-md);
            max-width: 100%;
            height: auto;
            transition: background-color var(--transition-main);
        }
        html[data-theme="dark"] #corridaSvg {
            background-color: #4b5563; /* Pista mais escura no modo escuro */
            box-shadow: var(--shadow-dark-md);
        }

        /* Status e informações dos jogadores da corrida */
        #corridaStatus, #corrida-info-players {
            margin-top: 1rem;
            font-weight: bold;
            font-size: 1.1rem;
            color: var(--aa-green-darker);
            text-align: center;
        }
        html[data-theme="dark"] #corridaStatus, html[data-theme="dark"] #corrida-info-players {
            color: var(--aa-green-text-dark-theme);
        }
        #corrida-info-players span { margin: 0 0.5rem; }

        /* Controles do jogo de corrida */
        .race-game-controls {
            text-align: center;
            margin-bottom: 1rem;
        }
        .race-game-controls .btn-primary, .race-game-controls .btn-secondary {
            padding: 0.8rem 1.8rem;
            border-radius: var(--radius-button-portal);
            font-weight: 700;
            transition: all var(--transition-main);
            box-shadow: var(--shadow-md);
            font-size: 0.9rem;
            margin: 0.5rem;
        }

        /* Botões de navegação (próximo/anterior módulo) */
        .navigation-buttons { display: flex; justify-content: space-between; margin-top: 3rem; }
        .btn-nav {
            padding: 0.7rem 1.5rem;
            border-radius: var(--radius-lg);
            font-weight: 700;
            transition: all var(--transition-main);
            border: 2px solid transparent;
            text-transform: uppercase;
            box-shadow: var(--shadow-sm);
            font-size: 0.8rem;
            cursor: pointer;
        }
        .btn-nav:hover{
            box-shadow: var(--shadow-md);
            transform: translateY(-2px);
        }
        .btn-nav.prev {
            background-color: var(--aa-medium-gray);
            color: var(--aa-white);
            border-color: var(--aa-dark-blue);
        }
        .btn-nav.prev:hover {
            background-color: var(--aa-dark-blue);
        }
        html[data-theme='dark'] .btn-nav.prev {
            background-color: var(--aa-medium-gray);
            color: var(--bg-main-dark);
            border-color: var(--aa-green-lighter);
        }
        html[data-theme='dark'] .btn-nav.prev:hover {
            background-color: var(--aa-green-lighter);
            color: var(--aa-dark-blue);
        }
        .btn-nav.next {
            background-color: var(--aa-green);
            color: var(--aa-white);
            border-color: var(--aa-green-darker);
        }
        .btn-nav.next:hover {
            background-color: var(--aa-green-darker);
        }
        html[data-theme='dark'] .btn-nav.next {
            background-color: var(--arremaq-orange-text-dark-theme);
            color: var(--aa-dark-blue);
            border-color: var(--arremaq-orange);
        }
        html[data-theme='dark'] .btn-nav.next:hover {
            background-color: var(--arremaq-orange);
            color: var(--aa-white);
        }
        .btn-nav:disabled {
            background-color: #e2e8f0;
            color: #94a3b8;
            cursor: not-allowed;
            opacity: 0.7;
            border-color: #cbd5e1;
        }
        html[data-theme='dark'] .btn-nav:disabled {
            background-color: #334155;
            color: #64748b;
            border-color: #475569;
        }

        /* Botão "Voltar à Seção" */
        .btn-voltar-secao {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            font-family: var(--font-headings-cover);
            font-weight: 600;
            padding: 0.7rem 1.4rem;
            border-radius: var(--radius-button-portal);
            text-decoration: none;
            transition: all 0.3s cubic-bezier(.2,0,.2,1);
            border: 2px solid var(--aa-green);
            background-color: transparent;
            color: var(--aa-green-darker);
            font-size: 0.85rem;
            text-transform: uppercase;
            letter-spacing: 0.07em;
            margin-bottom: 2.5rem;
        }
        .btn-voltar-secao:hover {
            background-color: var(--aa-green-lighter);
            border-color: var(--aa-green-darker);
            transform: translateY(-3px) scale(1.02);
            color: var(--aa-green-darker);
            box-shadow: 0 4px 10px rgba(22,176,151,0.2);
        }
        html[data-theme='dark'] .btn-voltar-secao {
            border-color: var(--aa-green-lighter);
            color: var(--aa-green-lighter);
        }
        html[data-theme='dark'] .btn-voltar-secao:hover {
            background-color: var(--aa-green-darker);
            border-color: var(--aa-green-lighter);
            color: var(--aa-white);
            box-shadow: 0 4px 10px rgba(45,212,191,0.3);
        }
        .btn-voltar-secao i { margin-right: 0.4rem; }

        /*
         * =====================================================================
         * Acessibilidade & Estilos do Toggle de Tema
         *
         * Botões flutuantes para alternar o tema e controlar a acessibilidade
         * (tamanho da fonte, leitura da página).
         * =====================================================================
         */
        .theme-toggle-button {
            position: fixed;
            bottom: 25px;
            right: 25px;
            background-image: linear-gradient(45deg, var(--aa-dark-blue), #2c3e50);
            color: var(--aa-white);
            border: 1px solid var(--border-color-dark-portal);
            border-radius: var(--radius-full);
            width: 55px;
            height: 55px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.6rem;
            cursor: pointer;
            box-shadow: 0 6px 15px rgba(0,0,0,0.2);
            z-index: 1000;
            transition: all 0.3s cubic-bezier(.4,0,.2,1);
        }
        .theme-toggle-button:hover {
            transform: scale(1.15);
            color: var(--aa-green-lighter);
            box-shadow: 0 0 20px rgba(22, 176, 151, 0.5); /* Brilho verde no hover */
        }
        html[data-theme='dark'] .theme-toggle-button {
            background-image: linear-gradient(45deg, var(--aa-green-lighter), var(--aa-green));
            color: var(--aa-dark-blue);
        }

        .accessibility-controls {
            position: fixed;
            top: 25px;
            right: 25px;
            display: flex;
            flex-direction: column;
            gap: 12px;
            z-index: 1001;
        }
        .accessibility-btn {
            background-color: var(--bg-content-light-portal);
            color: var(--text-headings-light-portal);
            border: 1px solid var(--border-color-light-portal);
            border-radius: var(--radius-full);
            width: 48px;
            height: 48px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.3rem;
            cursor: pointer;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            transition: all 0.3s cubic-bezier(.4,0,.2,1);
            background-image: linear-gradient(45deg, white, #f3f4f6);
        }
        .accessibility-btn:hover {
            transform: scale(1.15);
            color: var(--aa-green);
            box-shadow: 0 6px 15px rgba(0,0,0,0.15);
        }
        html[data-theme='dark'] .accessibility-btn {
            background-image: linear-gradient(45deg, #4b5563, #3f4a5a);
            color: var(--text-headings-dark-portal);
            border-color: var(--border-color-dark-portal);
        }
        html[data-theme='dark'] .accessibility-btn:hover {
            color: var(--aa-green-lighter);
        }


        /*
         * =====================================================================
         * Design Responsivo
         *
         * Media queries para garantir que o layout se adapte a diferentes
         * tamanhos de tela (desktop, tablet, mobile).
         * =====================================================================
         */
        @media (max-width: 1024px) {
            /* Ajustes para telas médias (tablets e laptops menores) */
            .menu-principal-section .grid-cols-4 { grid-template-columns: repeat(2, minmax(0, 1fr)); }
            #playbookIndexContainer.grid-cols-4 { grid-template-columns: repeat(2, minmax(0, 1fr)); }
            /* Arena dos Campeões se torna coluna única */
            .arena-campeoes-section .grid-cols-2 { grid-template-columns: repeat(1, minmax(0, 1fr)); }
            .quiz-options-list { grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); } /* Ajuste para quiz */
        }
        @media (max-width: 768px) {
            /* Ajustes para telas pequenas (smartphones maiores, tablets em retrato) */
            html { font-size: 87%; }
            .capa-title { font-size: clamp(1.1rem, 2.5vw, 1.4rem); }
            .frase-destaque { font-size: clamp(0.7rem, 1.5vw, 0.9rem); max-width: 98%; padding: 0.4em 0.8em; }
            .playbook-logo { width: 160px; }
            .accessibility-controls { top: 15px; right: 15px; gap: 10px;}
            .accessibility-btn { width: 44px; height: 44px; font-size: 1.1rem;}
            .menu-principal-title { font-size: clamp(1.4rem, 3.2vw, 2rem); }
            .menu-card { padding: 1.8rem 1.2rem; min-height: 260px; }
            .menu-card-icon { font-size: 2.8rem; }
            .manual-pitstop-main-title, .arena-campeoes-title { font-size: clamp(1.5rem, 3.5vw, 2.2rem); }
            #playbookIndexContainer.grid-cols-3 { grid-template-columns: repeat(2, minmax(0, 1fr)); }
            #playbookIndexContainer .index-item-card { min-height: 200px; padding: 1.5rem; }
            #playbookIndexContainer .index-item-emoji { font-size: 2.5rem; }
            .modal-content {
                padding: 2rem;
            }
            .modal-title {
                font-size: 1.8rem;
            }
            .modal-form input, .modal-form button {
                padding: 0.9rem;
                font-size: 1.05rem;
            }
            .playbook-section-title { font-size: clamp(1.1rem, 2.2vw, 1.5rem); }
            .playbook-sub-section p { font-size: 0.9rem; }
            .quiz-question-display h2 { font-size: clamp(1.2rem, 2.5vw, 1.8rem); }
            .quiz-option-button { font-size: 0.9rem; padding: 0.8rem;}
            .arena-game-card { min-height: 220px; padding: 1.5rem;}
            .arena-game-card-icon { font-size: 3rem;}
            .arena-game-card-title { font-size: 1.2rem;}
        }
        @media (max-width: 640px) {
            /* Ajustes para telas pequenas (smartphones) */
            .menu-principal-section .grid-cols-4, .menu-principal-section .grid-cols-2 { grid-template-columns: repeat(1, minmax(0, 1fr)); }
            #playbookIndexContainer.grid-cols-4, #playbookIndexContainer.grid-cols-2, #playbookIndexContainer.grid-cols-3 { grid-template-columns: repeat(1, minmax(0, 1fr)); }
            .capa-social-links a { width: 45px; height: 45px; font-size: 1.1rem; }
            .menu-principal-title { font-size: clamp(1.4rem, 3.2vw, 2rem); }
            .manual-pitstop-main-title, .arena-campeoes-title { font-size: clamp(1.5rem, 3.5vw, 2.2rem); }
            .menu-card { min-height: 220px; padding: 1.2rem; }
            .menu-card-title { font-size: 0.95rem; }
            #playbookIndexContainer .index-item-card { min-height: 160px; padding: 1.2rem; }
            #playbookIndexContainer .index-item-title { font-size: 0.85rem; }
            .modal-content {
                padding: 1.5rem;
            }
            .modal-title {
                font-size: 1.5rem;
            }
            .modal-form input, .modal-form button {
                padding: 0.8rem;
                font-size: 0.9rem;
            }
            .quiz-question-display h2 { font-size: clamp(1rem, 2.8vw, 1.5rem); }
            .quiz-option-button { font-size: 0.8rem; padding: 0.6rem;}
            .arena-game-card { min-height: 180px; padding: 1rem;}
            .arena-game-card-icon { font-size: 2.5rem;}
            .arena-game-card-title { font-size: 1rem;}
        }
        @media (max-width: 480px) {
            /* Ajustes para telas muito pequenas */
            html { font-size: 80%; }
            .playbook-logo { width: 130px; }
            .btn-iniciar { font-size: 0.8rem; padding: 0.6em 1.2em; }
            .capa-title { font-size: clamp(1.0rem, 2.8vw, 1.3rem); line-height: 1.4;}
            .frase-destaque { font-size: clamp(0.65rem, 1.4vw, 0.8rem); padding: 0.3em 0.6em; }
            .menu-principal-title { font-size: clamp(1.2rem, 3.0vw, 1.8rem); }
            .manual-pitstop-main-title, .arena-campeoes-title { font-size: clamp(1.3rem, 3.2vw, 1.9rem); }
        }
    </style>
</head>
<body>
    <!-- BARRA DE PROGRESSO GLOBAL -->
    <div id="progress-bar-container" class="fixed top-0 left-0 w-full bg-gray-200 dark:bg-gray-700 h-2 hidden z-[1000]">
        <div id="progress-bar-fill" class="h-full bg-aa-green transition-all duration-300 ease-out" style="width: 0%;"></div>
        <span id="progress-bar-text" class="absolute left-1/2 -translate-x-1/2 top-3 text-xs font-bold text-gray-700 dark:text-gray-300 hidden">Carregando Progresso...</span>
    </div>

    <!-- Controles de Acessibilidade -->
    <div class="accessibility-controls">
        <button id="increaseFontBtn" class="accessibility-btn" aria-label="Aumentar tamanho da fonte" title="Aumentar Fonte">
            <i class="fas fa-search-plus"></i>
        </button>
        <button id="decreaseFontBtn" class="accessibility-btn" aria-label="Diminuir tamanho da fonte" title="Diminuir Fonte">
            <i class="fas fa-search-minus"></i>
        </button>
        <button id="readPageBtn" class="accessibility-btn" aria-label="Ler página em voz alta" title="Ler Página">
            <i class="fas fa-volume-up"></i>
        </button>
    </div>
    <!-- Botão de alternância de tema (posicionado ao lado dos controles de acessibilidade) -->
    <button id="themeToggleBtn" class="theme-toggle-button" aria-label="Alternar tema claro/escuro" title="Alternar Tema">
        <i class="fas fa-moon"></i>
    </button>

    <main id="main-portal-completo">
        <!-- 🎬 CAPA -->
        <section id="capa-section" class="capa-section" data-aos="fade-in" data-aos-duration="1200">
            <!-- Conteúdo da CAPA já inserido -->
            <div class="logos-container">
                <img src="https://www.autoarremate.com.br/wp-content/uploads/2022/09/logo-horizontal-padrao.svg" alt="Logotipo da Auto Arremate" class="playbook-logo" data-aos="zoom-in" data-aos-delay="200" onerror="this.onerror=null; this.src='https://placehold.co/192x54/ffffff/16B097?text=Auto+Arremate&font=manrope'; this.alt='Logotipo Auto Arremate Indisponível';">
                <img src="https://www.arremaq.com.br/wp-content/uploads/2021/01/Logotipo-Arremaqsuperbid.png" alt="Logotipo da Arremaq" class="playbook-logo" data-aos="zoom-in" data-aos-delay="300" onerror="this.onerror=null; this.src='https://placehold.co/192x54/ffffff/FF8C00?text=Arremaq&font=manrope'; this.alt='Logotipo Arremaq Indisponível';">
            </div>
            <h1 class="capa-title fun-title-effect" data-aos="fade-up" data-aos-delay="500">
                <span class="capa-title-line"><span class="rounded-emoji-icon">🏎️</span> TRILHA DE APRENDIZADO <span class="rounded-emoji-icon">💨</span></span>
                <span class="capa-title-line"><span class="rounded-emoji-icon">⚡</span> SEU GUIA RELÂMPAGO <span class="rounded-emoji-icon">💡</span></span>
                <span class="capa-title-line"><span class="rounded-emoji-icon">🎯</span> PARA UMA PERFORMANCE CAMPEÃ <span class="rounded-emoji-icon">🏁</span></span>
                <span class="capa-title-line"><span class="rounded-emoji-icon">🏆</span> NA <span class="text-aa-green-darker">AUTO ARREMATE</span> E <span class="text-arremaq-orange-darker">ARREMAQ</span> <span class="rounded-emoji-icon">🏅</span></span>
            </h1>
            <p class="frase-destaque frase-destaque-verde fun-frase-effect" data-aos="fade-up" data-aos-delay="700">
                <span class="rounded-emoji-icon">🚀</span> SÓ OS FORTES ACELERAM, MAS APENAS OS SÁBIOS DOMINAM A ARTE DE FREAR! <span class="rounded-emoji-icon">🛑</span>
            </p>
            <p class="capa-criado" data-aos="fade-up" data-aos-delay="1000"> <span class="rounded-emoji-icon">✨</span> Criado pelo <span class="rounded-emoji-icon">👨‍💻</span> Analista de Operações - <strong class="creator-name">Marcelo do Nascimento</strong> <span class="rounded-emoji-icon">🚀</span>
            </p>
            <button id="btnIniciarCapa" class="btn-iniciar" data-aos="fade-up" data-aos-delay="1100"> EMBARCAR NESSA CORRIDA ÉPICA!
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" style="width: 1.2em; height: 1.2em;"><path stroke-linecap="round" stroke-linejoin="round" d="M12.75 15l3-3m0 0l-3-3m3 3h-7.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
            </button>
            <div class="capa-social-links" data-aos="fade-up" data-aos-delay="1200">
                <a href="https://facebook.com/auto-arremate" target="_blank" aria-label="Facebook Auto Arremate"><i class="fab fa-facebook-f"></i></a> 
                <a href="https://www.autoarremate.com.br/podcast-dirigindo-vendas/" target="_blank" aria-label="Podcast Dirigindo Vendas" title="Podcast Dirigindo Vendas"><i class="fas fa-podcast"></i></a> 
                <a href="https://www.instagram.com/autoarremate/" target="_blank" aria-label="Instagram Auto Arremate"><i class="fab fa-instagram"></i></a> 
                <a href="https://www.linkedin.com/company/autoarremate/" target="_blank" aria-label="LinkedIn Auto Arremate"><i class="fab fa-linkedin-in"></i></a> 
                <a href="https://wa.me/5511940366065" target="_blank" aria-label="WhatsApp Auto Arremate"><i class="fab fa-whatsapp"></i></a> 
            </div>
        </section>


        <!-- 🛠️ MENU PRINCIPAL -->
        <section id="menu-principal-section" class="menu-principal-section hidden" data-aos="fade-in">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <h2 class="menu-principal-title" data-aos="fade-down">
                    <span class="rounded-emoji-icon">🚦</span> CENTRAL DE COMANDO <span class="text-aa-green-darker">AUTO ARREMATE</span> & <span class="text-arremaq-orange-darker">ARREMAQ</span> <span class="rounded-emoji-icon">🛠️</span>
                </h2>
                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8 md:gap-10 mt-12 md:mt-16">
                    <!-- Card para abrir o Índice da Trilha -->
                    <div id="openManualPitStopBtn" class="menu-card" data-aos="fade-up" data-aos-delay="100">
                        <span class="menu-card-icon"><i class="fas fa-flag-checkered rounded-emoji-icon"></i></span>
                        <h3 class="menu-card-title">
                            <span class="rounded-emoji-icon">🏁</span> ROTA DOS CAMPEÕES <span class="rounded-emoji-icon">🏆</span>
                        </h3>
                        <p class="text-sm text-gray-500 mt-2 dark:text-gray-400">
                            Explore o índice detalhado e navegue pelos módulos da trilha de aprendizado.
                        </p>
                    </div>
                    <!-- Card para abrir a Arena dos Campeões (Jogos e Quiz Principal) -->
                    <div id="openArenaCampeoesBtn" class="menu-card" data-aos="fade-up" data-aos-delay="200">
                        <span class="menu-card-icon"><i class="fas fa-gamepad rounded-emoji-icon"></i></span>
                        <h3 class="menu-card-title">
                           <span class="rounded-emoji-icon">🎮</span> ARENA DOS CAMPEÕES
                        </h3>
                        <p class="text-sm text-gray-500 mt-2 dark:text-gray-400">
                            Desafios gamificados e quizzes interativos para testar e turbinar seu conhecimento.
                        </p>
                    </div>
                    <!-- Card para abrir a Box da Identidade -->
                    <div id="openBoxIdentidadeBtn" class="menu-card" data-aos="fade-up" data-aos-delay="300">
                        <span class="menu-card-icon"><i class="fas fa-palette rounded-emoji-icon"></i></span>
                        <h3 class="menu-card-title">
                           <span class="rounded-emoji-icon">🎨</span> BOX DA IDENTIDADE
                        </h3>
                        <p class="text-sm text-gray-500 mt-2 dark:text-gray-400">
                            Acesse o manual de marca completo: logos, cores, tipografia e aplicações.
                        </p>
                    </div>
                    <!-- Card para abrir a Academia de Repassadores -->
                    <div id="openAcademiaRepassadoresBtn" class="menu-card" data-aos="fade-up" data-aos-delay="400">
                        <span class="menu-card-icon"><i class="fas fa-graduation-cap rounded-emoji-icon"></i></span>
                        <h3 class="menu-card-title">
                           <span class="rounded-emoji-icon">⛽</span> ACADEMIA DE REPASSADORES 3.0
                        </h3>
                        <p class="text-sm text-gray-500 mt-2 dark:text-gray-400">
                            Explore ferramentas de IA e treinamentos para aprimorar suas habilidades.
                        </p>
                    </div>
                </div>
                <!-- Botão para voltar à capa -->
                <button id="backToCoverBtnMenu" class="btn-voltar-secao mt-16 mx-auto">
                    <i class="fas fa-arrow-left mr-2"></i> VOLTAR À CAPA
                </button>
            </div>
        </section>

        <!-- 🧭 ÍNDICE DA TRILHA (MANUAL DO PIT STOP) -->
        <section id="manual-pitstop-detalhes-section" class="manual-pitstop-detalhes-section hidden" data-aos="fade-in">
            <div class="container mx-auto">
                <button class="btn-voltar-secao backToMenuPrincipalBtn mb-10 text-sm">
                    <i class="fas fa-arrow-left mr-2"></i> VOLTAR AO MENU PRINCIPAL
                </button>
                <h2 class="manual-pitstop-main-title">
                    <span class="rounded-emoji-icon">🛠️</span> ROTA DOS CAMPEÕES: SEUS MÓDULOS DE ALTA PERFORMANCE <span class="rounded-emoji-icon">🏆</span>
                </h2>
                <!-- Container onde o JS irá renderizar os cards do índice -->
                <div id="playbookIndexContainer" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 md:gap-8 py-8">
                    <!-- Cards dos módulos serão gerados por JavaScript aqui -->
                </div>
            </div>
        </section>

        <!-- 🎯 MÓDULOS DE CONTEÚDO (COM QUIZZES) -->

        <!-- MÓDULO 1: NOSSA PISTA DE DECOLAGEM -->
        <section id="playbook-sec-1-content-main" class="playbook-sub-section hidden" data-aos="fade-up">
            <div class="container mx-auto">
                <button class="btn-voltar-secao backToManualPitStopDetalhesBtn mb-8 text-sm">
                    <i class="fas fa-arrow-left mr-2"></i> VOLTAR AO GUIA ESTRATÉGICO
                </button>
                <h2 class="playbook-content-title text-center" data-aos="fade-down"><span class="rounded-emoji-icon">🚀</span><strong>NOSSA PISTA DE DECOLAGEM: HISTÓRIA, VALORES E A FORÇA DA EQUIPE <span class="text-aa-green-darker">AUTO ARREMATE</span> & <span class="text-arremaq-orange-darker">ARREMAQ</span>!</strong></h2>
                <div class="text-content-container space-y-10 mt-8">
                    <p class="text-center text-gray-700 dark:text-gray-300">
                        Bem-vindo(a) à sua base de lançamento! Esta seção detalha a história, os valores fundamentais e a força da equipe por trás da Auto Arremate® e Arremaq®, preparando você para a jornada que temos pela frente.
                    </p>
                    <ul class="list-disc list-inside text-gray-700 dark:text-gray-300 mt-6">
                        <li><strong>História:</strong> da fundação em 2019 até a expansão nacional.</li>
                        <li><strong>Missão:</strong> simplificar o repasse de veículos com tecnologia e transparência.</li>
                        <li><strong>Valores:</strong> ética, inovação e foco no cliente.</li>
                        <li><strong>Equipe:</strong> profissionais apaixonados por oferecer a melhor experiência.</li>
                    </ul>
                </div>
                <div class="quiz-container mt-8 hidden">
                    <h3 class="playbook-section-title text-center"><span class="rounded-emoji-icon">❓</span> TESTE SEU CONHECIMENTO!</h3>
                    <p class="text-center text-gray-700 dark:text-gray-300 mb-4">Responda às 5 perguntas abaixo para validar seu aprendizado e avançar para o próximo módulo.</p>
                    <div id="quiz-m1-content" class="quiz-module-content"></div>
                </div>
                <div class="navigation-buttons">
                    <button class="btn-nav prev navigateToPlaybookSection" data-target="manual-pitstop-detalhes-section" disabled>
                        <i class="fas fa-arrow-left mr-2"></i> ANTERIOR
                    </button>
                    <button class="btn-nav next navigateToPlaybookSection" data-target="playbook-sec-2-content-main" disabled>
                        PRÓXIMO <i class="fas fa-arrow-right ml-2"></i>
                    </button>
                </div>
            </div>
        </section>

        <!-- MÓDULO 2: AUTO ARREMATE NA POLE POSITION -->
        <section id="playbook-sec-2-content-main" class="playbook-sub-section hidden" data-aos="fade-up">
            <div class="container mx-auto">
                <button class="btn-voltar-secao backToManualPitStopDetalhesBtn mb-8 text-sm">
                    <i class="fas fa-arrow-left mr-2"></i> VOLTAR AO GUIA ESTRATÉGICO
                </button>
                <h2 class="playbook-content-title text-center"><span class="rounded-emoji-icon">🚗</span><strong>AUTO ARREMATE NA POLE POSITION: DOMINANDO O UNIVERSO DOS VEÍCULOS LEVES!</strong></h2>
                <div class="text-content-container space-y-10 mt-8">
                    <p class="text-center text-gray-700 dark:text-gray-300">
                        Mergulhe no universo da Auto Arremate®, nossa plataforma dedicada a otimizar a gestão e comercialização de veículos leves.
                    </p>
                    <ul class="list-disc list-inside text-gray-700 dark:text-gray-300 mt-6">
                        <li>Publicação rápida de estoque e acompanhamento em tempo real.</li>
                        <li>Ferramentas de precificação que maximizam o retorno de cada venda.</li>
                        <li>Rede de compradores qualificados em todo o Brasil.</li>
                        <li>Relatórios e dashboards para análise de performance.</li>
                    </ul>
                </div>
                <div class="quiz-container mt-8 hidden">
                    <h3 class="playbook-section-title text-center"><span class="rounded-emoji-icon">❓</span> TESTE SEU CONHECIMENTO!</h3>
                    <p class="text-center text-gray-700 dark:text-gray-300 mb-4">Responda às 5 perguntas abaixo para validar seu aprendizado e avançar para o próximo módulo.</p>
                    <div id="quiz-m2-content" class="quiz-module-content"></div>
                </div>
                <div class="navigation-buttons">
                    <button class="btn-nav prev navigateToPlaybookSection" data-target="playbook-sec-1-content-main">
                        <i class="fas fa-arrow-left mr-2"></i> ANTERIOR
                    </button>
                    <button class="btn-nav next navigateToPlaybookSection" data-target="playbook-sec-3-content-main" disabled>
                        PRÓXIMO <i class="fas fa-arrow-right ml-2"></i>
                    </button>
                </div>
            </div>
        </section>

        <!-- MÓDULO 3: ARREMAQ -->
        <section id="playbook-sec-3-content-main" class="playbook-sub-section hidden" data-aos="fade-up">
            <div class="container mx-auto">
                <button class="btn-voltar-secao backToManualPitStopDetalhesBtn mb-8 text-sm">
                    <i class="fas fa-arrow-left mr-2"></i> VOLTAR AO GUIA ESTRATÉGICO
                </button>
                <h2 class="playbook-content-title text-center"><span class="rounded-emoji-icon">🚜</span><strong>ARREMAQ: A FORÇA BRUTA DOS GIGANTES DO AGRO E CONSTRUÇÃO!</strong></h2>
                <div class="text-content-container space-y-10 mt-8">
                    <p class="text-center text-gray-700 dark:text-gray-300">
                        Explore o poder da Arremaq®, nossa solução robusta para o mercado de máquinas pesadas, agrícolas e equipamentos industriais.
                    </p>
                    <ul class="list-disc list-inside text-gray-700 dark:text-gray-300 mt-6">
                        <li>Cadastre e acompanhe equipamentos agrícolas e de construção com facilidade.</li>
                        <li>Suporte especializado para avaliação técnica dos lotes.</li>
                        <li>Integração com transportadoras e serviços logísticos.</li>
                        <li>Negociações transparentes com compradores do setor.</li>
                    </ul>
                </div>
                <div class="quiz-container mt-8 hidden">
                    <h3 class="playbook-section-title text-center"><span class="rounded-emoji-icon">❓</span> TESTE SEU CONHECIMENTO!</h3>
                    <p class="text-center text-gray-700 dark:text-gray-300 mb-4">Responda às 5 perguntas abaixo para validar seu aprendizado e avançar para o próximo módulo.</p>
                    <div id="quiz-m3-content" class="quiz-module-content"></div>
                </div>
                <div class="navigation-buttons">
                    <button class="btn-nav prev navigateToPlaybookSection" data-target="playbook-sec-2-content-main">
                        <i class="fas fa-arrow-left mr-2"></i> ANTERIOR
                    </button>
                    <button class="btn-nav next navigateToPlaybookSection" data-target="playbook-sec-4-content-main" disabled>
                        PRÓXIMO <i class="fas fa-arrow-right ml-2"></i>
                    </button>
                </div>
            </div>
        </section>

        <!-- MÓDULO 4: MAPEANDO OS CAMPEÕES -->
        <section id="playbook-sec-4-content-main" class="playbook-sub-section hidden" data-aos="fade-up">
            <div class="container mx-auto">
                <button class="btn-voltar-secao backToManualPitStopDetalhesBtn mb-8 text-sm">
                    <i class="fas fa-arrow-left mr-2"></i> VOLTAR AO GUIA ESTRATÉGICO
                </button>
                <h2 class="playbook-content-title text-center"><span class="rounded-emoji-icon">🎯</span><strong>MAPEANDO OS CAMPEÕES: NOSSOS CLIENTES IDEAIS (ICPS & PERSONAS)!</strong></h2>
                <div class="text-content-container space-y-10 mt-8">
                    <p class="text-center text-gray-700 dark:text-gray-300">
                        Compreenda quem são nossos clientes ideais (ICPs) e as personas que representam os decisores e influenciadores em nosso mercado.
                    </p>
                    <ul class="list-disc list-inside text-gray-700 dark:text-gray-300 mt-6">
                        <li>ICPs: frotistas, concessionárias e grandes locadoras.</li>
                        <li>Persona "Gestor de Frota": focado em agilidade e redução de custos.</li>
                        <li>Persona "Diretor Financeiro": busca previsibilidade e segurança nas transações.</li>
                        <li>Persona "Operador de Máquinas": influencia na escolha de equipamentos adequados.</li>
                    </ul>
                </div>
                <div class="quiz-container mt-8 hidden">
                    <h3 class="playbook-section-title text-center"><span class="rounded-emoji-icon">❓</span> TESTE SEU CONHECIMENTO!</h3>
                    <p class="text-center text-gray-700 dark:text-gray-300 mb-4">Responda às 5 perguntas abaixo para validar seu aprendizado e avançar para o próximo módulo.</p>
                    <div id="quiz-m4-content" class="quiz-module-content"></div>
                </div>
                <div class="navigation-buttons">
                    <button class="btn-nav prev navigateToPlaybookSection" data-target="playbook-sec-3-content-main">
                        <i class="fas fa-arrow-left mr-2"></i> ANTERIOR
                    </button>
                    <button class="btn-nav next navigateToPlaybookSection" data-target="playbook-sec-5-content-main" disabled>
                        PRÓXIMO <i class="fas fa-arrow-right ml-2"></i>
                    </button>
                </div>
            </div>
        </section>

        <!-- MÓDULO 5: A JORNADA DO CLIENTE VENCEDOR -->
        <section id="playbook-sec-5-content-main" class="playbook-sub-section hidden" data-aos="fade-up">
            <div class="container mx-auto">
                <button class="btn-voltar-secao backToManualPitStopDetalhesBtn mb-8 text-sm">
                    <i class="fas fa-arrow-left mr-2"></i> VOLTAR AO GUIA ESTRATÉGICO
                </button>
                <h2 class="playbook-content-title text-center"><span class="rounded-emoji-icon">📊</span><strong>A JORNADA DO CLIENTE VENCEDOR <br> AUTO ARREMATE & ARREMAQ!</strong></h2>
                <div class="text-content-container space-y-10 mt-8">
                    <p class="text-center text-gray-700 dark:text-gray-300">
                        Visualize e compreenda a jornada completa de nossos clientes, desde a prospecção até a fidelização, com animações e fluxos detalhados.
                    </p>
                    <ol class="list-decimal list-inside text-gray-700 dark:text-gray-300 mt-6">
                        <li><strong>Prospecção:</strong> identificação de oportunidades e geração de leads.</li>
                        <li><strong>Qualificação:</strong> avaliação das necessidades e potencial de compra.</li>
                        <li><strong>Negociação:</strong> apresentação de propostas e superação de objeções.</li>
                        <li><strong>Fechamento:</strong> assinatura do contrato e logística de entrega.</li>
                        <li><strong>Pós-venda:</strong> acompanhamento e fidelização para futuras revendas.</li>
                    </ol>
                </div>
                <div class="quiz-container mt-8 hidden">
                    <h3 class="playbook-section-title text-center"><span class="rounded-emoji-icon">❓</span> TESTE SEU CONHECIMENTO!</h3>
                    <p class="text-center text-gray-700 dark:text-gray-300 mb-4">Responda às 5 perguntas abaixo para validar seu aprendizado e avançar para o próximo módulo.</p>
                    <div id="quiz-m5-content" class="quiz-module-content"></div>
                </div>
                <div class="navigation-buttons">
                    <button class="btn-nav prev navigateToPlaybookSection" data-target="playbook-sec-4-content-main">
                        <i class="fas fa-arrow-left mr-2"></i> ANTERIOR
                    </button>
                    <button class="btn-nav next navigateToPlaybookSection" data-target="playbook-sec-6-content-main" disabled>
                        PRÓXIMO <i class="fas fa-arrow-right ml-2"></i>
                    </button>
                </div>
            </div>
        </section>

        <!-- MÓDULO 6: ACELERAÇÃO TÁTICA TOTAL -->
        <section id="playbook-sec-6-content-main" class="playbook-sub-section hidden" data-aos="fade-up">
            <div class="container mx-auto">
                <button class="btn-voltar-secao backToManualPitStopDetalhesBtn mb-8 text-sm">
                    <i class="fas fa-arrow-left mr-2"></i> VOLTAR AO GUIA ESTRATÉGICO
                </button>
                <h2 class="playbook-content-title text-center"><span class="rounded-emoji-icon">🚀</span><strong>ACELERAÇÃO TÁTICA TOTAL</strong></h2>
                <div class="text-content-container space-y-10 mt-8">
                    <p class="text-center text-gray-700 dark:text-gray-300">
                        Este módulo aprofunda nas estratégias de qualificação, persuasão e cadências de prospecção, fornecendo um arsenal completo para sua atuação em vendas.
                    </p>
                    <ul class="list-disc list-inside text-gray-700 dark:text-gray-300 mt-6">
                        <li>Técnicas de rapport e abordagem consultiva.</li>
                        <li>Modelos de cadência multicanal (e-mail, telefone e WhatsApp).</li>
                        <li>Uso de scripts e gatilhos mentais para aumentar a conversão.</li>
                        <li>Análise de métricas para ajustar suas estratégias de forma contínua.</li>
                    </ul>
                </div>
                <div class="quiz-container mt-8 hidden">
                    <h3 class="playbook-section-title text-center"><span class="rounded-emoji-icon">❓</span> TESTE SEU CONHECIMENTO!</h3>
                    <p class="text-center text-gray-700 dark:text-gray-300 mb-4">Responda às 5 perguntas abaixo para validar seu aprendizado e avançar para o próximo módulo.</p>
                    <div id="quiz-m6-content" class="quiz-module-content"></div>
                </div>
                <div class="navigation-buttons">
                    <button class="btn-nav prev navigateToPlaybookSection" data-target="playbook-sec-5-content-main">
                        <i class="fas fa-arrow-left mr-2"></i> ANTERIOR
                    </button>
                    <button class="btn-nav next navigateToPlaybookSection" data-target="playbook-sec-7-content-main" disabled>
                        PRÓXIMO <i class="fas fa-arrow-right ml-2"></i>
                    </button>
                </div>
            </div>
        </section>

        <!-- MÓDULO 7: A ARTE DA COMUNICAÇÃO ESTRATÉGICA -->
        <section id="playbook-sec-7-content-main" class="playbook-sub-section hidden" data-aos="fade-up">
            <div class="container mx-auto">
                <button class="btn-voltar-secao backToManualPitStopDetalhesBtn mb-8 text-sm">
                    <i class="fas fa-arrow-left mr-2"></i> VOLTAR AO GUIA ESTRATÉGICO
                </button>
                <h2 class="playbook-content-title text-center"><span class="rounded-emoji-icon">✍️</span><strong>A ARTE DA COMUNICAÇÃO ESTRATÉGICA AUTO ARREMATE & ARREMAQ: MODELOS QUE CONVERTEM!</strong></h2>
                <div class="text-content-container playbook-text space-y-10 mt-8">
                    <p class="text-center text-gray-700 dark:text-gray-300">
                        Domine a comunicação persuasiva com modelos de mensagens que convertem e termos de impacto para sua interação com clientes.
                    </p>
                    <ul class="list-disc list-inside text-gray-700 dark:text-gray-300 mt-6">
                        <li>Modelos de e-mail para prospecção e follow-up.</li>
                        <li>Roteiros de ligação com argumentos de valor.</li>
                        <li>Templates de mensagens rápidas para WhatsApp.</li>
                        <li>Palavras de impacto que reforçam autoridade e confiança.</li>
                    </ul>
                </div>
                <div class="quiz-container mt-8 hidden">
                    <h3 class="playbook-section-title text-center"><span class="rounded-emoji-icon">❓</span> TESTE SEU CONHECIMENTO!</h3>
                    <p class="text-center text-gray-700 dark:text-gray-300 mb-4">Responda às 5 perguntas abaixo para validar seu aprendizado e avançar para o próximo módulo.</p>
                    <div id="quiz-m7-content" class="quiz-module-content"></div>
                </div>
                <div class="navigation-buttons">
                    <button class="btn-nav prev navigateToPlaybookSection" data-target="playbook-sec-6-content-main">
                        <i class="fas fa-arrow-left mr-2"></i> ANTERIOR
                    </button>
                    <button class="btn-nav next navigateToPlaybookSection" data-target="playbook-sec-8-content-main" disabled>
                        PRÓXIMO <i class="fas fa-arrow-right ml-2"></i>
                    </button>
                </div>
            </div>
        </section>

        <!-- MÓDULO 8: DICIONÁRIO DOS MESTRES -->
        <section id="playbook-sec-8-content-main" class="playbook-sub-section hidden" data-aos="fade-up">
            <div class="container mx-auto">
                <button class="btn-voltar-secao backToManualPitStopDetalhesBtn mb-8 text-sm">
                    <i class="fas fa-arrow-left mr-2"></i> VOLTAR AO GUIA ESTRATÉGICO
                </button>
                <h2 class="playbook-content-title text-center"><span class="rounded-emoji-icon">📖</span><strong>DICIONÁRIO DOS MESTRES DA PISTA: O GLOSSÁRIO AUTO ARREMATE & ARREMAQ!</strong></h2>
                <div class="text-content-container space-y-10 mt-8">
                    <p class="text-center text-gray-700 dark:text-gray-300">
                        Decifre os termos técnicos e jargões do mercado automotivo e de máquinas para dominar a linguagem do setor.
                    </p>
                    <ul class="list-disc list-inside text-gray-700 dark:text-gray-300 mt-6">
                        <li><strong>Repasse:</strong> venda rápida de veículos para lojistas ou revendedores.</li>
                        <li><strong>Laudo cautelar:</strong> inspeção que atesta a procedência do veículo.</li>
                        <li><strong>Pátio:</strong> local onde os veículos ficam armazenados até a venda.</li>
                        <li><strong>Lance mínimo:</strong> valor inicial para ofertar em um leilão ou negociação.</li>
                    </ul>
                </div>
                <div class="quiz-container mt-8 hidden">
                    <h3 class="playbook-section-title text-center"><span class="rounded-emoji-icon">❓</span> TESTE SEU CONHECIMENTO!</h3>
                    <p class="text-center text-gray-700 dark:text-gray-300 mb-4">Responda às 5 perguntas abaixo para validar seu aprendizado e avançar para o próximo módulo.</p>
                    <div id="quiz-m8-content" class="quiz-module-content"></div>
                </div>
                <div class="navigation-buttons">
                    <button class="btn-nav prev navigateToPlaybookSection" data-target="playbook-sec-7-content-main">
                        <i class="fas fa-arrow-left mr-2"></i> ANTERIOR
                    </button>
                    <button class="btn-nav next navigateToPlaybookSection" data-target="playbook-sec-9-content-main" disabled>
                        PRÓXIMO <i class="fas fa-arrow-right ml-2"></i>
                    </button>
                </div>
            </div>
        </section>

        <!-- MÓDULO 9: EVOLUÇÃO CONTÍNUA -->
        <section id="playbook-sec-9-content-main" class="playbook-sub-section hidden" data-aos="fade-up">
            <div class="container mx-auto">
                <button class="btn-voltar-secao backToManualPitStopDetalhesBtn mb-8 text-sm">
                    <i class="fas fa-arrow-left mr-2"></i> VOLTAR AO GUIA ESTRATÉGICO
                </button>
                <h2 class="playbook-content-title text-center">
                    <span class="rounded-emoji-icon">📈</span><strong>EVOLUÇÃO CONTÍNUA: NOSSO PLAYBOOK <span class="text-aa-green-darker">AUTO ARREMATE</span> & <span class="text-arremaq-orange-darker">ARREMAQ</span> EM CONSTANTE APERFEIÇOAMENTO!</strong>
                </h2>
                <div class="text-content-container space-y-10 mt-8">
                    <p class="text-center text-gray-700 dark:text-gray-300">
                        Este módulo aborda o compromisso da Auto Arremate® e Arremaq® com a melhoria contínua do playbook e a contribuição da equipe nesse processo.
                    </p>
                    <ul class="list-disc list-inside text-gray-700 dark:text-gray-300 mt-6">
                        <li>Feedback constante dos times comercial e operacional.</li>
                        <li>Atualizações mensais com base em métricas e sugestões.</li>
                        <li>Treinamentos recorrentes para apresentar novas práticas.</li>
                        <li>Canal aberto para envio de ideias e melhorias.</li>
                    </ul>
                </div>
                <div class="quiz-container mt-8 hidden">
                    <h3 class="playbook-section-title text-center"><span class="rounded-emoji-icon">❓</span> TESTE SEU CONHECIMENTO!</h3>
                    <p class="text-center text-gray-700 dark:text-gray-300 mb-4">Responda às 5 perguntas abaixo para validar seu aprendizado e avançar para o próximo módulo.</p>
                    <div id="quiz-m9-content" class="quiz-module-content"></div>
                </div>
                <div class="navigation-buttons">
                    <button class="btn-nav prev navigateToPlaybookSection" data-target="playbook-sec-8-content-main">
                        <i class="fas fa-arrow-left mr-2"></i> ANTERIOR
                    </button>
                    <button class="btn-nav next navigateToPlaybookSection" data-target="playbook-sec-10-content-main" disabled>
                        PRÓXIMO <i class="fas fa-arrow-right ml-2"></i>
                    </button>
                </div>
            </div>
        </section>

        <!-- MÓDULO 10: CENTRAL DE COMANDO (CONTATO) -->
        <section id="playbook-sec-10-content-main" class="playbook-sub-section hidden" data-aos="fade-up">
            <div class="container mx-auto">
                <button class="btn-voltar-secao backToManualPitStopDetalhesBtn mb-8 text-sm">
                    <i class="fas fa-arrow-left mr-2"></i> VOLTAR AO GUIA ESTRATÉGICO
                </button>
                <h2 class="playbook-content-title text-center">
                    <span class="rounded-emoji-icon">📞</span><strong>CENTRAL DE COMANDO (CONTATO E SUPORTE): SEU RÁDIO DIRETO COM A EQUIPE!</strong>
                </h2>
                <div class="text-content-container space-y-10 mt-8">
                    <p class="text-center text-gray-700 dark:text-gray-300">
                        Descubra todos os canais de contato e suporte da Auto Arremate® e Arremaq®, garantindo comunicação eficaz com as equipes de liderança e assistência.
                    </p>
                    <ul class="list-disc list-inside text-gray-700 dark:text-gray-300 mt-6">
                        <li>E-mail geral: <a href="mailto:contato@autoarremate.com.br" class="text-aa-green-darker underline">contato@autoarremate.com.br</a></li>
                        <li>Suporte via WhatsApp: <a href="https://wa.me/5511940366065" class="text-aa-green-darker underline">(11) 94036-6065</a></li>
                        <li>Telefone: (11) 4000-1234 - horário comercial.</li>
                        <li>Fale diretamente com seu gerente de contas para demandas específicas.</li>
                    </ul>
                </div>
                <div class="quiz-container mt-8 hidden">
                    <h3 class="playbook-section-title text-center"><span class="rounded-emoji-icon">❓</span> TESTE SEU CONHECIMENTO!</h3>
                    <p class="text-center text-gray-700 dark:text-gray-300 mb-4">Responda às 5 perguntas abaixo para validar seu aprendizado e avançar para o próximo módulo.</p>
                    <div id="quiz-m10-content" class="quiz-module-content"></div>
                </div>
                <div class="navigation-buttons">
                    <button class="btn-nav prev navigateToPlaybookSection" data-target="playbook-sec-9-content-main">
                        <i class="fas fa-arrow-left mr-2"></i> ANTERIOR
                    </button>
                    <button class="btn-nav next navigateToPlaybookSection" data-target="playbook-sec-arena-campeoes-main" disabled>
                        PRÓXIMO <i class="fas fa-arrow-right ml-2"></i>
                    </button>
                </div>
            </div>
        </section>

        <!-- ARENA DOS CAMPEÕES (HUB PARA JOGOS E QUIZ PRINCIPAL) -->
        <section id="playbook-sec-arena-campeoes-main" class="arena-campeoes-section hidden" data-aos="fade-up">
            <div class="container mx-auto">
                <button class="btn-voltar-secao backToMenuPrincipalBtn mb-8 text-sm">
                    <i class="fas fa-arrow-left mr-2"></i> VOLTAR AO MENU PRINCIPAL
                </button>
                <h2 class="arena-campeoes-title">
                    <span class="rounded-emoji-icon">🏆</span> ARENA DOS CAMPEÕES: DESAFIE-SE E ACELERE SEU CONHECIMENTO! <span class="rounded-emoji-icon">🏁</span>
                </h2>
                <p class="text-center text-lg italic text-gray-700 dark:text-gray-300 mb-10">
                    <span class="rounded-emoji-icon">🚀</span> Bem-vindo à sua área de treinamento de alta octanagem! Aqui, a teoria se encontra com a prática em desafios interativos que testarão suas habilidades e conhecimentos sobre o universo Auto Arremate® & Arremaq®. Prepare-se para mostrar que você é um verdadeiro mestre do repasse!
                </p>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <!-- Card para o Quiz: DESAFIO DOS CAMPEÕES -->
                    <div id="openDesafioDosCampeoesBtn" class="arena-game-card" data-aos="fade-right" data-aos-delay="100">
                        <span class="arena-game-card-icon rounded-emoji-icon">🏅</span>
                        <h3 class="arena-game-card-title">DESAFIO DOS CAMPEÕES</h3>
                        <p class="arena-game-card-description">
                            Teste sua sabedoria em nosso quiz gamificado sobre o playbook e o universo do repasse. Responda corretamente, acumule pontos e conquiste a vitória!
                        </p>
                        <span class="arena-game-card-button">
                            INICIAR QUIZ <i class="fas fa-arrow-right ml-2"></i>
                        </span>
                    </div>

                    <!-- Card para o Jogo: GRANDE PRÊMIO AUTO ARREMATE -->
                    <div id="openGrandePremioBtn" class="arena-game-card" data-aos="fade-left" data-aos-delay="200">
                        <span class="arena-game-card-icon rounded-emoji-icon">🏎️</span>
                        <h3 class="arena-game-card-title">GRANDE PRÊMIO AUTO ARREMATE</h3>
                        <p class="arena-game-card-description">
                            Acelere no jogo do repasse! Desvie de obstáculos (objeções), colete itens (vendas fechadas) e mostre que você é o piloto mais rápido na pista digital.
                        </p>
                        <span class="arena-game-card-button">
                            ACELERAR NO JOGO <i class="fas fa-arrow-right ml-2"></i>
                        </span>
                    </div>
                </div>
            </div>
        </section>

        <!-- MÓDULO 11: DESAFIO DOS CAMPEÕES (CONTEÚDO DO QUIZ PRINCIPAL) -->
        <section id="playbook-sec-11-content-main" class="quiz-section-container hidden" data-aos="fade-up">
            <div class="container mx-auto">
                <button class="btn-voltar-secao backToArenaCampeoesBtn mb-8 text-sm">
                    <i class="fas fa-arrow-left mr-2"></i> VOLTAR À ARENA
                </button>
                <!-- CONTEÚDO DO QUIZ DESAFIO DOS CAMPEÕES -->
                <div class="quiz-main-title-container">
                    <h2><span class="rounded-emoji-icon">🏆</span> DESAFIO DOS CAMPEÕES <span class="rounded-emoji-icon">🏁</span></h2>
                    <h3><span class="rounded-emoji-icon">💡</span>TESTE SEU CONHECIMENTO ESTRATÉGICO!</h3>
                    <p>Chegou a hora de provar que você domina o playbook. Responda às perguntas, acumule pontos e mostre que está pronto para acelerar rumo ao sucesso!</p>
                </div>
                <div id="quiz-game-area-main" class="quiz-screen-content max-w-2xl mx-auto">
                    <div class="quiz-header-info flex justify-between items-center mb-6">
                        <span id="quiz-question-counter" class="text-lg">Pergunta 1/5</span>
                        <div class="quiz-timer-container relative">
                            <svg class="quiz-timer-svg -rotate-90" width="80" height="80" viewBox="0 0 80 80">
                                <circle class="quiz-timer-track" cx="40" cy="40" r="36"></circle>
                                <circle class="quiz-timer-fill" cx="40" cy="40" r="36" style="stroke-dasharray: 226.19; stroke-dashoffset: 0;"></circle>
                            </svg>
                            <span id="quiz-timer-text" class="quiz-timer-text absolute text-2xl font-bold"></span>
                        </div>
                    </div>
                    <div class="quiz-question-display">
                        <h2 id="quiz-question-text" class="text-2xl font-bold text-center"></h2>
                    </div>
                    <div id="quiz-options-container" class="quiz-options-grid mt-8">
                        <!-- Opções de resposta serão injetadas aqui -->
                    </div>
                    <p id="quiz-feedback" class="quiz-feedback-message mt-6"></p>
                    <div class="flex justify-center gap-4 mt-8">
                        <button id="quiz-submit-btn" class="quiz-btn-primary w-full max-w-xs">Verificar Resposta</button>
                        <button id="quiz-next-btn" class="quiz-btn-secondary w-full max-w-xs hidden">Próxima Pergunta</button>
                        <button id="quiz-restart-btn" class="quiz-btn-danger w-full max-w-xs hidden">Reiniciar Quiz</button>
                    </div>
                </div>
                 <!-- Game Over / Resultado Final do Quiz -->
                <div id="quiz-gameover-screen" class="quiz-gameover-card hidden mt-10">
                    <div class="trophy-icon mb-4"><i class="fas fa-trophy"></i></div>
                    <h2 class="text-3xl font-bold text-center mb-2" id="quiz-gameover-title"></h2>
                    <p class="text-lg text-gray-700 dark:text-gray-300 mb-6" id="quiz-gameover-message"></p>
                    <div id="quiz-final-score-display" class="quiz-final-score text-xl font-semibold mb-6"></div>
                    <div id="quiz-leaderboard-section" class="quiz-leaderboard-final p-4 bg-gray-100 dark:bg-gray-700 rounded-lg shadow-md mt-4">
                        <h4 class="text-xl font-bold mb-4 text-center">Ranking</h4>
                        <ul id="quiz-leaderboard-list" class="list-none p-0">
                            <!-- Leaderboard items will be inserted here -->
                        </ul>
                    </div>
                    <button id="quiz-play-again-btn" class="quiz-btn-primary mt-8 w-full max-w-xs">Jogar Novamente</button>
                    <button id="quiz-back-to-arena-btn" class="quiz-btn-secondary mt-4 w-full max-w-xs">Voltar à Arena</button>
                </div>
            </div>
        </section>

        <!-- MÓDULO 13: GRANDE PRÊMIO AUTO ARREMATE (CONTEÚDO DO JOGO 3D) -->
        <section id="playbook-sec-13-game-content-main" class="race-game-section hidden" data-aos="fade-up">
            <div class="container mx-auto">
                <button class="btn-voltar-secao backToArenaCampeoesBtn mb-8 text-sm">
                    <i class="fas fa-arrow-left mr-2"></i> VOLTAR À ARENA
                </button>
                <!-- CONTEÚDO DO JOGO GRANDE PRÊMIO -->
                <h2 class="playbook-content-title text-center">
                    <span class="rounded-emoji-icon">🏎️</span><strong>GRANDE PRÊMIO AUTO ARREMATE: ACELERE NO JOGO DO REPASSE!</strong>
                </h2>
                <div class="text-content-container playbook-text space-y-10 mt-8">
                    <p class="text-center text-lg italic text-gray-700 dark:text-gray-300">
                        <span class="rounded-emoji-icon">🏁</span> Prepare-se para uma experiência de alta velocidade! Neste jogo interativo, você controlará um veículo, desviando de obstáculos (que representam objeções e desafios do mercado) e coletando power-ups (que simbolizam vendas fechadas e oportunidades). Mostre sua agilidade e estratégia para se tornar o campeão do repasse!
                    </p>

                    <div id="game-wrapper-grand-prix" class="bg-black p-2 md:p-4 rounded-xl shadow-2xl border-2 border-gray-700 text-center flex flex-col items-center justify-center relative overflow-hidden">
                        <h3 class="text-2xl md:text-3xl font-black text-center mb-4 uppercase text-white">
                            💨GRANDE PRÊMIO <span class="text-aa-green-darker">AUTO ARREMATE</span> & <span class="text-arremaq-orange-darker">ARREMAQ</span>
                        </h3>
                        <p class="text-center text-gray-400 mb-6 font-bold">ACELERE NO JOGO DO REPASSE!</p>

                        <div id="lobby-screen" class="w-full flex flex-col items-center">
                            <h3 class="text-2xl font-bold mb-4 text-white">Prepare a sua equipe! (Até 5 Jogadores)</h3>
                            <div id="player-selection" class="grid grid-cols-1 md:grid-cols-2 gap-4 w-full max-w-2xl mx-auto"></div>
                            <div class="flex space-x-4 mt-8">
                                <button id="startGameBtn" class="btn-iniciar quiz-btn-primary hover:bg-green-700 text-white font-bold py-3 px-8 rounded-lg text-xl uppercase tracking-wider pulse" disabled>
                                    INICIAR
                                </button>
                                <button id="leaderboardBtn" class="btn-iniciar quiz-btn-secondary hover:bg-blue-700 text-white font-bold py-3 px-8 rounded-lg text-xl uppercase tracking-wider">
                                    RECORDES
                                </button>
                            </div>
                        </div>

                        <div id="game-screen" class="hidden w-full h-[600px] relative">
                            <div id="game-canvas-container" class="absolute inset-0 z-0 rounded-lg overflow-hidden"></div>
                            <div id="game-ui" class="absolute top-0 left-0 w-full h-full p-2 md:p-4 flex flex-col justify-between z-10 pointer-events-none">
                                <div class="flex justify-between items-start text-white bg-black bg-opacity-60 px-4 py-2 rounded-lg">
                                    <div>
                                        <h3 class="text-lg md:text-2xl font-bold text-white">FASE <span id="fase-atual">1</span></h3>
                                        <p class="text-sm md:text-base text-gray-300">META: <span id="meta-pontos">0</span></p>
                                    </div>
                                    <div class="text-right">
                                        <h3 class="text-lg md:text-2xl font-bold text-white">PONTUAÇÃO TOTAL</h3>
                                        <p class="text-xl md:text-3xl font-black text-green-400"><span id="pontuacao-total">0</span></p>
                                    </div>
                                </div>
                                <div id="player-scores" class="flex justify-center gap-2 md:gap-4 w-full"></div>
                            </div>
                            <div id="game-overlay" class="hidden absolute inset-0 bg-black bg-opacity-75 flex-col items-center justify-center z-20 pointer-events-auto">
                                <div id="fase-completa-message" class="text-center hidden">
                                    <h2 class="text-4xl md:text-6xl font-extrabold text-green-400 text-shadow-lg">FASE COMPLETA!</h2>
                                    <button id="nextFaseBtn" class="mt-6 btn-iniciar quiz-btn-secondary">Próxima Fase</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

        <!-- MÓDULO 12: BOX DA IDENTIDADE AUTO ARREMATE -->
        <section id="playbook-sec-12-content-main" class="playbook-sub-section hidden" data-aos="fade-up">
            <div class="container mx-auto">
                <button class="btn-voltar-secao backToManualPitStopDetalhesBtn mb-8 text-sm">
                    <i class="fas fa-arrow-left mr-2"></i> VOLTAR AO GUIA ESTRATÉGICO
                </button>
                <!-- Conteúdo do MÓDULO 12 já inserido -->
                <h2 class="playbook-content-title text-center">
                    <span class="rounded-emoji-icon">🎨</span><strong>BOX DA IDENTIDADE AUTO ARREMATE: AS CORES E O DNA DA NOSSA ESCUDERIA VENCEDORA!</strong>
                </h2>
                <div class="text-content-container playbook-text space-y-10 mt-8">
                    <header class="text-center mb-10">
                        <h1 class="text-4xl md:text-5xl font-bold tracking-tight mb-4 text-gray-800 dark:text-gray-200">Manual de Marca Interativo</h1>
                        <p class="text-lg md:text-xl text-gray-600 dark:text-gray-400 max-w-3xl mx-auto">
                            Este é o guia definitivo para a construção de uma marca consistente, forte e coesa. Explore nossas diretrizes e utilize nossos ativos para comunicar a essência da Auto Arremate®.
                        </p>
                    </header>

                    <section id="logo" class="py-10 bg-white dark:bg-gray-800 rounded-xl shadow-lg mb-10">
                        <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
                            <h2 class="text-3xl font-bold text-center mb-8">
                                <span class="rounded-emoji-icon">🏛️</span> Nosso Logotipo
                            </h2>
                            <p class="text-lg text-center max-w-3xl mx-auto mb-12">
                                O logotipo é a assinatura principal da nossa marca. Ele representa nossa essência, valores e deve ser aplicado com o máximo cuidado e respeito para garantir reconhecimento imediato e consistência em todas as plataformas. Apresentamos aqui as versões aprovadas e as regras fundamentais de aplicação.
                            </p>

                            <h3 class="text-2xl font-bold mb-6 text-gray-800 dark:text-gray-200">Versões Principais</h3>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center mb-16">
                                <div class="p-8 border border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900 rounded-lg text-center shadow-md">
                                    <img src="https://www.autoarremate.com.br/wp-content/uploads/2022/09/logo-horizontal-padrao.svg" alt="Logotipo Horizontal da Auto Arremate" class="h-20 mx-auto filter brightness-100 dark:brightness-150">
                                    <p class="mt-4 font-semibold text-gray-700 dark:text-gray-300">Versão Horizontal</p>
                                    <p class="text-sm text-gray-600 dark:text-gray-400">Ideal para cabeçalhos, banners e espaços amplos que permitem a leitura clara da assinatura completa.</p>
                                </div>
                                <div class="p-8 border border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900 rounded-lg text-center shadow-md">
                                    <img src="https://www.autoarremate.com.br/wp-content/uploads/2022/09/logo-vertical.svg" alt="Logotipo Vertical da Auto Arremate" class="h-28 mx-auto filter brightness-100 dark:brightness-150">
                                    <p class="mt-4 font-semibold text-gray-700 dark:text-gray-300">Versão Vertical</p>
                                    <p class="text-sm text-gray-600 dark:text-gray-400">Recomendada para layouts verticais, avatares, ícones de aplicativos ou espaços onde a altura é mais predominante.</p>
                                </div>
                            </div>

                            <h3 class="text-2xl font-bold mb-6 text-gray-800 dark:text-gray-200">Usos Incorretos: O Que Evitar</h3>
                            <p class="text-lg text-center max-w-3xl mx-auto mb-12">
                                Para preservar a integridade e o reconhecimento da nossa marca, é crucial evitar as seguintes práticas. O uso incorreto pode diluir nossa identidade e causar confusão.
                            </p>
                            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
                                <div class="p-4 border border-red-300 bg-red-50 dark:bg-red-900/30 rounded-lg text-center shadow-sm">
                                    <img src="https://www.autoarremate.com.br/wp-content/uploads/2022/09/logo-horizontal-padrao.svg" alt="Logotipo Distorcido" class="h-20 mx-auto" style="transform: scaleX(1.5);">
                                    <p class="mt-4 font-semibold text-red-800 dark:text-red-300"><i class="fas fa-times-circle mr-2 rounded-emoji-icon"></i>Não distorça ou redimensione desproporcionalmente.</p>
                                </div>
                                <div class="p-4 border border-red-300 bg-red-50 dark:bg-red-900/30 rounded-lg text-center shadow-sm">
                                    <img src="https://www.autoarremate.com.br/wp-content/uploads/2022/09/logo-horizontal-padrao.svg" alt="Logotipo com cor errada" class="h-20 mx-auto" style="filter: hue-rotate(180deg);">
                                    <p class="mt-4 font-semibold text-red-800 dark:text-red-300"><i class="fas fa-times-circle mr-2 rounded-emoji-icon"></i>Não altere as cores oficiais da marca.</p>
                                </div>
                                <div class="p-4 border border-red-300 bg-red-50 dark:bg-red-900/30 rounded-lg text-center shadow-sm">
                                    <img src="https://www.autoarremate.com.br/wp-content/uploads/2022/09/logo-horizontal-padrao.svg" alt="Logotipo com sombra" class="h-20 mx-auto" style="filter: drop-shadow(4px 4px 2px rgba(0,0,0,0.3));">
                                    <p class="mt-4 font-semibold text-red-800 dark:text-red-300"><i class="fas fa-times-circle mr-2 rounded-emoji-icon"></i>Não adicione sombras, gradientes ou outros efeitos não aprovados.</p>
                                </div>
                                <div class="p-4 border border-red-300 bg-red-50 dark:bg-red-900/30 rounded-lg text-center bg-cover" style="background-image: url('https://placehold.co/400x200/cccccc/333333?text=Fundo+Polu%C3%ADdo')">
                                    <img src="https://www.autoarremate.com.br/wp-content/uploads/2022/09/logo-horizontal-padrao.svg" alt="Logotipo em fundo poluído" class="h-20 mx-auto mix-blend-screen filter brightness-100 dark:brightness-150">
                                    <p class="mt-4 font-semibold text-red-800 dark:text-red-300 bg-white/70 rounded px-2 py-1"><i class="fas fa-times-circle mr-2 rounded-emoji-icon"></i>Não utilize em fundos que comprometam a legibilidade ou contraste.</p>
                                </div>
                            </div>
                        </div>
                    </section>

                    <section id="cores" class="py-10 bg-gray-50 dark:bg-gray-900 rounded-xl shadow-lg mb-10">
                        <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
                            <h2 class="text-3xl font-bold text-center mb-8">
                                <span class="rounded-emoji-icon">🎨</span> Nossas Cores
                            </h2>
                            <p class="text-lg text-center max-w-3xl mx-auto mb-12">
                                A paleta de cores da Auto Arremate® é cuidadosamente selecionada para transmitir nossa personalidade: moderna, confiável, dinâmica e inovadora. Cada cor possui um propósito e deve ser utilizada para evocar a emoção e a percepção desejadas. Clique em uma cor para copiar o código HEX e aplicá-la com precisão.
                            </p>

                            <h3 class="text-2xl font-bold mb-6 text-gray-800 dark:text-gray-200">Paleta Principal</h3>
                            <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-8 mb-16">
                                <div class="color-swatch p-4 rounded-lg shadow-md border border-gray-200 dark:border-gray-700 text-center" onclick="copyToClipboard('#16B097', this)">
                                    <div class="w-full h-32 rounded-lg shadow-inner" style="background-color: #16B097;"></div>
                                    <h4 class="font-bold mt-4 text-lg text-gray-800 dark:text-gray-200">Verde Auto Arremate</h4>
                                    <p class="text-gray-600 dark:text-gray-400">#16B097</p>
                                    <p class="text-sm text-gray-500 dark:text-gray-500 mt-2">Cor primária. Transmite crescimento, inovação e confiança.</p>
                                </div>
                                <div class="color-swatch p-4 rounded-lg shadow-md border border-gray-200 dark:border-gray-700 text-center" onclick="copyToClipboard('#1C2E42', this)">
                                    <div class="w-full h-32 rounded-lg shadow-inner" style="background-color: #1C2E42;"></div>
                                    <h4 class="font-bold mt-4 text-lg text-gray-800 dark:text-gray-200">Azul Escuro Auto Arremate</h4>
                                    <p class="text-gray-600 dark:text-gray-400">#1C2E42</p>
                                    <p class="text-sm text-gray-500 dark:text-gray-500 mt-2">Cor secundária. Representa solidez, profissionalismo e profundidade.</p>
                                </div>
                                <div class="color-swatch p-4 rounded-lg shadow-md border border-gray-200 dark:border-gray-700 text-center" onclick="copyToClipboard('#AEB0B2', this)">
                                    <div class="w-full h-32 rounded-lg shadow-inner" style="background-color: #AEB0B2;"></div>
                                    <h4 class="font-bold mt-4 text-lg text-gray-800 dark:text-gray-200">Cinza Neutro</h4>
                                    <p class="text-sm text-gray-500 dark:text-gray-500 mt-2">Cor neutra. Usada para elementos de interface e balanceamento visual.</p>
                                </div>
                            </div>

                            <h3 class="text-2xl font-bold mb-6 text-gray-800 dark:text-gray-200">Paleta de Destaque (Vibrante)</h3>
                            <p class="text-lg text-center max-w-3xl mx-auto mb-8">
                                Essas cores devem ser utilizadas com moderação e estratégia para atrair a atenção a elementos específicos, como Call to Actions (CTAs), ícones interativos ou destaques em banners. <strong class="text-red-500">Importante: evite utilizar mais de uma cor vibrante na mesma peça gráfica para não sobrecarregar a comunicação.</strong>
                            </p>
                            <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-6">
                                <div class="color-swatch p-3 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 text-center" onclick="copyToClipboard('#39FF14', this)">
                                    <div class="w-full h-24 rounded-lg shadow-inner" style="background-color: #39FF14;"></div>
                                    <h4 class="font-bold mt-3 text-base text-gray-800 dark:text-gray-200">Verde Vívido</h4>
                                    <p class="text-gray-600 dark:text-gray-400 text-sm">#39FF14</p>
                                </div>
                                <div class="color-swatch p-3 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 text-center" onclick="copyToClipboard('#00FFFF', this)">
                                    <div class="w-full h-24 rounded-lg shadow-inner" style="background-color: #00FFFF;"></div>
                                    <h4 class="font-bold mt-3 text-base text-gray-800 dark:text-gray-200">Ciano Vibrante</h4>
                                    <p class="text-gray-600 dark:text-gray-400 text-sm">#00FFFF</p>
                                </div>
                                <div class="color-swatch p-3 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 text-center" onclick="copyToClipboard('#2890FF', this)">
                                    <div class="w-full h-24 rounded-lg shadow-inner" style="background-color: #2890FF;"></div>
                                    <h4 class="font-bold mt-3 text-base text-gray-800 dark:text-gray-200">Azul Elétrico</h4>
                                    <p class="text-gray-600 dark:text-gray-400 text-sm">#2890FF</p>
                                </div>
                                <div class="color-swatch p-3 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 text-center" onclick="copyToClipboard('#BF00FF', this)">
                                    <div class="w-full h-24 rounded-lg shadow-inner" style="background-color: #BF00FF;"></div>
                                    <h4 class="font-bold mt-3 text-base text-gray-800 dark:text-gray-200">Violeta Intenso</h4>
                                    <p class="text-gray-600 dark:text-gray-400 text-sm">#BF00FF</p>
                                </div>
                                <div class="color-swatch p-3 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 text-center" onclick="copyToClipboard('#FF00FF', this)">
                                    <div class="w-full h-24 rounded-lg shadow-inner" style="background-color: #FF00FF;"></div>
                                    <h4 class="font-bold mt-3 text-base text-gray-800 dark:text-gray-200">Magenta Puro</h4>
                                    <p class="text-gray-600 dark:text-gray-400 text-sm">#FF00FF</p>
                                </div>
                            </div>
                        </div>
                    </section>

                    <section id="tipografia" class="py-10 bg-white dark:bg-gray-800 rounded-xl shadow-lg mb-10">
                        <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
                            <h2 class="text-3xl font-bold text-center mb-8">
                                <span class="rounded-emoji-icon">✒️</span> Nossa Tipografia
                            </h2>
                            <p class="text-lg text-center max-w-3xl mx-auto mb-12">
                                A tipografia é a voz da nossa marca, fundamental para estabelecer o tone da comunicação e garantir a máxima legibilidade em todos os materiais. Utilizamos uma combinação de fontes que equilibra modernidade, impacto visual e clareza textual.
                            </p>

                            <div class="grid grid-cols-1 md:grid-cols-2 gap-12">
                                <div class="p-6 bg-gray-50 dark:bg-gray-900 rounded-lg shadow-md border border-gray-200 dark:border-gray-700">
                                    <h3 class="text-2xl font-bold mb-4 text-gray-800 dark:text-gray-200">IBM Plex Sans</h3>
                                    <p class="text-gray-600 dark:text-gray-400 mb-6">
                                        Utilizada principalmente para títulos, subtítulos e elementos de destaque que exigem forte impacto visual. Sua estrutura geométrica e peso variam para transmitir tecnologia, eficiência e solidez, ideal para capturar a atenção.
                                    </p>
                                    <div class="bg-gray-100 dark:bg-gray-700 p-6 rounded-md border border-gray-200 dark:border-gray-600">
                                        <p class="text-4xl font-bold text-gray-800 dark:text-gray-200" style="font-family: 'IBM Plex Sans', sans-serif;">CONFIANÇA E INOVAÇÃO</p>
                                        <p class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-4" style="font-family: 'IBM Plex Sans', sans-serif;">Acelere seus Resultados</p>
                                        <p class="mt-4 text-sm text-gray-600 dark:text-gray-400" style="font-family: 'IBM Plex Sans', sans-serif;">ABCDEFGHIJKLMNOPQRSTUVWXYZ<br>abcdefghijklmnopqrstuvwxyz<br>0123456789 !@#$%^&*()_+=</p>
                                    </div>
                                </div>
                                <div class="p-6 bg-gray-50 dark:bg-gray-900 rounded-lg shadow-md border border-gray-200 dark:border-gray-700">
                                    <h3 class="text-2xl font-bold mb-4 text-gray-800 dark:text-gray-200">Inter</h3>
                                    <p class="text-gray-600 dark:text-gray-400 mb-6">
                                        Adotada para textos corridos, parágrafos e todas as informações que demandam alta legibilidade e conforto de leitura. A Inter foi projetada para otimização em telas digitais, garantindo clareza em qualquer tamanho e resolução, vital para a comunicação eficaz.
                                    </p>
                                    <div class="bg-gray-100 dark:bg-gray-700 p-6 rounded-md border border-gray-200 dark:border-gray-600">
                                        <p class="text-base text-gray-800 dark:text-gray-200 mb-4" style="font-family: 'Inter', sans-serif;">
                                            A fonte Inter foi projetada com ênfase na legibilidade, tornando-a fácil de ler em diferentes tamanhos e resoluções. Ela possui proporções equilibradas e formas claras que facilitam a visualização de textos longos, garantindo uma experiência de leitura fluida para o usuário.
                                        </p>
                                        <p class="text-sm text-gray-700 dark:text-gray-300" style="font-family: 'Inter', sans-serif;">ABCDEFGHIJKLMNOPQRSTUVWXYZ<br>abcdefghijklmnopqrstuvwxyz<br>0123456789 !@#$%^&*()_+=</p>
                                    </div>
                                </div>
                            </div>
                        </section>

                        <section id="elementos" class="py-10 bg-white dark:bg-gray-800 rounded-xl shadow-lg mb-10">
                            <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
                                <h2 class="text-3xl font-bold text-center mb-8">
                                    <span class="rounded-emoji-icon">✨</span> Elementos Gráficos
                                </h2>
                                <p class="text-lg text-center max-w-3xl mx-auto mb-12">
                                    Para enriquecer nossa comunicação visual e manter a coesão da marca, utilizamos um conjunto padronizado de ícones e grafismos. Eles complementam o texto, guiam o olhar e adicionam dinamismo à experiência do usuário, sempre alinhados à nossa identidade visual.
                                </p>

                                <div class="grid grid-cols-1 md:grid-cols-2 gap-12 items-center">
                                    <div class="p-6 bg-gray-50 dark:bg-gray-900 rounded-lg shadow-md border border-gray-200 dark:border-gray-700">
                                        <h3 class="text-2xl font-bold mb-4 text-gray-800 dark:text-gray-200">Ícones Font Awesome</h3>
                                        <p class="text-gray-600 dark:text-gray-400 mb-6">
                                            Priorizamos o uso da biblioteca de ícones Font Awesome (preferencialmente estilos "Solid" ou "Regular") por sua versatilidade e reconhecimento universal. Eles são utilizados para ilustrar funcionalidades, tópicos, ações e categorias de forma clara e intuitiva em todos os nossos materiais digitais e impressos.
                                        </p>
                                        <div class="flex flex-wrap gap-6 text-3xl text-gray-700 dark:text-gray-300">
                                            <i class="fas fa-car rounded-emoji-icon" title="Ícone de Carro"></i>
                                            <i class="fas fa-gavel rounded-emoji-icon" title="Ícone de Leilão"></i>
                                            <i class="fas fa-chart-line rounded-emoji-icon" title="Ícone de Gráfico de Linha"></i>
                                            <i class="fas fa-handshake rounded-emoji-icon" title="Ícone de Acordo"></i>
                                            <i class="fas fa-headset rounded-emoji-icon" title="Ícone de Suporte"></i>
                                            <i class="fas fa-mobile-alt rounded-emoji-icon" title="Ícone de Celular"></i>
                                            <i class="fas fa-file-signature rounded-emoji-icon" title="Ícone de Documento Assinado"></i>
                                            <i class="fas fa-tags rounded-emoji-icon" title="Ícone de Tags"></i>
                                        </div>
                                    </div>
                                    <div class="p-6 bg-gray-50 dark:bg-gray-900 rounded-lg shadow-md border border-gray-200 dark:border-gray-700">
                                        <h3 class="text-2xl font-bold mb-4 text-gray-800 dark:text-gray-200">Contorno do Logotipo</h3>
                                        <p class="text-gray-600 dark:text-gray-400 mb-6">
                                            O contorno minimalista do nosso ícone principal é um elemento gráfico versátil. Pode ser utilizado para criar profundidade, dinamismo e uma sensação de movimento nos layouts, sem sobrecarregar a composição visual.
                                        </p>
                                        <div class="relative h-48 flex items-center justify-center">
                                            <div class="absolute top-0 left-10 w-48 h-32 bg-blue-800 dark:bg-blue-950 rounded-2xl transform -rotate-12 opacity-80 shadow-lg"></div>
                                            <div class="absolute top-8 left-20 w-48 h-32 border-4 border-green-500 rounded-2xl transform rotate-6 opacity-90 shadow-lg"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </section>

                        <section id="imagens" class="py-10 bg-white dark:bg-gray-800 rounded-xl shadow-lg mb-10">
                            <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
                                <h2 class="text-3xl font-bold text-center mb-8">
                                    <span class="rounded-emoji-icon">🖼️</span> Uso de Imagens
                                </h2>
                                <p class="text-lg text-center max-w-3xl mx-auto mb-12">
                                    As imagens são poderosas ferramentas narrativas que conectam nossa marca à realidade e aspirações dos nossos clientes. Adotamos dois estilos principais de imagem que devem ser utilizados de forma estratégica, de acordo com o contexto e o objetivo da comunicação.
                                </p>
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-12">
                                    <div class="p-8 bg-gray-50 dark:bg-gray-900 rounded-2xl shadow-md border border-gray-200 dark:border-gray-700">
                                        <h3 class="text-2xl font-bold mb-4 text-gray-800 dark:text-gray-200">Fotografias Reais</h3>
                                        <p class="text-gray-600 dark:text-gray-400 mb-4">
                                            Essenciais para gerar conexão, autenticidade e credibilidade. Devem retratar cenários realistas do mercado automotivo e de máquinas, pessoas em interações genuínas e ativos (veículos, equipamentos) de forma profissional.
                                        </p>
                                        <ul class="list-disc list-inside space-y-2 text-gray-700 dark:text-gray-300">
                                            <li><span class="rounded-emoji-icon">✅</span> Devem retratar o conteúdo abordado, focando em veículos, equipamentos, processos de negociação ou equipes em ação.</li>
                                            <li><span class="rounded-emoji-icon">❌</span> Evitar fotos excessivamente genéricas, posadas ou com baixa qualidade de produção.</li>
                                            <li><span class="rounded-emoji-icon">✨</span> Aplicar um filtro sutil que harmonize com nossa paleta de cores (tons de verde ou azul, sem saturar demais).</li>
                                            <li><span class="rounded-emoji-icon">💡</span> Garantir boa iluminação, contraste adequado e composição que valorize o tema central.</li>
                                        </ul>
                                        <p class="text-sm text-gray-500 dark:text-gray-500 mt-6 italic">Exemplo de aplicação: [Image of Veículos em pátio], [Image of Pessoas interagindo em negociação], [Image of Maquinário pesado em operação].</p>
                                    </div>
                                    <div class="p-8 bg-gray-50 dark:bg-gray-900 rounded-2xl shadow-md border border-gray-200 dark:border-gray-700">
                                        <h3 class="text-2xl font-bold mb-4 text-gray-800 dark:text-gray-200">Ilustrações 3D (Estilo Cartoon/Minimalista)</h3>
                                        <p class="text-gray-600 dark:text-gray-400 mb-4">
                                            Para comunicação institucional, didática ou campanhas com um toque mais leve e inovador, utilizamos ilustrações 3D com um estilo clean e amigável. Elas simplificam conceitos complexos e tornam a mensagem mais acessível e memorável.
                                        </p>
                                        <ul class="list-disc list-inside space-y-2 text-gray-700 dark:text-gray-300">
                                            <li><span class="rounded-emoji-icon">🎨</span> As cores das ilustrações devem seguir estritamente a paleta da marca para manter a consistência visual.</li>
                                            <li><span class="rounded-emoji-icon">👀</span> Manter um contraste claro entre os elementos da ilustração e o fundo.</li>
                                            <li><span class="rounded-emoji-icon">🎯</span> Garantir que os objetos 3D e personagens tenham relação direta e semântica com o conteúdo ou a funcionalidade apresentada.</li>
                                            <li><span class="rounded-emoji-icon">⚖️</span> Usar de forma pontual e equilibrada para não sobrecarregar a arte; a simplicidade é chave.</li>
                                        </ul>
                                        <p class="text-sm text-gray-500 dark:text-gray-500 mt-6 italic">Exemplo de aplicação: [Image of Personagens 3D interagindo com tecnologia], [Image of Ilustrações de elementos de negócios como gráficos e engrenagens].</p>
                                    </div>
                                </div>
                            </div>
                        </section>

                        <section id="aplicacoes" class="py-10 bg-gray-50 dark:bg-gray-900 rounded-xl shadow-lg mb-10">
                            <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
                                <h2 class="text-3xl font-bold text-center mb-8">
                                    <span class="rounded-emoji-icon">🚀</span> Aplicações da Marca
                                </h2>
                                <p class="text-lg text-center max-w-3xl mx-auto mb-12">
                                    A identidade visual da Auto Arremate® ganha vida em diversas aplicações, desde materiais de marketing digital até interfaces de produtos. A consistência em todas essas interações reforça nossa presença no mercado e constrói uma percepção de marca forte e unificada.
                                </p>
                                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8">
                                    <div class="bg-white dark:bg-gray-800 rounded-lg overflow-hidden shadow-lg transform hover:-translate-y-1 transition-transform duration-300 border border-gray-200 dark:border-gray-700">
                                        <p class="text-sm text-gray-500 dark:text-gray-500 px-6 py-2">Exemplo: Post institucional para redes sociais</p>
                                        <div class="p-6">
                                            <h3 class="font-bold text-lg text-gray-800 dark:text-gray-200">Post Institucional (Redes Sociais)</h3>
                                            <p class="text-gray-600 dark:text-gray-400 mt-2">
                                                Comunicação de valor e propósito, utilizando uma composição visual limpa e impactante para reforçar a mensagem-chave da marca. Ex: [Image of Exemplo de post institucional].
                                            </p>
                                        </div>
                                    </div>
                                    <div class="bg-white dark:bg-gray-800 rounded-lg overflow-hidden shadow-lg transform hover:-translate-y-1 transition-transform duration-300 border border-gray-200 dark:border-gray-700">
                                        <p class="text-sm text-gray-500 dark:text-gray-500 px-6 py-2">Exemplo: Material gráfico para podcast</p>
                                        <div class="p-6">
                                            <h3 class="font-bold text-lg text-gray-800 dark:text-gray-200">Material de Conteúdo (Podcast/Webinar)</h3>
                                            <p class="text-gray-600 dark:text-gray-400 mt-2">
                                                A identidade visual aplicada em materiais para nossos conteúdos em áudio e vídeo, garantindo reconhecimento e profissionalismo em todas as plataformas. Ex: [Image of Exemplo de arte para podcast].
                                            </p>
                                        </div>
                                    </div>
                                    <div class="bg-white dark:bg-gray-800 rounded-lg overflow-hidden shadow-lg transform hover:-translate-y-1 transition-transform duration-300 border border-gray-200 dark:border-gray-700">
                                        <p class="text-sm text-gray-500 dark:text-gray-500 px-6 py-2">Exemplo: Interface de Cotação Rápida no marketplace</p>
                                        <div class="p-6">
                                            <h3 class="font-bold text-lg text-gray-800 dark:text-gray-200">Interface de Produto (Marketplace/App)</h3>
                                            <p class="text-gray-600 dark:text-gray-400 mt-2">
                                                A aplicação da marca em elementos de interface de usuário para o aplicativo e a plataforma web, combinando ilustrações 3D com informações claras para otimizar a experiência do usuário. Ex: [Image of Exemplo de tela de aplicativo].
                                            </p>
                                        </div>
                                    </div>
                                    <div class="bg-white dark:bg-gray-800 rounded-lg overflow-hidden shadow-lg transform hover:-translate-y-1 transition-transform duration-300 border border-gray-200 dark:border-gray-700">
                                        <p class="text-sm text-gray-500 dark:text-gray-500 px-6 py-2">Exemplo: Anúncio de oferta de veículo</p>
                                        <div class="p-6">
                                            <h3 class="font-bold text-lg text-gray-800 dark:text-gray-200">Anúncio de Oferta (Digital)</h3>
                                            <p class="text-gray-600 dark:text-gray-400 mt-2">
                                                Modelos de anúncios de veículos que destacam informações cruciais, utilizando um design limpo e focado na conversão para atrair a atenção do comprador. Ex: [Image of Exemplo de anúncio de carro].
                                            </p>
                                        </div>
                                    </div>
                                    <div class="bg-white dark:bg-gray-800 rounded-lg overflow-hidden shadow-lg transform hover:-translate-y-1 transition-transform duration-300 border border-gray-200 dark:border-gray-700">
                                        <p class="text-sm text-gray-500 dark:text-gray-500 px-6 py-2">Exemplo: Post com ilustração 3D</p>
                                        <div class="p-6">
                                            <h3 class="font-bold text-lg text-gray-800 dark:text-gray-200">Comunicação Didática (Ilustração)</h3>
                                            <p class="text-gray-600 dark:text-gray-400 mt-2">
                                                Uso estratégico de personagens e elementos 3D em posts e materiais para abordar temas complexos ou didáticos de forma mais envolvente e acessível, facilitando o entendimento. Ex: [Image of Exemplo de ilustração didática].
                                            </p>
                                        </div>
                                    </div>
                                    <div class="bg-white dark:bg-gray-800 rounded-lg overflow-hidden shadow-lg transform hover:-translate-y-1 transition-transform duration-300 border border-gray-200 dark:border-gray-700">
                                        <p class="text-sm text-gray-500 dark:text-gray-500 px-6 py-2">Exemplo: Composição de feed de Instagram</p>
                                        <div class="p-6">
                                            <h3 class="font-bold text-lg text-gray-800 dark:text-gray-200">Composição de Feed (Redes Sociais)</h3>
                                            <p class="text-gray-600 dark:text-gray-400 mt-2">
                                                A demonstração da harmonia visual que deve ser mantida no feed do Instagram e outras redes sociais, ilustrando a consistência entre diferentes tipos de posts e formatos de conteúdo. Ex: [Image of Exemplo de feed de rede social].
                                            </p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </section>
                    </div>
                </div>
            </section>

            <section id="playbook-sec-14-content-main" class="playbook-sub-section hidden" data-aos="fade-up">
                <div class="container mx-auto">
                    <button class="btn-voltar-secao backToMenuPrincipalBtn mb-8 text-sm">
                        <i class="fas fa-arrow-left mr-2"></i> VOLTAR AO MENU PRINCIPAL
                    </button>
                    <h2 class="playbook-content-title text-center">
                        <span class="rounded-emoji-icon">⛽</span><strong>ACADEMIA DE REPASSADORES 3.0: TURBINE SEU TALENTO PARA A VITÓRIA!</strong>
                    </h2>
                    <div class="text-content-container playbook-text space-y-10 mt-8">
                        <p class="text-center text-lg italic text-gray-700 dark:text-gray-300">
                            <span class="rounded-emoji-icon">📚</span> Bem-vindo à Academia de Repassadores 3.0, seu centro de excelência para aprimorar habilidades e dominar as mais recentes ferramentas e estratégias do mercado. Nossa missão é transformar sua expertise em resultados concretos, através de treinamentos e recursos de ponta.
                        </p>

                        <section id="intro-academia" data-aos="fade-up">
                            <h3 class="playbook-section-title !text-center" style="text-transform: uppercase;">
                                <span class="rounded-emoji-icon">🚀</span> SUA PISTA DE APRENDIZADO DE ALTA PERFORMANCE
                            </h3>
                            <p class="mb-4">A Academia de Repassadores 3.0 é um ambiente dinâmico, desenhado para impulsionar seu desenvolvimento profissional contínuo. Entendemos que o mercado de repasse de veículos e máquinas está em constante evolução, e para se manter na liderança, é preciso estar sempre à frente. Aqui, você encontrará:</p>
                            <ul class="playbook-list grid md:grid-cols-2 gap-4">
                                <li data-emoji="📈" class="icp-list-item"><span class="rounded-emoji-icon">🧠</span> Módulos de conhecimento aprofundado sobre produtos, mercado e estratégias de vendas.</li>
                                <li data-emoji="🛠️" class="icp-list-item"><span class="rounded-emoji-icon">💡</span> Ferramentas interativas e simuladores para praticar e aprimorar suas habilidades em um ambiente seguro.</li>
                                <li data-emoji="🤝" class="icp-list-item"><span class="rounded-emoji-icon">📚</span> Acesso a uma vasta biblioteca de materiais de apoio, como artigos, e-books e webinars exclusivos.</li>
                                <li data-emoji="🏅" class="icp-list-item"><span class="rounded-emoji-icon">🏆</span> Desafios e quizzes para testar seus conhecimentos e acompanhar seu progresso de forma gamificada.</li>
                            </ul>
                        </section>

                        <hr class="my-10 border-t-2 border-gray-200 dark:border-gray-700">

                        <section id="ferramentas-ia" data-aos="fade-up">
                            <h3 class="playbook-section-title !text-center" style="text-transform: uppercase;">
                                <span class="rounded-emoji-icon">🤖</span> INTELIGÊNCIA ARTIFICIAL AO SEU DISPOR: FERRAMENTAS PARA MULTIPLICAR SEU POTENCIAL!
                            </h3>
                            <p class="mb-4">Nossa Academia integra o poder da Inteligência Artificial para oferecer a você um arsenal de ferramentas que otimizam cada aspecto da sua rotina de vendas e prospecção. Prepare-se para operar com mais precisão, agilidade e inteligência, liberando seu tempo para o que realmente importa: fechar mais negócios.</p>

                            <div id="training-center-index-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8 md:gap-10 lg:gap-12">
                                <p class="text-center text-gray-500 col-span-full">
                                    Conteúdo das ferramentas de IA será carregado dinamicamente.
                                </p>
                            </div>
                            <div id="service-tools-pages-container" class="hidden">
                                </div>
                            <div id="ai-tool-interaction-section" class="hidden">
                                </div>
                        </section>

                        <hr class="my-10 border-t-2 border-gray-200 dark:border-gray-700">

                        <section id="roadmap-desenvolvimento" data-aos="fade-up">
                            <h3 class="playbook-section-title !text-center" style="text-transform: uppercase;">
                                <span class="rounded-emoji-icon">🗺️</span> ROTEIRO DE DESENVOLVIMENTO: O FUTURO DA ACADEMIA
                            </h3>
                            <p class="mb-4">Estamos em constante aprimoramento, com um roteiro claro para trazer ainda mais valor para o seu desenvolvimento. As próximas etapas incluem:</p>
                            <ul class="playbook-list grid md:grid-cols-2 gap-4">
                                <li data-emoji="📈" class="icp-list-item"><span class="rounded-emoji-icon">📚</span> Novos cursos e certificações em áreas estratégicas do mercado de repasse.</li>
                                <li data-emoji="🤝" class="icp-list-item"><span class="rounded-emoji-icon">🔗</span> Integração com plataformas de aprendizado externas para ampliar o leque de conhecimentos.</li>
                                <li data-emoji="💡" class="icp-list-item"><span class="rounded-emoji-icon">✨</span> Desenvolvimento de novos simuladores de negociação baseados em IA, para prática realística.</li>
                                <li data-emoji="🌐" class="icp-list-item"><span class="rounded-emoji-icon">🏆</span> Criação de ranking e reconhecimento para os repassadores de maior desempenho na Academia.</li>
                            </ul>
                        </section>

                        <div class="highlight bg-green-50 dark:bg-green-900/60 border-l-8 border-green-500 dark:border-green-400 rounded-r-xl p-8 shadow-2xl text-left md:text-justify leading-relaxed mt-10" data-aos="fade-up">
                            <p class="text-lg md:text-xl text-green-900 dark:text-green-100">
                                <strong class="block text-2xl md:text-3xl mb-4 font-bold text-center tracking-wider"><span class="rounded-emoji-icon">🏅</span> ACELERE SEU POTENCIAL!</strong>
                                <span class="rounded-emoji-icon">💪</span> A Academia de Repassadores 3.0 é o seu passaporte para a excelência. Invista no seu conhecimento, utilize as ferramentas de ponta e transforme cada desafio em uma nova vitória. Estamos juntos nessa jornada de aprimoramento contínuo!
                            </p>
                        </div>
                    </div>
                    <div class="navigation-buttons">
                        <button class="btn-nav prev navigateToPlaybookSection" data-target="playbook-sec-10-content-main">
                            <i class="fas fa-arrow-left mr-2"></i> CENTRAL DE COMANDO (CONTATO)
                        </button>
                        <button class="btn-nav next navigateToPlaybookSection" data-target="playbook-sec-12-content-main">
                            BOX DA IDENTIDADE <i class="fas fa-arrow-right ml-2"></i>
                        </button>
                    </div>
                </div>
            </section>
    </main>

    <!-- FOOTER PADRÃO -->
    <script>
    // =====================================================================
// Funções Utilitárias Globais
// =====================================================================

// Instância única do sintetizador Tone.js
let synth = null;
let audioContextStarted = false;

/**
 * Inicializa o contexto de áudio do Tone.js e o sintetizador.
 * Deve ser chamado após a primeira interação do usuário para compatibilidade com navegadores.
 */
async function initializeAudio() {
    if (!audioContextStarted) {
        try {
            // Certifique-se de que Tone.js está disponível globalmente via CDN
            if (typeof Tone === 'undefined') {
                console.error("Tone.js não está carregado. Verifique a importação via CDN.");
                return;
            }
            await Tone.start();
            synth = new Tone.Synth({
                oscillator: { type: "sine" },
                envelope: {
                    attack: 0.01,
                    decay: 0.1,
                    sustain: 0.05,
                    release: 0.5
                }
            }).toDestination();
            audioContextStarted = true;
            console.log("Tone.js audio context started and synth initialized.");
        } catch (error) {
            console.error("Falha ao iniciar o contexto de áudio do Tone.js:", error);
        }
    }
}

/**
 * Reproduz um efeito sonoro específico.
 * Garante que o contexto de áudio seja iniciado.
 * @param {string} type O tipo de som a ser reproduzido ('click', 'success', 'error', 'transition', etc.).
 */
async function playSound(type) {
    if (!audioContextStarted) {
        await initializeAudio();
        if (!audioContextStarted) {
            console.warn("Contexto de áudio não iniciado, não é possível reproduzir o som.");
            return;
        }
    }

    if (synth) {
        switch (type) {
            case 'click':
                synth.triggerAttackRelease("C5", "64n");
                break;
            case 'success':
                synth.triggerAttackRelease("G4", "8n");
                break;
            case 'error':
                synth.triggerAttackRelease("C#3", "8n");
                break;
            case 'transition':
                synth.triggerAttackRelease("E4", "16n");
                break;
            case 'hover':
                synth.triggerAttackRelease("C4", "128n");
                break;
            case 'vibration-soft':
                synth.triggerAttackRelease("C2", "64n");
                break;
            case 'vibration-medium':
                synth.triggerAttackRelease("C1", "32n");
                break;
            default:
                synth.triggerAttackRelease("C4", "32n");
        }
    }
}

/**
 * Manipula dados no localStorage.
 * @param {string} key A chave do item no localStorage.
 * @param {any} value O valor a ser salvo (se houver). Se for null, o item é removido.
 * @returns {any|null} O valor lido, ou null se não encontrado ou erro.
 */
function localStorageManager(key, value = undefined) {
    try {
        if (value === undefined) {
            const item = localStorage.getItem(key);
            return item ? JSON.parse(item) : null;
        } else if (value === null) {
            localStorage.removeItem(key);
            console.log(`Item '${key}' removido do localStorage.`);
            return null;
        } else {
            localStorage.setItem(key, JSON.stringify(value));
            console.log(`Item '${key}' salvo no localStorage.`);
            return value;
        }
    } catch (e) {
        console.error(`Erro ao acessar localStorage para a chave '${key}':`, e);
        return null;
    }
}

/**
 * Obtém um emoji único de um pool, reciclando se necessário.
 * Garante que emojis não se repitam imediatamente.
 * @param {Array<string>} emojiPool O array de emojis disponíveis.
 * @param {Array<string>} usedEmojis O array de emojis usados recentemente (para evitar repetição).
 * @returns {string} Um emoji único.
 */
function getUniqueEmoji(emojiPool, usedEmojis) {
    if (!emojiPool || emojiPool.length === 0) return '✨'; // Fallback

    if (emojiPool.length === usedEmojis.length) {
        usedEmojis.length = 0; // Resetar se todos os emojis foram usados
    }

    let emoji;
    do {
        emoji = emojiPool[Math.floor(Math.random() * emojiPool.length)];
    } while (usedEmojis.includes(emoji));

    usedEmojis.push(emoji);
    if (usedEmojis.length > emojiPool.length / 2 && emojiPool.length > 5) {
        usedEmojis.shift(); // Remove o mais antigo
    }
    return emoji;
}

// Função para copiar texto para a área de transferência
function copyToClipboard(text, element = null) {
    // Prefere navigator.clipboard, mas usa document.execCommand para fallback em iframes
    if (navigator.clipboard && navigator.clipboard.writeText) {
        navigator.clipboard.writeText(text).then(() => {
            showCopyNotification(element);
        }).catch(err => {
            console.error('Falha ao copiar (navigator.clipboard):', err);
            fallbackCopyToClipboard(text, element);
        });
    } else {
        fallbackCopyToClipboard(text, element);
    }
}

function fallbackCopyToClipboard(text, element) {
    const textArea = document.createElement("textarea");
    textArea.value = text;
    textArea.style.position = "fixed"; // Evita que o teclado virtual apareça no mobile
    textArea.style.left = "-9999px"; // Move para fora da tela
    document.body.appendChild(textArea);
    textArea.focus();
    textArea.select();
    try {
        document.execCommand('copy');
        showCopyNotification(element);
    } catch (err) {
        console.error('Falha ao copiar (execCommand):', err);
        // Não usar alert(), mas sim uma modal ou elemento customizado.
        // Por simplicidade aqui, um console.warn.
        console.warn('Falha ao copiar texto. Use Ctrl+C para copiar.');
    }
    document.body.removeChild(textArea);
}

function showCopyNotification(element) {
    if (!element) return; // Se nenhum elemento foi clicado, apenas copia silenciosamente.

    let notification = element.querySelector('.copy-notification');
    if (!notification) {
        notification = document.createElement('span');
        notification.classList.add('copy-notification', 'absolute', 'bg-gray-800', 'text-white', 'text-xs', 'px-2', 'py-1', 'rounded-md', 'opacity-0', 'transition-opacity', 'duration-300', 'whitespace-nowrap', 'pointer-events-none');
        element.style.position = 'relative'; // Garante posicionamento relativo
        element.appendChild(notification);
    }
    notification.textContent = 'Copiado!';
    notification.style.bottom = '100%';
    notification.style.left = '50%';
    notification.style.transform = 'translateX(-50%)';
    notification.style.opacity = '1';
    playSound('success'); // Toca som de sucesso

    setTimeout(() => {
        notification.style.opacity = '0';
    }, 1500);
}


// =====================================================================
// Variáveis e Referências do DOM
// =====================================================================

const htmlElement = document.documentElement;

// Seções principais do portal
const sectionIds = [
    'capa-section',
    'menu-principal-section',
    'manual-pitstop-detalhes-section',
    'playbook-sec-1-content-main', // MÓDULO 1
    'playbook-sec-2-content-main', // MÓDULO 2
    'playbook-sec-3-content-main', // MÓDULO 3
    'playbook-sec-4-content-main', // MÓDULO 4
    'playbook-sec-5-content-main', // MÓDULO 5
    'playbook-sec-6-content-main', // MÓDULO 6
    'playbook-sec-7-content-main', // MÓDULO 7
    'playbook-sec-8-content-main', // MÓDULO 8
    'playbook-sec-9-content-main', // MÓDULO 9
    'playbook-sec-10-content-main', // MÓDULO 10
    'playbook-sec-arena-campeoes-main', // ARENA DOS CAMPEÕES
    'playbook-sec-11-content-main', // MÓDULO 11 (DESAFIO DOS CAMPEÕES - Quiz Principal)
    'playbook-sec-12-content-main', // MÓDULO 12 (BOX DA IDENTIDADE)
    'playbook-sec-14-content-main', // MÓDULO 14 (ACADEMIA DE REPASSADORES 3.0)
];

// Elementos gerais
const progressBarContainer = document.getElementById('progress-bar-container');
const progressBarFill = document.getElementById('progress-bar-fill');
const progressBarText = document.getElementById('progress-bar-text');

// Capa
const btnIniciarCapa = document.getElementById('btnIniciarCapa');

// Modal de Acesso Inicial removido

// Modal de Certificado removido

// Menu Principal
const openManualPitStopBtn = document.getElementById('openManualPitStopBtn');
const openArenaCampeoesBtn = document.getElementById('openArenaCampeoesBtn');
const openBoxIdentidadeBtn = document.getElementById('openBoxIdentidadeBtn');
const openAcademiaRepassadoresBtn = document.getElementById('openAcademiaRepassadoresBtn');
const backToCoverBtnMenu = document.getElementById('backToCoverBtnMenu');

// Módulos e Botões de Navegação (gerais)
const playbookIndexContainer = document.getElementById('playbookIndexContainer');
const backToMenuPrincipalBtns = document.querySelectorAll('.backToMenuPrincipalBtn');
const backToManualPitStopDetalhesBtns = document.querySelectorAll('.backToManualPitStopDetalhesBtn');
const backToArenaCampeoesBtns = document.querySelectorAll('.backToArenaCampeoesBtn');

// Quiz Principal (Módulo 11)
const quizQuestionCounter = document.getElementById('quiz-question-counter');
const quizTimerText = document.getElementById('quiz-timer-text');
const quizTimerFill = document.querySelector('.quiz-timer-fill');
const quizQuestionText = document.getElementById('quiz-question-text');
const quizOptionsContainer = document.getElementById('quiz-options-container');
const quizSubmitBtn = document.getElementById('quiz-submit-btn');
const quizFeedback = document.getElementById('quiz-feedback');
const quizNextBtn = document.getElementById('quiz-next-btn');
const quizRestartBtn = document.getElementById('quiz-restart-btn');
const quizGameoverScreen = document.getElementById('quiz-gameover-screen');
const quizGameoverTitle = document.getElementById('quiz-gameover-title');
const quizGameoverMessage = document.getElementById('quiz-gameover-message');
const quizFinalScoreDisplay = document.getElementById('quiz-final-score-display');
const quizLeaderboardList = document.getElementById('quiz-leaderboard-list');
const quizPlayAgainBtn = document.getElementById('quiz-play-again-btn');
const quizBackToArenaBtn = document.getElementById('quiz-back-to-arena-btn');

// Acessibilidade e Tema
const FONT_STEP_PERCENT = 10;
const MIN_HTML_FONT_PERCENT = 60;
const MAX_HTML_FONT_PERCENT = 140;
const increaseFontBtn = document.getElementById('increaseFontBtn');
const decreaseFontBtn = document.getElementById('decreaseFontBtn');
const readPageBtn = document.getElementById('readPageBtn');
const themeToggleBtn = document.getElementById('themeToggleBtn');

// =====================================================================
// Variáveis de Estado da Aplicação
// =====================================================================

// Dados do Usuário
let currentUser = localStorageManager('currentUser') || null;

// Progresso e Quizzes
// userProgress.modules armazena o status de conclusão e pontuação para módulos com quiz obrigatório.
// module1 a module10 são os quizzes individuais dos módulos de conteúdo.
// module11 é o Quiz Principal (Desafio dos Campeões).
let userProgress = localStorageManager('userProgress') || {
    modules: {
        module1: { completed: false, score: 0 },
        module2: { completed: false, score: 0 },
        module3: { completed: false, score: 0 },
        module4: { completed: false, score: 0 },
        module5: { completed: false, score: 0 },
        module6: { completed: false, score: 0 },
        module7: { completed: false, score: 0 },
        module8: { completed: false, score: 0 },
        module9: { completed: false, score: 0 },
        module10: { completed: false, score: 0 },
        module11: { completed: false, score: 0 } // Quiz Principal
    },
    // Estes módulos não têm quiz obrigatório para conclusão da trilha,
    // mas podem ser marcados como "vistos" (completed: true) ao serem visitados.
    module12: { completed: false }, // Box da Identidade
    module14: { completed: false }, // Academia de Repassadores 3.0
    leaderboard: [] // Array para placar de líderes do Quiz Principal
};

// Ordem dos módulos para a barra de progresso e navegação sequencial
// IMPORTANTE: Se a ordem dos módulos ou a quantidade mudar, esta lista deve ser atualizada.
const MODULE_ORDER = [
    'playbook-sec-1-content-main',
    'playbook-sec-2-content-main',
    'playbook-sec-3-content-main',
    'playbook-sec-4-content-main',
    'playbook-sec-5-content-main',
    'playbook-sec-6-content-main',
    'playbook-sec-7-content-main',
    'playbook-sec-8-content-main',
    'playbook-sec-9-content-main',
    'playbook-sec-10-content-main',
    // 'playbook-sec-12-content-main', // Módulo 12 não tem quiz obrigatório para progressão sequencial na trilha de módulos 1-10
    // 'playbook-sec-14-content-main', // Módulo 14 não tem quiz obrigatório para progressão sequencial na trilha de módulos 1-10
    'playbook-sec-11-content-main' // Quiz Principal é o último "módulo" a ser concluído para o certificado
];

let currentQuizData = null; // Armazena os dados do quiz atual
let currentQuizQuestionIndex = 0;
let currentQuizScore = 0;
let quizTimerInterval;
let quizTimeLeft;
const QUIZ_QUESTION_TIME = 15; // Segundos por pergunta

// =====================================================================
// Funções de Gerenciamento de Seções e Navegação (Item 16)
// =====================================================================

/**
 * Oculta todas as seções e exibe a seção alvo.
 * @param {string} sectionId O ID da seção a ser exibida.
 * @param {object} [params={}] Parâmetros opcionais para passar para a seção (ex: para carregar um quiz específico).
 */
function showSection(sectionId, params = {}) {
    playSound('transition'); // Feedback sonoro de transição

    sectionIds.forEach(id => {
        const section = document.getElementById(id);
        if (section) {
            section.classList.add('hidden');
        }
    });

    const targetSection = document.getElementById(sectionId);
    if (targetSection) {
        targetSection.classList.remove('hidden');
        window.scrollTo({ top: 0, behavior: 'smooth' }); // Rolagem suave para o topo

        // Inicializa AOS se disponível
        if (window.AOS) {
            window.AOS.refreshHard();
        }
        console.log(`Navegando para a seção: ${sectionId}`, params);

        // Lógicas específicas ao exibir certas seções
        if (sectionId === 'menu-principal-section') {
            populatePlaybookIndex(); // Repopula o índice para mostrar progresso atualizado
        } else if (sectionId === 'playbook-sec-11-content-main') {
            // Se for o quiz principal, inicializa o quiz
            initializeQuiz(MOCK_QUIZ_QUESTIONS_MODULE_11);
        } else if (sectionId.startsWith('playbook-sec-') && sectionId.endsWith('-content-main')) {
            const moduleNumber = extractModuleNumber(sectionId);
            // Marcar módulo como visto para a barra de progresso, se não for um quiz obrigatório.
            // Para módulos com quiz, a conclusão é marcada pelo quiz.
            if (!userProgress.modules[`module${moduleNumber}`] || userProgress.modules[`module${moduleNumber}`].completed === undefined) {
                userProgress.modules[`module${moduleNumber}`] = { completed: true };
                localStorageManager('userProgress', userProgress);
            }
            console.warn(`Módulo ${moduleNumber} exibido. Conteúdo dinâmico ou quiz específico para este módulo ainda pode precisar de implementação.`);
            // TODO: Se um módulo 1-10 tiver um quiz específico, a lógica de inicialização do quiz
            // para esse módulo deve ser adicionada aqui, como:
            // if (MOCK_QUIZ_QUESTIONS_MODULES[moduleNumber]) {
            //     initializeQuiz(MOCK_QUIZ_QUESTIONS_MODULES[moduleNumber], `module${moduleNumber}`);
            // }
        }
    } else {
        console.error(`Seção com ID '${sectionId}' não encontrada.`);
    }
    updateProgressBar(); // Atualiza a barra de progresso após a navegação
    updateNavigationButtons(); // Atualiza o estado dos botões de navegação
}

/**
 * Extrai o número do módulo do ID da seção.
 * @param {string} sectionId
 * @returns {number|null}
 */
function extractModuleNumber(sectionId) {
    const match = sectionId.match(/playbook-sec-(\d+)-content-main/);
    if (match && match[1]) {
        return parseInt(match[1]);
    }
    // Módulo 11 é uma exceção por ser o quiz principal
    if (sectionId === 'playbook-sec-11-content-main') return 11;
    // Módulo 12 e 14 são seções principais mas não seguem o padrão playbook-sec-X-content-main
    if (sectionId === 'playbook-sec-12-content-main') return 12;
    if (sectionId === 'playbook-sec-14-content-main') return 14;
    return null;
}

/**
 * Atualiza o estado dos botões "Anterior" e "Próximo" com base na seção atual e progresso.
 */
function updateNavigationButtons() {
    const currentActiveSection = document.querySelector('section:not(.hidden)');
    if (!currentActiveSection) return;

    const currentSectionId = currentActiveSection.id;
    const prevBtn = currentActiveSection.querySelector('.btn-nav.prev');
    const nextBtn = currentActiveSection.querySelector('.btn-nav.next');

    // Desabilita todos por padrão
    if (prevBtn) prevBtn.disabled = true;
    if (nextBtn) nextBtn.disabled = true;

    // Lógica para botões de navegação sequencial nos módulos de conteúdo
    const currentModuleIndex = MODULE_ORDER.indexOf(currentSectionId);

    if (currentModuleIndex !== -1) {
        // Habilitar Anterior
        if (prevBtn && currentModuleIndex > 0) {
            prevBtn.disabled = false;
            // Atualiza o data-target do botão anterior
            prevBtn.setAttribute('data-target', MODULE_ORDER[currentModuleIndex - 1]);
        }

        // Habilitar Próximo
        // O botão "próximo" só é habilitado se o módulo atual estiver concluído
        // e se não for o último módulo na ordem de progressão sequencial.
        const currentModuleNumber = extractModuleNumber(currentSectionId);
        const moduleProgress = userProgress.modules[`module${currentModuleNumber}`];

        if (nextBtn && moduleProgress && moduleProgress.completed && currentModuleIndex < MODULE_ORDER.length - 1) {
            nextBtn.disabled = false;
            // Atualiza o data-target do botão próximo
            nextBtn.setAttribute('data-target', MODULE_ORDER[currentModuleIndex + 1]);
        } else if (nextBtn && currentSectionId === 'playbook-sec-10-content-main' && userProgress.modules.module10?.completed) {
            // Caso especial: Módulo 10 habilita para a Arena
            nextBtn.disabled = false;
            nextBtn.setAttribute('data-target', 'playbook-sec-arena-campeoes-main');
        }
    }

    // Gerenciar botões de navegação globais que não são "prev/next" de módulos sequenciais
    // Botões "Voltar ao Menu Principal" (para todas as seções que o utilizam)
    document.querySelectorAll('.backToMenuPrincipalBtn').forEach(btn => {
        btn.addEventListener('click', () => showSection('menu-principal-section'));
    });

    // Botões "Voltar ao Guia Estratégico" (para módulos de conteúdo)
    document.querySelectorAll('.backToManualPitStopDetalhesBtn').forEach(btn => {
        btn.addEventListener('click', () => showSection('manual-pitstop-detalhes-section'));
    });

    // Botões "Voltar à Arena" (para o quiz principal)
    document.querySelectorAll('.backToArenaCampeoesBtn').forEach(btn => {
        btn.addEventListener('click', () => showSection('playbook-sec-arena-campeoes-main'));
    });

    // Event listeners para botões .navigateToPlaybookSection (prev/next nos módulos de conteúdo)
    document.querySelectorAll('.navigateToPlaybookSection').forEach(button => {
        button.addEventListener('click', (e) => {
            const targetId = e.currentTarget.getAttribute('data-target');
            if (targetId) {
                showSection(targetId);
            }
        });
    });
}

// =====================================================================
// Funções de Acesso Inicial e Dados do Usuário (Item 10)
// =====================================================================

/**
 * Exibe um modal, aplicando uma animação de entrada.
 * @param {HTMLElement} modalElement O elemento do modal a ser exibido.
 */
function showModal(modalElement) {
    modalElement.classList.remove('hidden');
    // Força reflow para garantir que a transição CSS seja aplicada
    modalElement.offsetHeight;
    modalElement.querySelector('.modal-content').classList.remove('-translate-y-full', 'opacity-0');
    modalElement.querySelector('.modal-content').classList.add('translate-y-0', 'opacity-100');
    playSound('transition'); // Som ao abrir modal
}

/**
 * Oculta um modal, aplicando uma animação de saída.
 * @param {HTMLElement} modalElement O elemento do modal a ser ocultado.
 */
function hideModal(modalElement) {
    modalElement.querySelector('.modal-content').classList.remove('translate-y-0', 'opacity-100');
    modalElement.querySelector('.modal-content').classList.add('-translate-y-full', 'opacity-0');
    playSound('transition'); // Som ao fechar modal
    modalElement.addEventListener('transitionend', () => {
        modalElement.classList.add('hidden');
    }, { once: true });
}

/**

// =====================================================================
// Funções da Barra de Progresso Global (Item 11)
// =====================================================================

/**
 * Atualiza a barra de progresso global com base nos módulos concluídos.
 */
function updateProgressBar() {
    const completedModulesCount = Object.keys(userProgress.modules).filter(moduleId => {
        // Para módulos com quiz, verifica se estão concluídos E o score é suficiente (ou se é um módulo sem quiz)
        const moduleData = userProgress.modules[moduleId];
        if (moduleId === 'module11') { // Quiz Principal
            return moduleData.completed && moduleData.score >= QUIZ_PASS_PERCENTAGE;
        } else if (moduleData.score !== undefined) { // Módulos 1-10 com quiz
            return moduleData.completed && moduleData.score >= QUIZ_PASS_PERCENTAGE;
        } else { // Módulos 12, 14 ou outros apenas "vistos"
            return moduleData.completed;
        }
    }).length;

    // Calcular o total de módulos obrigatórios (com ou sem quiz) para o progresso.
    // Incluímos todos os módulos de conteúdo e o quiz principal.
    const totalCountableModules = Object.keys(userProgress.modules).length;

    const progressPercentage = (completedModulesCount / totalCountableModules) * 100;
    progressBarFill.style.width = `${progressPercentage}%`;
    progressBarText.textContent = `Progresso: ${completedModulesCount}/${totalCountableModules} (${Math.round(progressPercentage)}%)`;

    if (progressPercentage >= 100) {
        progressBarText.textContent = "Trilha Concluída! 🎉";
    }

    progressBarContainer.classList.remove('hidden'); // Certifica que a barra está visível
    progressBarText.classList.remove('hidden'); // Certifica que o texto está visível
}

// =====================================================================
// Funções do Quiz (Item 12)
// =====================================================================

// Mock de perguntas para o Quiz Principal (Módulo 11)
const MOCK_QUIZ_QUESTIONS_MODULE_11 = [
    {
        question: "Qual o principal diferencial da Auto Arremate® no mercado de veículos leves?",
        options: ["Vender carros apenas para frotas", "Otimização da gestão e comercialização de veículos leves, combinando tecnologia e expertise", "Focar apenas em leilões presenciais", "Não trabalhar com repassadores"],
        correctAnswer: "Otimização da gestão e comercialização de veículos leves, combinando tecnologia e expertise"
    },
    {
        question: "A Arremaq® é especializada em qual segmento?",
        options: ["Veículos de passeio", "Imóveis e terrenos", "Máquinas pesadas, agrícolas e equipamentos industriais", "Produtos eletrônicos"],
        correctAnswer: "Máquinas pesadas, agrícolas e equipamentos industriais"
    },
    {
        question: "Qual a porcentagem mínima de acerto para avançar em um quiz?",
        options: ["50%", "60%", "70%", "80%"],
        correctAnswer: "70%"
    },
    {
        question: "Qual o objetivo da Academia de Repassadores 3.0?",
        options: ["Oferecer apenas notícias do mercado", "Aprimorar habilidades e dominar ferramentas e estratégias de vendas", "Substituir o trabalho dos repassadores por IA", "Organizar eventos sociais para a equipe"],
        correctAnswer: "Aprimorar habilidades e dominar ferramentas e estratégias de vendas"
    },
    {
        question: "Por que a 'Box da Identidade' é importante para a Auto Arremate® e Arremaq®?",
        options: ["Define as cores preferidas da diretoria", "Ajuda a vender mais carros", "Garante a consistência e força da marca em todas as comunicações", "É apenas um guia de design sem impacto real nas vendas"],
        correctAnswer: "Garante a consistência e força da marca em todas as comunicações"
    }
];

// TODO: Estrutura para quizzes de módulos individuais (M1-M10), se necessário no futuro
const MOCK_QUIZ_QUESTIONS_MODULES = {
    // 'M1': [ { question: "...", options: ["...",], correctAnswer: "..." } ],
    // 'M2': [ { question: "...", options: ["...",], correctAnswer: "..." } ],
    // ...
};

/**
 * Inicializa um quiz com um conjunto de perguntas.
 * @param {Array<Object>} questions Array de objetos de pergunta.
 * @param {string} [moduleId=module11] O ID do módulo ao qual este quiz pertence (ex: 'module1', 'module11').
 */
function initializeQuiz(questions, moduleId = 'module11') {
    currentQuizData = { questions: questions, moduleId: moduleId };
    currentQuizQuestionIndex = 0;
    currentQuizScore = 0;
    quizGameoverScreen.classList.add('hidden'); // Esconde tela de game over

    loadQuestion();
    updateQuizUIState(true); // Mostra elementos do quiz, esconde resultados
}

/**
 * Carrega e exibe a pergunta atual do quiz.
 */
function loadQuestion() {
    if (currentQuizQuestionIndex < currentQuizData.questions.length) {
        const question = currentQuizData.questions[currentQuizQuestionIndex];
        quizQuestionText.textContent = question.question;
        quizQuestionCounter.textContent = `Pergunta ${currentQuizQuestionIndex + 1}/${currentQuizData.questions.length}`;
        quizOptionsContainer.innerHTML = '';
        quizFeedback.textContent = '';
        quizSubmitBtn.classList.remove('hidden');
        quizNextBtn.classList.add('hidden');
        quizRestartBtn.classList.add('hidden');

        question.options.forEach((option, index) => {
            const optionButton = document.createElement('button');
            optionButton.classList.add('quiz-option-button', 'w-full', 'py-3', 'px-4', 'rounded-lg', 'text-left', 'transition-all', 'duration-200');
            optionButton.textContent = option;
            optionButton.dataset.index = index;
            optionButton.addEventListener('click', () => selectQuizOption(optionButton));
            quizOptionsContainer.appendChild(optionButton);
        });

        startQuizTimer();
        enableQuizOptions();
    } else {
        endQuiz();
    }
}

/**
 * Seleciona uma opção de resposta do quiz.
 * @param {HTMLElement} selectedButton O botão de opção clicado.
 */
let selectedQuizOption = null;
function selectQuizOption(selectedButton) {
    playSound('click');
    if (selectedQuizOption) {
        selectedQuizOption.classList.remove('selected');
    }
    selectedButton.classList.add('selected');
    selectedQuizOption = selectedButton;
}

/**
 * Verifica a resposta do quiz.
 */
function checkAnswer() {
    if (selectedQuizOption === null) {
        quizFeedback.textContent = "Por favor, selecione uma opção.";
        quizFeedback.classList.remove('correct', 'incorrect');
        quizFeedback.classList.add('neutral');
        playSound('error');
        return;
    }

    clearInterval(quizTimerInterval); // Para o timer
    disableQuizOptions(); // Desabilita as opções após responder

    const currentQuestion = currentQuizData.questions[currentQuizQuestionIndex];
    const selectedAnswer = selectedQuizOption.textContent;

    if (selectedAnswer === currentQuestion.correctAnswer) {
        currentQuizScore++;
        quizFeedback.textContent = "Correto! ✅";
        quizFeedback.classList.remove('incorrect', 'neutral');
        quizFeedback.classList.add('correct');
        selectedQuizOption.classList.add('correct-answer');
        playSound('success');
    } else {
        quizFeedback.textContent = `Incorreto. A resposta correta era: ${currentQuestion.correctAnswer} ❌`;
        quizFeedback.classList.remove('correct', 'neutral');
        quizFeedback.classList.add('incorrect');
        selectedQuizOption.classList.add('incorrect-answer');
        // Destaca a resposta correta
        Array.from(quizOptionsContainer.children).forEach(option => {
            if (option.textContent === currentQuestion.correctAnswer) {
                option.classList.add('correct-answer');
            }
        });
        playSound('error');
    }

    quizSubmitBtn.classList.add('hidden');
    if (currentQuizQuestionIndex < currentQuizData.questions.length - 1) {
        quizNextBtn.classList.remove('hidden');
    } else {
        quizRestartBtn.classList.remove('hidden'); // Mostrar reiniciar se for a última pergunta
        // Se for o último módulo/quiz, processar resultado final
        setTimeout(() => endQuiz(), 1500); // Dar um tempo para o feedback visual
    }
}

/**
 * Avança para a próxima pergunta do quiz.
 */
function nextQuestion() {
    currentQuizQuestionIndex++;
    selectedQuizOption = null; // Resetar seleção
    loadQuestion();
    playSound('transition');
}

/**
 * Finaliza o quiz, calcula o resultado e atualiza o progresso do usuário.
 */
function endQuiz() {
    clearInterval(quizTimerInterval);
    updateQuizUIState(false); // Esconde elementos do quiz, mostra resultados

    const percentageScore = (currentQuizScore / currentQuizData.questions.length) * 100;
    const passed = percentageScore >= QUIZ_PASS_PERCENTAGE;

    // Atualiza o progresso do módulo no localStorage
    if (!userProgress.modules) { // Garante que a estrutura exista
        userProgress.modules = {};
    }
    userProgress.modules[currentQuizData.moduleId] = {
        completed: passed,
        score: percentageScore
    };
    localStorageManager('userProgress', userProgress);

    // Atualiza o placar de líderes (apenas para o quiz principal)
    if (currentQuizData.moduleId === 'module11') {
        const playerName = currentUser ? currentUser.fullName : "Jogador Anônimo";
        userProgress.leaderboard.push({ name: playerName, score: currentQuizScore, totalQuestions: currentQuizData.questions.length, percentage: percentageScore, date: new Date().toISOString() });
        // Manter o leaderboard ordenado e limitado (ex: top 10)
        userProgress.leaderboard.sort((a, b) => b.score - a.score || b.percentage - a.percentage);
        userProgress.leaderboard = userProgress.leaderboard.slice(0, 10);
        localStorageManager('userProgress', userProgress);
        populateLeaderboard();
    }

    // Exibe a tela de game over
    quizGameoverScreen.classList.remove('hidden');
    quizGameoverTitle.textContent = passed ? "Parabéns!" : "Tente Novamente!";
    quizGameoverMessage.textContent = passed
        ? `Você concluiu o quiz com ${percentageScore.toFixed(0)}% de acerto e pode prosseguir!`
        : `Você acertou ${percentageScore.toFixed(0)}%. Tente novamente para alcançar os ${QUIZ_PASS_PERCENTAGE}% necessários.`;

    quizFinalScoreDisplay.textContent = `Sua pontuação: ${currentQuizScore} de ${currentQuizData.questions.length}`;

    // Habilitar/desabilitar botões de acordo
    if (passed) {
        quizPlayAgainBtn.classList.remove('hidden');
        quizPlayAgainBtn.textContent = 'Revisar Quiz'; // Pode jogar novamente para revisar
        // O botão de voltar à arena ou ao próximo módulo se for o caso
        quizBackToArenaBtn.classList.remove('hidden');
    } else {
        quizPlayAgainBtn.classList.remove('hidden');
        quizPlayAgainBtn.textContent = 'Tentar Novamente';
        quizBackToArenaBtn.classList.remove('hidden');
    }

    updateProgressBar();
    updateNavigationButtons();

/**
 * Reinicia o quiz.
 */
function restartQuiz() {
    currentQuizQuestionIndex = 0;
    currentQuizScore = 0;
    selectedQuizOption = null;
    loadQuestion();
    updateQuizUIState(true);
    playSound('transition');
}

/**
 * Inicia o timer do quiz para a pergunta atual.
 */
function startQuizTimer() {
    clearInterval(quizTimerInterval); // Limpa qualquer timer anterior
    quizTimeLeft = QUIZ_QUESTION_TIME;
    updateQuizTimerDisplay(); // Atualiza display imediatamente

    const circleCircumference = 2 * Math.PI * 36; // C = 2 * PI * r (r=36 para nosso SVG)
    quizTimerFill.style.strokeDasharray = `${circleCircumference}`;

    quizTimerInterval = setInterval(() => {
        quizTimeLeft--;
        updateQuizTimerDisplay();
        const dashOffset = circleCircumference * (quizTimeLeft / QUIZ_QUESTION_TIME);
        quizTimerFill.style.strokeDashoffset = dashOffset;

        if (quizTimeLeft <= 5) {
            quizTimerText.classList.add('warning'); // Adiciona classe de aviso/animação
            playSound('vibration-soft'); // Som de aviso
        } else {
            quizTimerText.classList.remove('warning');
        }

        if (quizTimeLeft <= 0) {
            clearInterval(quizTimerInterval);
            // Simula uma resposta incorreta ou tempo esgotado
            selectedQuizOption = null; // Nenhuma opção selecionada se o tempo acabar
            checkAnswer();
        }
    }, 1000);
}

/**
 * Atualiza o texto do timer do quiz.
 */
function updateQuizTimerDisplay() {
    quizTimerText.textContent = quizTimeLeft;
}

/**
 * Habilita os botões de opção do quiz.
 */
function enableQuizOptions() {
    Array.from(quizOptionsContainer.children).forEach(option => {
        option.disabled = false;
        option.classList.remove('selected', 'correct-answer', 'incorrect-answer');
        option.style.pointerEvents = 'auto'; // Reativa eventos de clique
    });
}

/**
 * Desabilita os botões de opção do quiz.
 */
function disableQuizOptions() {
    Array.from(quizOptionsContainer.children).forEach(option => {
        option.disabled = true;
        option.style.pointerEvents = 'none'; // Desativa eventos de clique
    });
}

/**
 * Atualiza o estado visível da UI do quiz (pergunta vs. resultado final).
 * @param {boolean} showQuizArea Se true, mostra a área da pergunta; se false, mostra a tela de game over.
 */
function updateQuizUIState(showQuizArea) {
    const quizArea = document.getElementById('quiz-game-area-main'); // Refere-se ao div que contém a pergunta e opções
    if (showQuizArea) {
        quizArea.classList.remove('hidden');
        quizGameoverScreen.classList.add('hidden');
    } else {
        quizArea.classList.add('hidden');
        quizGameoverScreen.classList.remove('hidden');
    }
}

/**
 * Popula o placar de líderes (leaderboard) na tela de Game Over do quiz.
 */
function populateLeaderboard() {
    quizLeaderboardList.innerHTML = ''; // Limpa a lista existente

    if (userProgress.leaderboard && userProgress.leaderboard.length > 0) {
        userProgress.leaderboard.forEach((record, index) => {
            const listItem = document.createElement('li');
            listItem.classList.add('quiz-leaderboard-item');
            listItem.innerHTML = `
                <span class="player-rank">#${index + 1}</span>
                <span class="player-name">${record.name}</span>
                <span class="player-score">${record.score} / ${record.totalQuestions} (${record.percentage.toFixed(0)}%)</span>
            `;
            quizLeaderboardList.appendChild(listItem);
        });
    } else {
        quizLeaderboardList.innerHTML = '<li class="text-center text-gray-500">Nenhum recorde ainda. Seja o primeiro!</li>';
    }
}

// =====================================================================
// Funções de Controle de Progresso e Certificado (Itens 13, 14, 15)
// =====================================================================


// =====================================================================
// Funções de Acessibilidade (Item 17)
// =====================================================================

/**
 * Obtém o tamanho atual da fonte do elemento HTML raiz em porcentagem.
 * @returns {number} O tamanho da fonte atual em porcentagem.
 */
function getCurrentHtmlFontSizePercent() {
    const currentSizePx = parseFloat(window.getComputedStyle(htmlElement).fontSize);
    // Assumimos que o tamanho de fonte padrão do navegador é 16px (1rem)
    const browserBaseSizePx = 16;
    return (currentSizePx / browserBaseSizePx) * 100;
}

/**
 * Ajusta o tamanho da fonte do documento.
 * @param {number} change Valor de mudança (positivo para aumentar, negativo para diminuir).
 */
function adjustFontSize(change) {
    playSound('click');
    let currentPercent = getCurrentHtmlFontSizePercent();
    let newPercent = currentPercent + change;

    newPercent = Math.max(MIN_HTML_FONT_PERCENT, Math.min(newPercent, MAX_HTML_FONT_PERCENT));

    htmlElement.style.fontSize = `${newPercent}%`;
    localStorageManager('fontSize', newPercent); // Salva a preferência de fonte
}

/**
 * Lê o conteúdo visível da página em voz alta.
 * @param {HTMLElement} contentContainer O elemento que contém o conteúdo principal a ser lido.
 * @param {HTMLElement} readButton O botão de leitura para atualizar seu ícone.
 */
function readPageContent(contentContainer, readButton) {
    if (!speechSynth) {
        console.warn("Web Speech API (SpeechSynthesis) não é suportada neste navegador.");
        // Usar uma modal customizada em vez de alert
        // showAlertModal("A leitura em voz alta não é suportada no seu navegador.");
        readButton.style.display = 'none'; // Oculta o botão se a API não for suportada
        return;
    }

    if (isSpeaking) {
        speechSynth.cancel(); // Para a fala atual
        return;
    }

    if (!contentContainer) {
        console.error("Container de conteúdo para leitura não encontrado.");
        // showAlertModal("Container de conteúdo para leitura não encontrado.");
        return;
    }

    let textToRead = "";
    // Seletores de elementos que devem ser lidos, excluindo scripts, estilos e elementos ocultos
    const selectorsToRead = 'h1, h2, h3, h4, h5, h6, p, li, strong, span.sentence-emoji + span, .card-base-title, .card-base-description, .highlight-box-base p, .interactive-summary strong, .interactive-content p';

    // Coleta o texto de todos os elementos visíveis e relevantes dentro do container
    Array.from(contentContainer.querySelectorAll(selectorsToRead)).forEach(el => {
        // Verifica se o elemento ou seu pai imediato não está oculto por `display: none` ou `visibility: hidden`
        const style = window.getComputedStyle(el);
        const parentStyle = el.parentElement ? window.getComputedStyle(el.parentElement) : null;

        if (el.tagName !== 'SCRIPT' && el.tagName !== 'STYLE' &&
            style.display !== 'none' && style.visibility !== 'hidden' &&
            (!parentStyle || (parentStyle.display !== 'none' && parentStyle.visibility !== 'hidden'))) {
            
            // Substitui <br> por espaço para leitura contínua e remove espaços extras
            textToRead += el.textContent.replace(/<br\s*\/?>/gi, ' ').trim() + ". ";
        }
    });

    if (textToRead.trim() === "") {
        console.warn("Nenhum texto principal encontrado para leitura na seção atual.");
        // showAlertModal("Nenhum texto principal encontrado para ler nesta seção.");
        return;
    }

    currentUtterance = new SpeechSynthesisUtterance(textToRead.replace(/\s+/g, ' ').trim());
    currentUtterance.lang = 'pt-BR'; // Define o idioma para português do Brasil

    currentUtterance.onstart = () => {
        isSpeaking = true;
        readButton.innerHTML = '<i class="fas fa-stop-circle"></i>'; // Ícone de parar
        readButton.setAttribute('aria-label', 'Parar leitura');
        readButton.title = 'Parar Leitura';
        playSound('transition'); // Feedback sonoro de início de leitura
    };

    currentUtterance.onend = () => {
        isSpeaking = false;
        readButton.innerHTML = '<i class="fas fa-volume-up"></i>'; // Ícone de ler
        readButton.setAttribute('aria-label', 'Ler página em voz alta');
        readButton.title = 'Ler Página';
        currentUtterance = null;
    };

    currentUtterance.onerror = (event) => {
        console.error('Erro na síntese de voz:', event.error);
        isSpeaking = false;
        readButton.innerHTML = '<i class="fas fa-volume-up"></i>';
        readButton.setAttribute('aria-label', 'Ler página em voz alta');
        readButton.title = 'Ler Página';
        // showAlertModal("Ocorreu um erro ao tentar ler a página. Por favor, tente novamente.");
        currentUtterance = null;
    };

    speechSynth.speak(currentUtterance);
}

/**
 * Inicializa os controles de acessibilidade.
 */
function initializeAccessibilityControls() {
    // Carrega o tamanho da fonte salvo
    const savedFontSize = localStorageManager('fontSize');
    if (savedFontSize) {
        htmlElement.style.fontSize = `${savedFontSize}%`;
    }

    if (increaseFontBtn) {
        increaseFontBtn.addEventListener('click', () => adjustFontSize(FONT_STEP_PERCENT));
    }
    if (decreaseFontBtn) {
        decreaseFontBtn.addEventListener('click', () => adjustFontSize(-FONT_STEP_PERCENT));
    }
    if (readPageBtn) {
        if (!window.speechSynthesis) {
            readPageBtn.style.display = 'none'; // Oculta se a API não for suportada
        } else {
            readPageBtn.addEventListener('click', () => {
                // Obtém a seção atualmente visível para ler seu conteúdo
                const currentContentContainer = document.querySelector('section:not(.hidden)');
                if (currentContentContainer) {
                    readPageContent(currentContentContainer, readPageBtn);
                } else {
                    console.warn("Nenhuma seção visível para ler o conteúdo.");
                }
            });
        }
    }
}

// =====================================================================
// Funções de Gerenciamento de Tema
// =====================================================================

/**
 * Aplica o tema (claro ou escuro) ao documento HTML.
 * Atualiza o atributo 'data-theme' do html e o ícone do botão de alternância.
 * @param {string} theme O tema a ser aplicado ('light' ou 'dark').
 * @param {HTMLElement} [toggleButton=null] Opcional: o botão de alternância de tema para atualizar o ícone.
 */
function applyTheme(theme, toggleButton = null) {
    htmlElement.setAttribute('data-theme', theme);

    if (toggleButton) {
        const moonIcon = '<i class="fas fa-moon"></i>';
        const sunIcon = '<i class="fas fa-sun"></i>';
        toggleButton.innerHTML = theme === 'dark' ? sunIcon : moonIcon;
    }
    // Adiciona uma classe para transições visuais suaves do body no tema
    document.body.classList.add('theme-transition-active');
    setTimeout(() => {
        document.body.classList.remove('theme-transition-active');
    }, 500); // Remove a classe após a duração da transição CSS
}

/**
 * Inicializa o gerenciador de temas.
 * Carrega o tema salvo no localStorage ou detecta a preferência do sistema.
 * Configura o event listener para o botão de alternância de tema.
 */
function initializeThemeManager() {
    // Carrega o tema salvo no localStorage
    let savedTheme = localStorageManager('theme');

    // Se não houver tema salvo, detecta a preferência do sistema
    if (!savedTheme) {
        savedTheme = window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
    }

    // Aplica o tema inicial
    applyTheme(savedTheme, themeToggleBtn);

    // Adiciona o event listener ao botão de alternância
    if (themeToggleBtn) {
        themeToggleBtn.addEventListener('click', () => {
            const currentTheme = htmlElement.getAttribute('data-theme');
            const newTheme = currentTheme === 'dark' ? 'light' : 'dark';

            applyTheme(newTheme, themeToggleBtn);
            localStorageManager('theme', newTheme); // Salva a nova preferência no localStorage
        });
    }
}

// =====================================================================
// Mocks de Dados (para Módulos e Quizzes)
// =====================================================================

// Mocks para o índice do Playbook (Manual do Pit Stop)
const PLAYBOOK_MODULES_DATA = [
    { id: 'playbook-sec-1-content-main', title: 'Nossa Pista de Decolagem', subtitle: 'História, Valores e a Força da Equipe', emoji: '🚀', iconClass: 'fas fa-flag' },
    { id: 'playbook-sec-2-content-main', title: 'Auto Arremate na Pole Position', subtitle: 'Dominando o Universo dos Veículos Leves', emoji: '🚗', iconClass: 'fas fa-car' },
    { id: 'playbook-sec-3-content-main', title: 'Arremaq', subtitle: 'A Força Bruta dos Gigantes do Agro e Construção', emoji: '🚜', iconClass: 'fas fa-tractor' },
    { id: 'playbook-sec-4-content-main', title: 'Mapeando os Campeões', subtitle: 'Nossos Clientes Ideais (ICPs & Personas)', emoji: '🎯', iconClass: 'fas fa-bullseye' },
    { id: 'playbook-sec-5-content-main', title: 'A Jornada do Cliente Vencedor', subtitle: 'Auto Arremate & Arremaq', emoji: '📊', iconClass: 'fas fa-chart-line' },
    { id: 'playbook-sec-6-content-main', title: 'Aceleração Tática Total', subtitle: 'Estratégias de Qualificação, Persuasão e Cadências', emoji: '⚡', iconClass: 'fas fa-tachometer-alt' },
    { id: 'playbook-sec-7-content-main', title: 'A Arte da Comunicação Estratégica', subtitle: 'Modelos que Convertem!', emoji: '✍️', iconClass: 'fas fa-comments' },
    { id: 'playbook-sec-8-content-main', title: 'Dicionário dos Mestres da Pista', subtitle: 'O Glossário Auto Arremate & Arremaq', emoji: '📖', iconClass: 'fas fa-book' },
    { id: 'playbook-sec-9-content-main', title: 'Evolução Contínua', subtitle: 'Nosso Playbook em Constante Aperfeiçoamento', emoji: '📈', iconClass: 'fas fa-sync-alt' },
    { id: 'playbook-sec-10-content-main', title: 'Central de Comando (Contato e Suporte)', subtitle: 'Seu Rádio Direto com a Equipe!', emoji: '📞', iconClass: 'fas fa-headset' },
    // Módulos que não são parte da progressão sequencial 1-10, mas aparecem no menu principal
    { id: 'playbook-sec-12-content-main', title: 'Box da Identidade Auto Arremate', subtitle: 'Cores e o DNA da Nossa Escuderia Vencedora!', emoji: '🎨', iconClass: 'fas fa-palette' },
    { id: 'playbook-sec-14-content-main', title: 'Academia de Repassadores 3.0', subtitle: 'Turbine Seu Talento para a Vitória!', emoji: '⛽', iconClass: 'fas fa-graduation-cap' },
    { id: 'playbook-sec-11-content-main', title: 'Desafio dos Campeões', subtitle: 'Teste Seu Conhecimento Estratégico!', emoji: '🏆', iconClass: 'fas fa-medal' }, // Quiz principal

    // TODO: Adicionar dados para outras seções dinâmicas como as ferramentas de IA do M14
];


// =====================================================================
// Inicialização do Portal
// =====================================================================

document.addEventListener('DOMContentLoaded', () => {
    // Inicializa AOS (Animate On Scroll)
    if (window.AOS) {
        AOS.init({
            duration: 1200,
            once: true, // Se a animação deve acontecer apenas uma vez ao rolar para baixo
            mirror: false, // Se a animação deve acontecer de novo ao rolar para cima
        });
    }

    // Inicializa gerenciadores
    initializeAccessibilityControls();
    initializeThemeManager();
    setupNavigationEvents(); // Configura todos os listeners de navegação
    updateProgressBar(); // Atualiza a barra de progresso no carregamento inicial
    // Garante que a capa seja exibida ao carregar a página
    showSection('capa-section');
});



// --- Item 16: Lógica de Navegação --- (Event Listeners Globais)
function setupNavigationEvents() {
    btnIniciarCapa.addEventListener('click', () => {
        playSound('click');
        showSection('menu-principal-section');
    });
    // Botões do menu principal
    openManualPitStopBtn.addEventListener('click', () => showSection('manual-pitstop-detalhes-section'));
    openArenaCampeoesBtn.addEventListener('click', () => showSection('playbook-sec-arena-campeoes-main'));
    openBoxIdentidadeBtn.addEventListener('click', () => showSection('playbook-sec-12-content-main'));
    openAcademiaRepassadoresBtn.addEventListener('click', () => showSection('playbook-sec-14-content-main'));
    backToCoverBtnMenu.addEventListener('click', () => showSection('capa-section'));

    // Botões "Voltar ao Menu Principal" (para todas as seções que o utilizam)
    document.querySelectorAll('.backToMenuPrincipalBtn').forEach(btn => {
        btn.addEventListener('click', () => showSection('menu-principal-section'));
    });

    // Botões "Voltar ao Guia Estratégico" (para módulos de conteúdo)
    document.querySelectorAll('.backToManualPitStopDetalhesBtn').forEach(btn => {
        btn.addEventListener('click', () => showSection('manual-pitstop-detalhes-section'));
    });

    // Botões "Voltar à Arena" (para o quiz principal)
    document.querySelectorAll('.backToArenaCampeoesBtn').forEach(btn => {
        btn.addEventListener('click', () => showSection('playbook-sec-arena-campeoes-main'));
    });

    // Navegação via cards do Índice da Trilha
    populatePlaybookIndex(); // Cria os cards do índice dinamicamente

    // Event listeners para botões .navigateToPlaybookSection (prev/next nos módulos de conteúdo)
    document.querySelectorAll('.navigateToPlaybookSection').forEach(button => {
        button.addEventListener('click', (e) => {
            const targetId = e.currentTarget.getAttribute('data-target');
            if (targetId) {
                showSection(targetId);
            }
        });
    });

    // Navegação para o quiz principal e jogo
    document.getElementById('openDesafioDosCampeoesBtn').addEventListener('click', () => {
        showSection('playbook-sec-11-content-main');
    });

    // Implementação básica da Academia de Repassadores - Módulo 14
    // TODO: Adicionar lógica específica para carregar ferramentas de IA.
    // Por enquanto, apenas um log.
    document.addEventListener('click', (e) => {
        if (e.target.closest('#openAcademiaRepassadoresBtn')) {
            console.log("Academia de Repassadores 3.0: Ferramentas de IA a serem carregadas dinamicamente.");
        }
    });
}

/**
 * Popula o container do índice do playbook com cards de módulos.
 * (Parte do Item 16)
 */
function populatePlaybookIndex() {
    playbookIndexContainer.innerHTML = ''; // Limpa conteúdo existente

    PLAYBOOK_MODULES_DATA.filter(module => module.id.startsWith('playbook-sec-') && module.id.endsWith('-content-main') || module.id === 'playbook-sec-12-content-main' || module.id === 'playbook-sec-14-content-main').forEach((module, index) => {
        const moduleNumber = extractModuleNumber(module.id);
        const moduleStatus = userProgress.modules[`module${moduleNumber}`];
        const isCompleted = moduleStatus ? moduleStatus.completed : false;
        const score = moduleStatus && moduleStatus.score !== undefined ? `${moduleStatus.score.toFixed(0)}%` : '';

        const card = document.createElement('div');
        card.classList.add('index-item-card', 'p-6', 'rounded-xl', 'shadow-md', 'flex', 'flex-col', 'items-center', 'text-center', 'cursor-pointer');
        if (isCompleted) {
            card.classList.add('completed');
        }

        card.innerHTML = `
            <span class="index-item-emoji text-5xl mb-4">${module.emoji}</span>
            <h3 class="index-item-title text-xl font-bold mb-2"><strong>MÓDULO ${moduleNumber}</strong><br>${module.title}</h3>
            <p class="index-item-sub text-gray-600 dark:text-gray-400 mt-auto">${module.subtitle}</p>
            ${isCompleted ? `<span class="completion-icon text-green-500"><i class="fas fa-check-circle"></i> ${score}</span>` : `<span class="completion-icon text-gray-400"><i class="fas fa-hourglass-half"></i></span>`}
        `;
        card.addEventListener('click', () => showSection(module.id));
        playbookIndexContainer.appendChild(card);
    });
}


    </script>
</body>
</html>
